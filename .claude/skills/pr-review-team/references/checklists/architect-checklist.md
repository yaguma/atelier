# Senior Architect チェックリスト

## 観点: コード品質・アーキテクチャ・SOLID原則

参照ルール: `architecture.md`, `coding-style.md`

---

## チェック項目

### 1. Feature-Based Architecture 準拠

- [ ] 機能コードは `src/features/{feature}/` に配置されているか
- [ ] `index.ts` で公開APIが適切に定義されているか
- [ ] 機能間のインポートは `index.ts` 経由か（内部モジュール直接参照なし）
- [ ] 共通コードは `src/shared/` に配置されているか
- [ ] 循環依存が発生していないか

### 2. Functional Core / Imperative Shell 分離

- [ ] `services/` 内の関数は純粋関数か（副作用なし）
- [ ] 副作用（状態変更, I/O, EventBus, DOM）はImperative Shellにあるか
- [ ] 純粋関数にランダム生成や日時取得が含まれていないか
- [ ] ビジネスロジックがシーンやUIコンポーネントに混入していないか

### 3. 型安全性

- [ ] `any` 型が使用されていないか
- [ ] `as` キャストは最小限か（必要な場合は根拠があるか）
- [ ] 戻り値の型が明示的に指定されているか
- [ ] `@ts-ignore` / `@ts-expect-error` が使用されていないか
- [ ] 配列アクセスで `undefined` の可能性が考慮されているか

### 4. 命名規則

- [ ] 変数・関数は camelCase か
- [ ] コンポーネント・クラスは PascalCase か
- [ ] 定数は UPPER_SNAKE_CASE か
- [ ] ファイル名は規則に従っているか（コンポーネント: PascalCase, その他: kebab-case）
- [ ] 意味のある名前が使われているか（略語や曖昧な名前なし）

### 5. コード構成

- [ ] 1ファイルが300行を超えていないか
- [ ] 1コンポーネント = 1ファイルの原則に従っているか
- [ ] ネストが3階層以上になっていないか（早期リターンで解消すべき）
- [ ] マジックナンバーが定数化されているか

### 6. SOLID原則

- [ ] **S**: 各クラス/関数は単一の責務を持っているか
- [ ] **O**: 拡張に開いて、修正に閉じているか
- [ ] **L**: 継承元と置換可能か
- [ ] **I**: 不要なインターフェースメソッドを強制していないか
- [ ] **D**: 具象ではなく抽象に依存しているか（DIコンテナ活用）

### 7. インポート

- [ ] パスエイリアス（`@features/`, `@shared/`, `@scenes/`）を使用しているか
- [ ] インポート順序がBiomeルールに従っているか
- [ ] 未使用インポートがないか
- [ ] 型のみのインポートは `import type` を使用しているか

---

## 重点チェックポイント

### 新規ファイル追加時
- 適切なディレクトリに配置されているか
- `index.ts` の公開APIが更新されているか

### 既存ファイル変更時
- 変更がファイルの責務に合致しているか
- 関連するテストが更新されているか

### 機能間連携の変更時
- `index.ts` 経由のインポートが維持されているか
- 新しい依存関係が循環を生んでいないか
