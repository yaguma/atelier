# TASK-0157: ã‚»ãƒ¼ãƒ–ãƒ»ãƒ­ãƒ¼ãƒ‰E2Eãƒ†ã‚¹ãƒˆ

**ã‚¿ã‚¹ã‚¯ID**: TASK-0157
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 2æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 7 - E2Eãƒ†ã‚¹ãƒˆ
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *TASK-0143ç›¸å½“*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [ğŸ“‹ overview.md](../atelier-guild-rank-overview.md)
- **Phase 5**: [ğŸ“‹ atelier-guild-rank-phase5.md](../atelier-guild-rank-phase5.md) - TASK-0143ç›¸å½“

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

ã‚²ãƒ¼ãƒ ã®è‡ªå‹•ã‚»ãƒ¼ãƒ–ã¨ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ã‚’E2Eãƒ†ã‚¹ãƒˆã§ç¢ºèªã™ã‚‹ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0153
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: ãªã—

## å®Œäº†æ¡ä»¶

- [x] ã‚ªãƒ¼ãƒˆã‚»ãƒ¼ãƒ–å‹•ä½œãƒ†ã‚¹ãƒˆï¼ˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆã€ãƒ•ã‚§ãƒ¼ã‚ºé·ç§»UIèª¿æ•´å¾…ã¡ï¼‰
- [x] ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆã€å‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰
- [x] ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿å¾©å…ƒãƒ†ã‚¹ãƒˆï¼ˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆã€ä¸€éƒ¨ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ§‹é€ èª¿æ•´å¾…ã¡ï¼‰

**æ³¨æ„**: ãƒ†ã‚¹ãƒˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¯ä½œæˆæ¸ˆã¿ã€‚ä¸€éƒ¨ãƒ†ã‚¹ãƒˆã¯ãƒ•ã‚§ãƒ¼ã‚ºé·ç§»UIã¨ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®èª¿æ•´ãŒå¿…è¦ã€‚

---

## å®Ÿè£…è©³ç´°

### 1. ã‚»ãƒ¼ãƒ–ãƒ»ãƒ­ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *åŸºæœ¬æ©Ÿèƒ½*

```typescript
// tests/e2e/save-load.spec.ts
import { test, expect } from '@playwright/test';

test.describe('ã‚»ãƒ¼ãƒ–ãƒ»ãƒ­ãƒ¼ãƒ‰', () => {
  test('ã‚²ãƒ¼ãƒ é€²è¡Œå¾Œã«ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼ã§ãã‚‹', async ({ page }) => {
    // æ–°è¦ã‚²ãƒ¼ãƒ é–‹å§‹
    await page.goto('/');
    await page.click('[data-testid="new-game-button"]');

    // å°‘ã—é€²ã‚ã‚‹
    // ... ã‚²ãƒ¼ãƒ æ“ä½œ

    // ãƒªãƒ­ãƒ¼ãƒ‰
    await page.reload();

    // ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼
    await page.click('[data-testid="continue-button"]');

    // çŠ¶æ…‹ãŒå¾©å…ƒã•ã‚Œã¦ã„ã‚‹
    await expect(page.locator('[data-testid="main-screen"]')).toBeVisible();
  });

  test('ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹', async ({ page }) => {
    // LocalStorage ã‚’ã‚¯ãƒªã‚¢
    await page.evaluate(() => localStorage.clear());
    await page.goto('/');

    await expect(page.locator('[data-testid="continue-button"]')).toBeDisabled();
  });
});
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `tests/e2e/save-load.spec.ts`

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0157` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 2é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 2é …ç›® (100%)
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›® (0%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
