# TASK-0154: ã‚·ãƒ§ãƒƒãƒ—E2Eãƒ†ã‚¹ãƒˆ

**ã‚¿ã‚¹ã‚¯ID**: TASK-0154
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 2æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 7 - E2Eãƒ†ã‚¹ãƒˆ
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *TASK-0139ç›¸å½“*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [ğŸ“‹ overview.md](../atelier-guild-rank-overview.md)
- **Phase 5**: [ğŸ“‹ atelier-guild-rank-phase5.md](../atelier-guild-rank-phase5.md) - TASK-0139ç›¸å½“

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ã§ã®å•†å“è³¼å…¥ãƒ•ãƒ­ãƒ¼ã‚’E2Eãƒ†ã‚¹ãƒˆã§ç¢ºèªã™ã‚‹ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0152
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0155

## å®Œäº†æ¡ä»¶

- [ ] ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ã¸ã®é·ç§»ãƒ†ã‚¹ãƒˆ
- [ ] å•†å“ä¸€è¦§è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
- [ ] è³¼å…¥å‡¦ç†ãƒ†ã‚¹ãƒˆ
- [ ] ã‚´ãƒ¼ãƒ«ãƒ‰æ¸›å°‘ç¢ºèªãƒ†ã‚¹ãƒˆ

---

## å®Ÿè£…è©³ç´°

### 1. ã‚·ãƒ§ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *UIä»•æ§˜å‚ç…§*

```typescript
// tests/e2e/shop.spec.ts
import { test, expect } from '@playwright/test';

test.describe('ã‚·ãƒ§ãƒƒãƒ—', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/');
    await page.click('[data-testid="new-game-button"]');
  });

  test('ã‚·ãƒ§ãƒƒãƒ—ç”»é¢ã«é·ç§»ã§ãã‚‹', async ({ page }) => {
    await page.click('[data-testid="shop-button"]');
    await expect(page.locator('[data-testid="shop-screen"]')).toBeVisible();
  });

  test('å•†å“ã‚’è³¼å…¥ã§ãã‚‹', async ({ page }) => {
    await page.click('[data-testid="shop-button"]');
    const initialGold = await page.locator('[data-testid="gold-display"]').innerText();

    await page.click('[data-testid="shop-item-0"]');
    await page.click('[data-testid="purchase-button"]');

    const newGold = await page.locator('[data-testid="gold-display"]').innerText();
    expect(parseInt(newGold)).toBeLessThan(parseInt(initialGold));
  });
});
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `tests/e2e/shop.spec.ts`

---

## å˜ä½“ãƒ†ã‚¹ãƒˆè¦ä»¶

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ã‚·ãƒ§ãƒƒãƒ—è¡¨ç¤º ğŸ”µ

å•†å“ä¸€è¦§ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: è³¼å…¥å‡¦ç† ğŸ”µ

ã‚´ãƒ¼ãƒ«ãƒ‰ãŒæ¸›å°‘ã—ã€ã‚¢ã‚¤ãƒ†ãƒ ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0154` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …

- åˆæœŸã‚´ãƒ¼ãƒ«ãƒ‰100Gã§è³¼å…¥å¯èƒ½ãªå•†å“ã‚’é¸æŠ

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 2é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 2é …ç›® (100%)
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›® (0%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
