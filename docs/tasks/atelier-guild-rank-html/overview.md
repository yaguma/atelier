# アトリエギルドランク HTML版 - 追加タスク概要

**作成日**: 2026-01-07
**ステータス**: 計画中
**追加タスク数**: 14タスク（TASK-0144 〜 TASK-0157）
**推定総工数**: 38時間（約5日）

---

## 概要

本ドキュメントは「ゲームが遊べない」問題を解消するために特定された追加タスクの一覧。
マスターデータの不整合修正、MasterDataLoaderの拡張、E2Eテストの実装を含む。

---

## 問題分析結果

### 発見された問題

| 問題 | 重要度 | 失敗テスト数 | 対応タスク |
|------|--------|------------|-----------|
| ranks.json形式不整合 | 🔴 高 | 4 | TASK-0144 |
| materials.json ID不整合 | 🔴 高 | 3 | TASK-0145 |
| gathering.json形式不整合 | 🔴 高 | 5 | TASK-0146 |
| items.json参照エラー | 🟡 中 | 1 | TASK-0149 |
| MasterDataLoader未対応 | 🟡 中 | 0 | TASK-0147 |
| DeckServiceハードコード | 🟡 中 | 0 | TASK-0148 |
| E2Eテスト未実装 | 🟠 低 | 0 | TASK-0151〜0157 |

**合計失敗テスト**: 13件 / 1011件

---

## 全体進捗

- [ ] Phase 6: バグ修正・データ整合性（0/7タスク完了）
- [ ] Phase 7: E2Eテスト（0/7タスク完了）

---

## フェーズ構成

| フェーズ | 内容 | タスク数 | 推定時間 |
|---------|------|---------|---------|
| Phase 6 | バグ修正・データ整合性 | 7タスク | 19時間 |
| Phase 7 | E2Eテスト | 7タスク | 19時間 |
| **合計** | | **14タスク** | **38時間** |

---

## Phase 6: バグ修正・データ整合性（TASK-0144 〜 TASK-0150）

**目標**: 全13件のテスト失敗を解消し、ゲームが起動・動作する状態にする

| タスクID | タスク名 | 種別 | 工数 | 依存 | 信頼性 |
|---------|---------|------|------|------|--------|
| [TASK-0144](TASK-0144.md) | ランクマスターデータの修正 | TDD | 2h | - | 🔵 |
| [TASK-0145](TASK-0145.md) | 素材マスターデータID修正 | TDD | 2h | - | 🔵 |
| [TASK-0146](TASK-0146.md) | カードマスターデータ形式の統一 | TDD | 4h | 0144,0145 | 🟡 |
| [TASK-0147](TASK-0147.md) | MasterDataLoader拡張 | TDD | 3h | 0146 | 🔵 |
| [TASK-0148](TASK-0148.md) | DeckService初期デッキ生成修正 | TDD | 3h | 0147 | 🟡 |
| [TASK-0149](TASK-0149.md) | ItemMasterテスト修正 | TDD | 1h | 0146 | 🔵 |
| [TASK-0150](TASK-0150.md) | ゲーム起動・動作確認統合テスト | TDD | 4h | 全て | 🟡 |

### 依存関係図

```
TASK-0144 ─┬─→ TASK-0146 ─→ TASK-0147 ─→ TASK-0148 ─┬─→ TASK-0150
TASK-0145 ─┘              └─→ TASK-0149 ─────────────┘
```

---

## Phase 7: E2Eテスト（TASK-0151 〜 TASK-0157）

**目標**: ブラウザでの実際のゲーム操作を自動テストで検証

| タスクID | タスク名 | 種別 | 工数 | 依存 | 信頼性 |
|---------|---------|------|------|------|--------|
| [TASK-0151](TASK-0151.md) | E2Eテスト環境構築 | DIRECT | 4h | 0150 | 🔵 |
| [TASK-0152](TASK-0152.md) | タイトル画面E2Eテスト | TDD | 2h | 0151 | 🔵 |
| [TASK-0153](TASK-0153.md) | 1ターンサイクルE2Eテスト | TDD | 4h | 0152 | 🟡 |
| [TASK-0154](TASK-0154.md) | ショップE2Eテスト | TDD | 2h | 0152 | 🔵 |
| [TASK-0155](TASK-0155.md) | 昇格試験E2Eテスト | TDD | 3h | 0153 | 🟡 |
| [TASK-0156](TASK-0156.md) | ゲームクリア・オーバーE2Eテスト | TDD | 2h | 0155 | 🟡 |
| [TASK-0157](TASK-0157.md) | セーブ・ロードE2Eテスト | TDD | 2h | 0153 | 🔵 |

### 依存関係図

```
TASK-0151 ─→ TASK-0152 ─┬─→ TASK-0153 ─┬─→ TASK-0155 ─→ TASK-0156
                        │              └─→ TASK-0157
                        └─→ TASK-0154
```

---

## 信頼性レベルサマリー

### Phase 6

- 🔵 **青信号**: 4タスク (57%)
- 🟡 **黄信号**: 3タスク (43%)
- 🔴 **赤信号**: 0タスク (0%)

### Phase 7

- 🔵 **青信号**: 4タスク (57%)
- 🟡 **黄信号**: 3タスク (43%)
- 🔴 **赤信号**: 0タスク (0%)

### 全体

- **総タスク数**: 14タスク
- 🔵 **青信号**: 8タスク (57%)
- 🟡 **黄信号**: 6タスク (43%)
- 🔴 **赤信号**: 0タスク (0%)

**品質評価**: 高品質（大部分が明確な要件に基づく）

---

## クリティカルパス

```
TASK-0144 → TASK-0146 → TASK-0147 → TASK-0148 → TASK-0150 → TASK-0151 → TASK-0152 → TASK-0153 → TASK-0155 → TASK-0156
```

**クリティカルパス工数**: 32時間

---

## 推奨実行順序

### 優先度: 高（ゲームを遊べるようにする）

1. **TASK-0144**: ランクマスターデータ修正（テスト4件修正）
2. **TASK-0145**: 素材ID修正（テスト3件修正）
3. **TASK-0146**: カード形式統一（テスト5件修正）
4. **TASK-0149**: ItemMasterテスト修正（テスト1件修正）
5. **TASK-0150**: 統合テスト・動作確認

### 優先度: 中（機能拡張）

6. **TASK-0147**: MasterDataLoader拡張
7. **TASK-0148**: DeckService初期デッキ生成修正

### 優先度: 低（品質保証）

8. **TASK-0151〜0157**: E2Eテスト実装

---

## タスク番号管理

| 項目 | 値 |
|------|-----|
| **既存タスク番号** | TASK-0072 〜 TASK-0143 |
| **追加タスク番号** | TASK-0144 〜 TASK-0157 |
| **次回開始番号** | TASK-0158 |

---

## 関連文書

- **メイン概要**: [📋 atelier-guild-rank-overview.md](../atelier-guild-rank-overview.md)
- **Phase 1-5**: [📁 ../](../)
- **要件定義**: [📋 requirements.md](../../spec/atelier-guild-rank/requirements.md)
- **設計文書**: [📐 architecture.md](../../design/atelier-guild-rank/architecture.md)

---

## 次のステップ

タスクを実装するには:
- 全タスク順番に実装: `/tsumiki:kairo-implement`
- 特定タスクを実装: `/tsumiki:kairo-implement TASK-0144`

**推奨**: まずTASK-0144〜0146を実装してテストを通過させ、ゲームが遊べる状態にする。

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|---------|
| 2026-01-07 | 1.0.0 | 初版作成 |
