# TASK-0146: ã‚«ãƒ¼ãƒ‰ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿å½¢å¼ã®çµ±ä¸€

**ã‚¿ã‚¹ã‚¯ID**: TASK-0146
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 4æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 6 - ãƒã‚°ä¿®æ­£ãƒ»ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ *è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å½±éŸ¿*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [ğŸ“‹ overview.md](../atelier-guild-rank-overview.md)
- **è¦ä»¶å®šç¾©**: [ğŸ“‹ requirements.md](../../spec/atelier-guild-rank/requirements.md)
- **è¨­è¨ˆæ–‡æ›¸**: [ğŸ“ architecture.md](../../design/atelier-guild-rank/architecture.md)

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

gathering.jsonã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿å½¢å¼ï¼ˆ`baseCost`, `materialPool`ï¼‰ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆ`cost`, `materials`ï¼‰ã®ä¸æ•´åˆã‚’è§£æ¶ˆã™ã‚‹ã€‚ãƒ†ã‚¹ãƒˆã¾ãŸã¯ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ã©ã¡ã‚‰ã‹ã‚’ä¿®æ­£ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0144, TASK-0145
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0147

## å®Œäº†æ¡ä»¶

- [ ] CardMaster.test.tsã®5ä»¶ã®ãƒ†ã‚¹ãƒˆãŒé€šé
- [ ] gathering.jsonã®å½¢å¼ãŒIGatheringCardã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨æ•´åˆ
- [ ] ã‚²ãƒ¼ãƒ ã§ãƒ‰ãƒ©ãƒ•ãƒˆæ¡å–ãŒæ­£å¸¸å‹•ä½œ

---

## å®Ÿè£…è©³ç´°

### 1. å½¢å¼ã®é¸æŠã¨çµ±ä¸€ ğŸŸ¡

**ä¿¡é ¼æ€§**: ğŸŸ¡ *è¨­è¨ˆåˆ¤æ–­ãŒå¿…è¦*

**é¸æŠè‚¢A**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«åˆã‚ã›ã‚‹
- gathering.jsonã®å½¢å¼ã‚’å¤‰æ›´
- `baseCost` â†’ `cost`
- `materialPool` â†’ `materials`ï¼ˆé…åˆ—å½¢å¼ã‚’å¤‰æ›ï¼‰

**é¸æŠè‚¢B**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãƒ†ã‚¹ãƒˆã‚’ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã«åˆã‚ã›ã‚‹
- IGatheringCardã®å®šç¾©ã‚’å¤‰æ›´
- CardMaster.test.tsã®æœŸå¾…å€¤ã‚’å¤‰æ›´

**æ¨å¥¨**: é¸æŠè‚¢Aï¼ˆãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«åˆã‚ã›ã‚‹ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã¨å½±éŸ¿ç¯„å›²ãŒå¤§ãã„
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ–¹ãŒå¤‰æ›´ãŒå®¹æ˜“

### 2. gathering.jsonã®å¤‰æ› ğŸŸ¡

**ä¿¡é ¼æ€§**: ğŸŸ¡ *å½¢å¼å¤‰æ›ãŒå¿…è¦*

**ç¾åœ¨ã®å½¢å¼**:
```json
{
  "id": "gathering_backyard",
  "baseCost": 0,
  "materialPool": ["weed", "water"]
}
```

**å¤‰æ›å¾Œã®å½¢å¼**:
```json
{
  "id": "gathering_backyard",
  "cost": 0,
  "materials": [
    { "materialId": "weed", "quantity": 1, "probability": 0.9 },
    { "materialId": "water", "quantity": 1, "probability": 0.9 }
  ]
}
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `atelier-guild-rank-html/data/master/cards/gathering.json`

### 3. ãƒ‰ãƒ©ãƒ•ãƒˆæ¡å–ãƒ­ã‚¸ãƒƒã‚¯ã®ç¢ºèª ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *æ—¢å­˜å®Ÿè£…å‚ç…§*

ç¾åœ¨ã®ãƒ‰ãƒ©ãƒ•ãƒˆæ¡å–ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆDraftGatheringServiceï¼‰ãŒä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’ç¢ºèªã—ã€æ•´åˆæ€§ã‚’æ‹…ä¿ã€‚

---

## å˜ä½“ãƒ†ã‚¹ãƒˆè¦ä»¶

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *CardMaster.test.ts:18-30ã‚ˆã‚Š*

- typeãŒGATHERINGã§ã‚ã‚‹ã“ã¨
- costãŒæ•°å€¤ã§ã‚ã‚‹ã“ã¨
- materialsãŒé…åˆ—ã§ã‚ã‚‹ã“ã¨

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: å€¤ã®ç¯„å›²æ¤œè¨¼ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *CardMaster.test.ts:33-70ã‚ˆã‚Š*

- è¡Œå‹•ã‚³ã‚¹ãƒˆãŒ0ã€œ3ã®ç¯„å›²
- ç²å¾—ç¢ºç‡ãŒ0ã€œ1ã®ç¯„å›²
- ç´ æã®å“è³ªãŒæœ‰åŠ¹ãªå€¤

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0146` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …

- ãƒ‰ãƒ©ãƒ•ãƒˆæ¡å–ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®å½±éŸ¿ã‚’ç¢ºèª
- æ—¢å­˜ã®ã‚²ãƒ¼ãƒ æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 5é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 3é …ç›® (60%)
- ğŸŸ¡ **é»„ä¿¡å·**: 2é …ç›® (40%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: è¦æ”¹å–„ï¼ˆè¨­è¨ˆåˆ¤æ–­ãŒå¿…è¦ï¼‰
