# TASK-0025: ç´å“ãƒ•ã‚§ãƒ¼ã‚ºUI

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ä½œæˆæ—¥**: 2026-01-16
**ãƒ•ã‚§ãƒ¼ã‚º**: 3 - UIå±¤
**è¦‹ç©æ™‚é–“**: 4æ™‚é–“ï¼ˆåŠæ—¥ï¼‰
**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0020, TASK-0013, TASK-0014

---

## 1. ã‚¿ã‚¹ã‚¯æ¦‚è¦

| é …ç›® | å€¤ |
|------|-----|
| **ã‚¿ã‚¹ã‚¯ID** | TASK-0025 |
| **ã‚¿ã‚¹ã‚¯å** | ç´å“ãƒ•ã‚§ãƒ¼ã‚ºUI |
| **ã‚«ãƒ†ã‚´ãƒª** | UIå±¤ |
| **å„ªå…ˆåº¦** | é«˜ |
| **æ‹…å½“ãƒ¬ã‚¤ãƒ¤ãƒ¼** | Presentation |

### ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«

- ğŸ”µ **é’ä¿¡å·**: è¨­è¨ˆæ–‡æ›¸ã«è¨˜è¼‰
- ğŸŸ¡ **é»„ä¿¡å·**: è¨­è¨ˆæ–‡æ›¸ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬
- ğŸ”´ **èµ¤ä¿¡å·**: è¨­è¨ˆæ–‡æ›¸ã«ãªã„æ¨æ¸¬

---

## 2. å®Ÿè£…å†…å®¹

### 2.1 ç´å“ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ğŸ”µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“¦ ç´å“ãƒ•ã‚§ãƒ¼ã‚º                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ‘¤ æ‘äººã®ä¾é ¼                              æœŸé™: ã‚ã¨2æ—¥   â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ å¿…è¦: å›å¾©è–¬Ã—1 (Cå“è³ªä»¥ä¸Š)                                  â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ ç´å“ã‚¢ã‚¤ãƒ†ãƒ :                                               â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚â”‚
â”‚  â”‚ â”‚ å›å¾©è–¬ (B)  â”‚  â† ãƒ‰ãƒ­ãƒƒãƒ—                                 â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ å ±é…¬: 50G + è²¢çŒ®åº¦ 15 (å“è³ªãƒœãƒ¼ãƒŠã‚¹+5)                      â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚                                           [ç´å“ã™ã‚‹]        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  æ‰€æŒã‚¢ã‚¤ãƒ†ãƒ : [å›å¾©è–¬B] [å›å¾©è–¬C] [çˆ†å¼¾A]                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 DeliveryPhaseUI ğŸ”µ

`src/presentation/ui/phases/DeliveryPhaseUI.ts`:

```typescript
export class DeliveryPhaseUI extends BaseComponent {
  private questPanels: DeliveryQuestPanel[] = [];
  private itemInventory!: ItemInventoryUI;

  constructor(
    scene: Phaser.Scene,
    private questService: IQuestService,
    private inventoryService: IInventoryService,
    private contributionCalculator: ContributionCalculator,
  ) {
    super(scene, 160, 80);
  }

  create(): void {
    this.createTitle();
    this.createQuestPanels();
    this.createItemInventory();
  }

  private createQuestPanels(): void {
    const acceptedQuests = this.questService.getAcceptedQuests();

    acceptedQuests.forEach((quest, index) => {
      const panel = new DeliveryQuestPanel(this.scene, {
        quest,
        x: 200,
        y: 120 + index * 220,
        onDeliver: (items) => this.onDeliver(quest, items),
        contributionCalculator: this.contributionCalculator,
      });
      panel.create();
      this.questPanels.push(panel);
    });
  }

  private onDeliver(quest: Quest, items: ItemInstance[]): void {
    const result = this.questService.deliver(quest.id, items);

    if (result.success) {
      this.showDeliveryResult(result);
      this.updateQuestPanels();
    }
  }

  private showDeliveryResult(result: DeliveryResult): void {
    // ç´å“æˆåŠŸæ¼”å‡º
    // å ±é…¬è¡¨ç¤º
    // è²¢çŒ®åº¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  }
}
```

### 2.3 ç´å“ä¾é ¼ãƒ‘ãƒãƒ« ğŸ”µ

`src/presentation/ui/components/DeliveryQuestPanel.ts`:

- ä¾é ¼å†…å®¹è¡¨ç¤º
- ã‚¢ã‚¤ãƒ†ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³
- å ±é…¬ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå“è³ªãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ï¼‰
- ç´å“ãƒœã‚¿ãƒ³

### 2.4 å ±é…¬æ¼”å‡º ğŸŸ¡

- ã‚´ãƒ¼ãƒ«ãƒ‰ç²å¾—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- è²¢çŒ®åº¦ã‚²ãƒ¼ã‚¸å¢—åŠ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚³ãƒ³ãƒœè¡¨ç¤º

---

## 3. å—ã‘å…¥ã‚ŒåŸºæº–

### 3.1 å¿…é ˆæ¡ä»¶ ğŸ”µ

- [ ] å—æ³¨æ¸ˆã¿ä¾é ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¢ã‚¤ãƒ†ãƒ ã‚’é…ç½®ã§ãã‚‹
- [ ] å ±é…¬ãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã•ã‚Œã‚‹
- [ ] ç´å“ãŒå®Ÿè¡Œã§ãã‚‹

### 3.2 æ¨å¥¨æ¡ä»¶ ğŸŸ¡

- [ ] å“è³ªãƒœãƒ¼ãƒŠã‚¹è¡¨ç¤º
- [ ] ç´å“æ¼”å‡º

---

## 4. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 4.1 çµ±åˆãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | æœŸå¾…çµæœ |
|---------|----------|----------|
| T-0025-01 | ä¾é ¼è¡¨ç¤º | å—æ³¨æ¸ˆã¿ä¾é ¼è¡¨ç¤º |
| T-0025-02 | ã‚¢ã‚¤ãƒ†ãƒ é…ç½® | ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ã«é…ç½® |
| T-0025-03 | å ±é…¬è¨ˆç®— | å“è³ªãƒœãƒ¼ãƒŠã‚¹åæ˜  |
| T-0025-04 | ç´å“å®Ÿè¡Œ | å ±é…¬ç²å¾—ã€ä¾é ¼å®Œäº† |

---

## 5. æˆæœç‰©

| æˆæœç‰© | ãƒ‘ã‚¹ |
|--------|------|
| ãƒ•ã‚§ãƒ¼ã‚ºUI | `/src/presentation/ui/phases/DeliveryPhaseUI.ts` |
| ç´å“ãƒ‘ãƒãƒ« | `/src/presentation/ui/components/DeliveryQuestPanel.ts` |

---

## é–¢é€£æ–‡æ›¸

- **ç´å“ãƒ•ã‚§ãƒ¼ã‚ºè¨­è¨ˆ**: [../../design/atelier-guild-rank/ui-design/screens/delivery.md](../../design/atelier-guild-rank/ui-design/screens/delivery.md)

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|----------|---------|
| 2026-01-16 | 1.0.0 | åˆç‰ˆä½œæˆ |
