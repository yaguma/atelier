# TASK-0026: ショップ画面・昇格試験画面

**バージョン**: 1.0.0
**作成日**: 2026-01-16
**フェーズ**: 3 - UI層
**見積時間**: 4時間（半日）
**依存タスク**: TASK-0018, TASK-0016

---

## 1. タスク概要

| 項目 | 値 |
|------|-----|
| **タスクID** | TASK-0026 |
| **タスク名** | ショップ画面・昇格試験画面 |
| **カテゴリ** | UI層 |
| **優先度** | 中 |
| **担当レイヤー** | Presentation |

### 信頼性レベル

- 🔵 **青信号**: 設計文書に記載
- 🟡 **黄信号**: 設計文書から妥当な推測
- 🔴 **赤信号**: 設計文書にない推測

---

## 2. 実装内容

### 2.1 ショップ画面 🔵

`src/presentation/scenes/ShopScene.ts`:

```
┌─────────────────────────────────────────────────────────────────┐
│                    🏪 ショップ                    [閉じる]      │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ カード購入                                                  ││
│  │                                                             ││
│  │  [採取+] 100G  [調合+] 120G  [便利] 80G                     ││
│  │                                                             ││
│  └─────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ アーティファクト                                            ││
│  │                                                             ││
│  │  [採取の護符] 500G  [錬金の指輪] 800G                       ││
│  │                                                             ││
│  └─────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ 売却                                                        ││
│  │                                                             ││
│  │  所持アイテム: [回復薬B 30G] [爆弾A 60G]                     ││
│  │                                                             ││
│  └─────────────────────────────────────────────────────────────┘│
│                                                                 │
│                                              所持金: 250G       │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 昇格試験画面 🔵

`src/presentation/scenes/RankUpScene.ts`:

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                    🏆 昇格試験                                  │
│                                                                 │
│                    G → F ランクへの昇格                         │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │                                                             ││
│  │  試験内容:                                                  ││
│  │  「回復薬」をB品質以上で納品せよ                            ││
│  │                                                             ││
│  │  期限: 5日以内                                              ││
│  │                                                             ││
│  └─────────────────────────────────────────────────────────────┘│
│                                                                 │
│                  [試験を受ける]    [後で受ける]                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2.3 ShopScene実装 🔵

- カード購入タブ
- アーティファクト購入タブ
- アイテム・素材売却タブ
- 所持金表示

### 2.4 RankUpScene実装 🔵

- 昇格試験内容表示
- 試験受注/辞退
- 試験中の特別依頼生成

---

## 3. 受け入れ基準

### 3.1 必須条件 🔵

- [ ] ショップで購入ができる
- [ ] ショップで売却ができる
- [ ] 昇格試験の内容が表示される
- [ ] 昇格試験を受けられる

### 3.2 推奨条件 🟡

- [ ] ランク制限アイテムの表示
- [ ] 購入/売却アニメーション

---

## 4. テストケース

### 4.1 統合テスト

| テストID | テスト内容 | 期待結果 |
|---------|----------|----------|
| T-0026-01 | カード購入 | デッキに追加、ゴールド減少 |
| T-0026-02 | アイテム売却 | インベントリから削除、ゴールド増加 |
| T-0026-03 | 昇格試験表示 | 試験内容表示 |
| T-0026-04 | 昇格試験受注 | 特別依頼生成 |

---

## 5. 成果物

| 成果物 | パス |
|--------|------|
| ShopScene | `/src/presentation/scenes/ShopScene.ts` |
| RankUpScene | `/src/presentation/scenes/RankUpScene.ts` |

---

## 関連文書

- **ショップ画面設計**: [../../design/atelier-guild-rank/ui-design/screens/shop.md](../../design/atelier-guild-rank/ui-design/screens/shop.md)
- **昇格試験画面設計**: [../../design/atelier-guild-rank/ui-design/screens/rank-up.md](../../design/atelier-guild-rank/ui-design/screens/rank-up.md)

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|----------|---------|
| 2026-01-16 | 1.0.0 | 初版作成 |
