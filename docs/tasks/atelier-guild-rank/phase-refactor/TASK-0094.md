# TASK-0094: scenes/ディレクトリ作成とBootScene移行

## 基本情報

| 項目 | 値 |
|------|-----|
| **タスクID** | TASK-0094 |
| **タスク名** | scenes/ディレクトリ作成とBootScene移行 |
| **見積時間** | 4時間 |
| **依存タスク** | TASK-0066 |
| **開発タイプ** | TDD |
| **フェーズ** | Phase 10 - scenes移行 |
| **状態** | ✅ 完了 |

---

## 概要

### 背景

Feature-Based Architectureへのリファクタリングに伴い、Phaserシーンを新しいディレクトリ構造に移行する必要がある。

### 目的

Phaserシーンを新しいscenes/ディレクトリに移行し、DIコンテナの初期化が正常に動作することを確認する。

### 現状

- src/presentation/scenes/BootScene.ts にBootSceneが存在
- DIコンテナの初期化処理が含まれている

---

## 要件

### 機能要件

| 要件ID | 要件 | 信頼性 |
|--------|------|--------|
| REQ-094-01 | src/scenes/ディレクトリが作成されている | 🔵 |
| REQ-094-02 | BootScene.tsをsrc/scenes/に移行する | 🔵 |
| REQ-094-03 | DIコンテナの初期化が正常に動作する | 🔵 |
| REQ-094-04 | インポートパスを新しいパスエイリアスに更新する | 🔵 |

### 非機能要件

| 要件ID | 要件 |
|--------|------|
| NFR-094-01 | 既存のテストがすべてパスすること |
| NFR-094-02 | ゲーム起動時にBootSceneが正常に実行されること |
| NFR-094-03 | 循環依存が発生しないこと |

---

## テストケース

### BootSceneテスト

```typescript
describe('BootScene', () => {
  describe('初期化', () => {
    it('シーンが正しく作成されること', () => {});
    it('DIコンテナが初期化されること', () => {});
  });

  describe('アセットロード', () => {
    it('必要なアセットがロードされること', () => {});
    it('ロード完了後に次のシーンに遷移すること', () => {});
  });
});
```

---

## 実装計画

### ステップ1: ディレクトリ準備（30分）

1. src/scenes/ディレクトリが存在することを確認
2. パスエイリアス@scenesの設定確認

### ステップ2: BootScene移行（2時間）

1. src/presentation/scenes/BootScene.ts → src/scenes/BootScene.ts
2. インポートパスを@features, @shared経由に更新
3. DIコンテナ初期化コードの確認・更新

### ステップ3: テストと確認（1.5時間）

1. BootSceneのテスト作成/更新
2. ゲーム起動テスト
3. 全テストの実行確認

---

## 対象ファイル

- `src/presentation/scenes/BootScene.ts` → `src/scenes/BootScene.ts`
- `src/scenes/index.ts` - エクスポート設定

---

## 受け入れ条件

- [ ] src/scenes/BootScene.tsが作成されている
- [ ] DIコンテナが正常に初期化される
- [ ] インポートパスが@scenes, @features, @sharedを使用している
- [ ] BootSceneのテストがパスする
- [ ] `pnpm lint`がエラーなしで完了する

---

## 関連ドキュメント

- **TASK-0066**: features/quest移行（依存）
- **設計文書**: `.claude/rules/architecture.md`

---

## 信頼性レベルサマリー

### 項目別信頼性

| カテゴリ | 🔵 青 | 🟡 黄 | 🔴 赤 | 合計 |
|---------|-------|-------|-------|------|
| 機能要件 | 4 | 0 | 0 | 4 |
| テストケース | 0 | 0 | 0 | 0 |

### 全体評価

- **総項目数**: 4項目
- 🔵 **青信号**: 4項目 (100%) - .claude/rules/architecture.mdに基づく
- 🟡 **黄信号**: 0項目 (0%)
- 🔴 **赤信号**: 0項目 (0%)

**品質評価**: 良好（アーキテクチャ設計文書に明確な仕様あり）

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-02-09 | 初版作成 |
