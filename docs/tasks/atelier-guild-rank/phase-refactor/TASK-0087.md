# TASK-0087: features/inventory/index.ts公開API作成

## 基本情報

| 項目 | 値 |
|------|-----|
| **タスクID** | TASK-0087 |
| **タスク名** | features/inventory/index.ts公開API作成 |
| **見積時間** | 4時間 |
| **依存タスク** | TASK-0086 |
| **開発タイプ** | DIRECT |
| **フェーズ** | Phase 7 - features/inventory機能 |
| **状態** | 🔲 未着手 |

---

## 概要

### 背景

Feature-Based Architectureでは、各機能モジュールは明確な公開APIを通じて外部とやり取りする。index.tsファイルを通じて公開APIを定義することで、内部実装の詳細を隠蔽し、モジュール間の結合度を低く保つ。

### 目的

インベントリ機能の公開APIを`src/features/inventory/index.ts`に定義し、外部から利用可能な型、サービス、コンポーネントを明確にする。

### 現状

- 各サブディレクトリ（types, services, components）にファイルが作成済み
- 機能レベルの公開APIが未定義

---

## 要件

### 機能要件

| 要件ID | 要件 | 信頼性 |
|--------|------|--------|
| REQ-087-01 | 公開する型をre-exportする | 🔵 |
| REQ-087-02 | 公開するサービス関数をre-exportする | 🔵 |
| REQ-087-03 | 公開するコンポーネントをre-exportする | 🔵 |
| REQ-087-04 | 内部実装の詳細を隠蔽する | 🔵 |
| REQ-087-05 | バレルエクスポートのパターンに従う | 🔵 |

### 非機能要件

| 要件ID | 要件 |
|--------|------|
| NFR-087-01 | 外部からの利用が容易であること |
| NFR-087-02 | ツリーシェイキングが効果的に機能すること |
| NFR-087-03 | 循環参照が発生しないこと |

---

## 実装計画

### ステップ1: 公開API設計（1時間）

1. 公開すべき型を特定
2. 公開すべきサービス関数を特定
3. 公開すべきコンポーネントを特定

### ステップ2: index.ts作成（2時間）

1. 型のre-exportを記述
2. サービス関数のre-exportを記述
3. コンポーネントのre-exportを記述

### ステップ3: 動作確認（1時間）

1. 外部からのインポートテスト
2. 循環参照チェック
3. ビルド確認

---

## 対象ファイル

- `src/features/inventory/index.ts` - 新規作成

---

## 実装例

```typescript
// src/features/inventory/index.ts

// 型のエクスポート
export type {
  MaterialInstance,
  ItemInstance,
  IInventoryService,
  IMaterialService,
} from './types';

// サービス関数のエクスポート
export {
  addMaterial,
  removeMaterial,
  getMaterials,
  filterMaterials,
} from './services';

// コンポーネントのエクスポート
export {
  ItemInventoryUI,
  MaterialView,
  InventoryList,
  MaterialDetail,
} from './components';
```

---

## 受け入れ条件

- [ ] `src/features/inventory/index.ts`が作成されている
- [ ] 公開型が正しくre-exportされている
- [ ] 公開サービス関数が正しくre-exportされている
- [ ] 公開コンポーネントが正しくre-exportされている
- [ ] 外部から`@features/inventory`でインポートできる
- [ ] 循環参照が発生していない
- [ ] `pnpm lint`がエラーなしで完了する
- [ ] `pnpm build`が成功する

---

## 関連ドキュメント

- **TASK-0084**: features/inventory/types作成
- **TASK-0085**: features/inventory/services作成
- **TASK-0086**: features/inventory/components作成
- **設計文書**: `.claude/rules/architecture.md`

---

## 信頼性レベルサマリー

### 項目別信頼性

| カテゴリ | 🔵 青 | 🟡 黄 | 🔴 赤 | 合計 |
|---------|-------|-------|-------|------|
| 機能要件 | 5 | 0 | 0 | 5 |

### 全体評価

- **総項目数**: 5項目
- 🔵 **青信号**: 5項目 (100%)
- 🟡 **黄信号**: 0項目 (0%)
- 🔴 **赤信号**: 0項目 (0%)

**品質評価**: 良好（標準的なバレルエクスポートパターン）

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-02-09 | 初版作成 |
