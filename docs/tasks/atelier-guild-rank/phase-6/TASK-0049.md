# TASK-0049: テーマテスト修正（フォント名不整合）

## 基本情報

| 項目 | 値 |
|------|-----|
| **タスクID** | TASK-0049 |
| **タスク名** | テーマテスト修正（フォント名不整合） |
| **見積時間** | 1時間 |
| **依存タスク** | なし |
| **開発タイプ** | DIRECT |
| **状態** | ✅ 完了 |

---

## 概要

### 背景

theme.spec.tsのテストで、フォント名の期待値と実際の実装値が一致していない。テストでは「Noto Sans JP」を期待しているが、実装では「M PLUS Rounded 1c」が使用されている。

### 目的

フォント名の不整合を解消し、テストをパスさせる。デザイン仕様に基づいて正しいフォント名を決定する。

### エラー内容

```
AssertionError: expected '"M PLUS Rounded 1c", sans-serif' to be '"Noto Sans JP", sans-serif'
```

---

## 要件

### 機能要件

| 要件ID | 要件 | 信頼性 |
|--------|------|--------|
| REQ-049-01 | theme.tsのフォント定義とテストの期待値を一致させること | 🔵 |
| REQ-049-02 | デザイン仕様に基づいた正しいフォント名を使用すること | 🔵 |

### 非機能要件

| 要件ID | 要件 |
|--------|------|
| NFR-049-01 | theme.spec.tsのテストがパスすること |
| NFR-049-02 | UIの表示に影響がないこと |

---

## 調査事項

1. デザイン仕様書でどのフォントが指定されているか確認
2. 「M PLUS Rounded 1c」と「Noto Sans JP」のどちらが正しいか判断
3. フォント変更の場合、他の影響範囲を確認

---

## 実装計画

### ステップ1: デザイン仕様確認（0.25時間）

1. `docs/design/`内のUI設計書を確認
2. 正式なフォント指定を特定

### ステップ2: 不整合解消（0.5時間）

**オプションA**: テストを実装に合わせる（「M PLUS Rounded 1c」が正しい場合）
- theme.spec.tsの期待値を変更

**オプションB**: 実装をテストに合わせる（「Noto Sans JP」が正しい場合）
- theme.tsのフォント定義を変更

### ステップ3: 動作確認（0.25時間）

1. テスト実行
2. 実機でフォント表示確認

---

## 対象ファイル

- `src/presentation/ui/theme.ts` - フォント定義
- `tests/unit/presentation/ui/theme.spec.ts` - テストファイル
- `docs/design/atelier-guild-rank/ui-design/` - デザイン仕様

---

## 受け入れ条件

- [x] theme.spec.tsのテストがパスする
- [x] フォント名がデザイン仕様と一致している
- [x] 他のテストに影響がない

---

## 関連ドキュメント

- **テーマ実装**: `src/presentation/ui/theme.ts`
- **テーマテスト**: `tests/unit/presentation/ui/theme.spec.ts`

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-01-22 | 初版作成 |
