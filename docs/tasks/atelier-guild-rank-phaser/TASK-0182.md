# TASK-0182: BootSceneアセットリスト定義

**タスクID**: TASK-0182
**タスクタイプ**: TDD
**推定工数**: 4時間
**フェーズ**: Phase 2 - 基本シーン・共通UI実装
**信頼性レベル**: 🔴 *Phaser固有の調査が必要*

## 関連文書

- **概要**: [overview.md](./overview.md)
- **設計文書**: [architecture.md](../../design/atelier-guild-rank-phaser/architecture.md)
- **UI設計**: [ui-design/overview.md](../../design/atelier-guild-rank-phaser/ui-design/overview.md)

## タスク概要

BootSceneでプリロードする全アセット（画像、音声、JSON）のリストを定義する。

## 依存タスク

- **前提タスク**: TASK-0161, TASK-0168
- **後続タスク**: TASK-0183

## 完了条件

- [x] プリロードするアセットリストが定義されている
- [x] 画像アセットリストが完成している
- [x] 音声アセットリストが完成している
- [x] JSONデータリストが完成している
- [x] アセットの存在確認ユーティリティがある

---

## 実装詳細

### 1. アセットリスト定義 🔴

**信頼性**: 🔴 *実際に必要なアセットは開発中に確定*

**実装ファイル**: `src/presentation/phaser/boot/AssetList.ts`

```typescript
import { ImageKeys, AudioKeys } from '../config/AssetKeys';
import { AssetPaths } from '../config/AssetPaths';

export interface AssetLoadItem {
  key: string;
  path: string;
  type: 'image' | 'audio' | 'json' | 'spritesheet';
  frameConfig?: Phaser.Types.Loader.FileTypes.ImageFrameConfig;
}

// 画像アセット
export const ImageAssets: AssetLoadItem[] = [
  // UI基本
  { key: ImageKeys.BUTTON_PRIMARY, path: AssetPaths.image('button-primary'), type: 'image' },
  { key: ImageKeys.BUTTON_SECONDARY, path: AssetPaths.image('button-secondary'), type: 'image' },
  { key: ImageKeys.PANEL_BACKGROUND, path: AssetPaths.image('panel-bg'), type: 'image' },
  { key: ImageKeys.CARD_FRAME, path: AssetPaths.image('card-frame'), type: 'image' },

  // カード種別
  { key: ImageKeys.CARD_GATHERING, path: AssetPaths.image('card-gathering'), type: 'image' },
  { key: ImageKeys.CARD_RECIPE, path: AssetPaths.image('card-recipe'), type: 'image' },
  { key: ImageKeys.CARD_ENHANCEMENT, path: AssetPaths.image('card-enhancement'), type: 'image' },

  // アイコン
  { key: ImageKeys.ICON_GOLD, path: AssetPaths.image('icon-gold'), type: 'image' },
  { key: ImageKeys.ICON_AP, path: AssetPaths.image('icon-ap'), type: 'image' },
  { key: ImageKeys.ICON_RANK, path: AssetPaths.image('icon-rank'), type: 'image' },

  // 背景
  { key: ImageKeys.BG_TITLE, path: AssetPaths.image('bg-title'), type: 'image' },
  { key: ImageKeys.BG_MAIN, path: AssetPaths.image('bg-main'), type: 'image' },
  { key: ImageKeys.BG_SHOP, path: AssetPaths.image('bg-shop'), type: 'image' },
];

// 音声アセット
export const AudioAssets: AssetLoadItem[] = [
  { key: AudioKeys.BGM_TITLE, path: AssetPaths.audio('bgm-title'), type: 'audio' },
  { key: AudioKeys.BGM_MAIN, path: AssetPaths.audio('bgm-main'), type: 'audio' },
  { key: AudioKeys.SE_CLICK, path: AssetPaths.audio('se-click'), type: 'audio' },
  { key: AudioKeys.SE_SUCCESS, path: AssetPaths.audio('se-success'), type: 'audio' },
  { key: AudioKeys.SE_ERROR, path: AssetPaths.audio('se-error'), type: 'audio' },
];

// JSONアセット（マスターデータ）
export const JsonAssets: AssetLoadItem[] = [
  { key: 'cards-gathering', path: 'data/master/gathering_cards.json', type: 'json' },
  { key: 'cards-recipe', path: 'data/master/recipe_cards.json', type: 'json' },
  { key: 'cards-enhancement', path: 'data/master/enhancement_cards.json', type: 'json' },
  { key: 'materials', path: 'data/master/materials.json', type: 'json' },
  { key: 'items', path: 'data/master/items.json', type: 'json' },
  { key: 'quests', path: 'data/master/quests.json', type: 'json' },
  { key: 'ranks', path: 'data/master/ranks.json', type: 'json' },
  { key: 'artifacts', path: 'data/master/artifacts.json', type: 'json' },
  { key: 'clients', path: 'data/master/clients.json', type: 'json' },
  { key: 'initial-deck', path: 'data/master/initial_deck.json', type: 'json' },
  { key: 'shop-items', path: 'data/master/shop_items.json', type: 'json' },
];

// 全アセット
export const AllAssets: AssetLoadItem[] = [
  ...ImageAssets,
  ...AudioAssets,
  ...JsonAssets,
];

// アセット総数
export const getTotalAssetCount = (): number => AllAssets.length;
```

---

## 単体テスト要件

### テストケース1: アセットリスト完全性 🔴

**Given**: AllAssetsが定義されている
**When**: 全アセットを列挙する
**Then**: 重複がなく、すべてのkeyがユニークである

### テストケース2: パス形式 🔴

**Given**: 各アセットにpathが設定されている
**When**: パスを検証する
**Then**: 正しい拡張子と形式である

---

## 実装手順

1. `/tsumiki:tdd-requirements TASK-0182` - 詳細要件定義
2. `/tsumiki:tdd-testcases` - テストケース作成
3. `/tsumiki:tdd-red` - テスト実装（失敗）
4. `/tsumiki:tdd-green` - 最小実装
5. `/tsumiki:tdd-refactor` - リファクタリング
6. `/tsumiki:tdd-verify-complete` - 品質確認

---

## 注意事項

- アセットファイルは別途準備が必要
- 開発中はプレースホルダーアセットを使用
- パスはpublicフォルダからの相対パス

---

## 信頼性レベルサマリー

- **総項目数**: 1項目
- 🔵 **青信号**: 0項目 (0%)
- 🟡 **黄信号**: 0項目 (0%)
- 🔴 **赤信号**: 1項目 (100%)

**品質評価**: 要調査
