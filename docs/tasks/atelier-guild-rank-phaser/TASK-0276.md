# TASK-0276: 最終動作確認（後半機能）

**タスクID**: TASK-0276
**タスクタイプ**: DIRECT
**推定工数**: 4時間
**フェーズ**: Phase 5 - 統合テスト・最適化・仕上げ
**信頼性レベル**: 🔴 *手動確認*

## 関連文書

- **概要**: [overview.md](./overview.md)
- **最終動作確認（前半機能）**: TASK-0275

## タスク概要

ゲーム後半部分（納品フェーズ〜ゲームクリアまで）の全機能を手動で動作確認し、不具合を洗い出す。

## 依存タスク

- **前提タスク**: TASK-0275 (最終動作確認前半)
- **後続タスク**: TASK-0277

## 完了条件

- [ ] 納品フェーズの全機能が正常動作する
- [ ] ショップの全機能が正常動作する
- [ ] 昇格試験の全機能が正常動作する
- [ ] ゲームクリア/ゲームオーバーが正常動作する
- [ ] セーブ・ロード機能が正常動作する
- [ ] 不具合リストが作成されている

---

## 確認項目詳細

### 1. 納品フェーズ確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 5-1 | 受注依頼表示 | 受注中の依頼一覧が表示 | [ ] | |
| 5-2 | 依頼要件表示 | 各依頼の必要アイテムが表示 | [ ] | |
| 5-3 | 納品可能判定 | 要件を満たす依頼が識別可能 | [ ] | |
| 5-4 | アイテム選択 | 納品するアイテムを選択 | [ ] | |
| 5-5 | 納品実行 | 納品ボタンで依頼完了 | [ ] | |
| 5-6 | 報酬獲得 | 報酬（ゴールド、経験値）獲得 | [ ] | |
| 5-7 | カード報酬 | カード報酬の選択画面表示 | [ ] | |
| 5-8 | デッキ追加 | 選択カードがデッキに追加 | [ ] | |
| 5-9 | 依頼リスト更新 | 完了依頼がリストから削除 | [ ] | |
| 5-10 | 経験値ゲージ | 経験値獲得でゲージ更新 | [ ] | |

### 2. 日終了処理確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 6-1 | 日終了ボタン | フェーズ完了後に日終了可能 | [ ] | |
| 6-2 | 日数進行 | 日数が+1される | [ ] | |
| 6-3 | AP回復 | APが最大値に回復 | [ ] | |
| 6-4 | デッキリセット | デッキがリシャッフル | [ ] | |
| 6-5 | 手札補充 | 初期手札が配られる | [ ] | |
| 6-6 | 新規依頼生成 | 新しい依頼が追加 | [ ] | |
| 6-7 | 期限減少 | 受注依頼の残り日数が減少 | [ ] | |
| 6-8 | 期限切れ判定 | 期限切れ依頼が失敗扱い | [ ] | |
| 6-9 | オートセーブ | 日終了時に自動保存 | [ ] | |

### 3. ショップ確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 7-1 | ショップ表示 | ショップ画面が表示 | [ ] | |
| 7-2 | カードタブ | カード一覧が表示 | [ ] | |
| 7-3 | 素材タブ | 素材一覧が表示 | [ ] | |
| 7-4 | アーティファクトタブ | アーティファクト一覧が表示 | [ ] | |
| 7-5 | 価格表示 | 各アイテムの価格が表示 | [ ] | |
| 7-6 | 購入可能判定 | ゴールド足りる場合は購入可能 | [ ] | |
| 7-7 | 購入不可表示 | ゴールド不足は購入不可 | [ ] | |
| 7-8 | カード購入 | カード購入でデッキに追加 | [ ] | |
| 7-9 | 素材購入 | 素材購入でインベントリに追加 | [ ] | |
| 7-10 | ゴールド減少 | 購入でゴールドが減少 | [ ] | |
| 7-11 | 閉じるボタン | メイン画面に戻る | [ ] | |

### 4. 昇格試験確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 8-1 | 昇格条件達成 | 経験値満タンで挑戦可能 | [ ] | |
| 8-2 | 試験画面表示 | 昇格試験画面が表示 | [ ] | |
| 8-3 | 課題表示 | 試験の課題内容が表示 | [ ] | |
| 8-4 | 試験開始 | 開始ボタンで試験開始 | [ ] | |
| 8-5 | 試験成功 | 課題達成で昇格成功 | [ ] | |
| 8-6 | ランクアップ | 成功時にランクが上昇 | [ ] | |
| 8-7 | 試験失敗 | 課題未達成で失敗 | [ ] | |
| 8-8 | 再挑戦 | 失敗後も再挑戦可能 | [ ] | |
| 8-9 | Sランク達成 | Sランクでゲームクリア条件達成 | [ ] | |

### 5. ゲームクリア/ゲームオーバー確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 9-1 | ゲームクリア表示 | Sランク達成でクリア画面 | [ ] | |
| 9-2 | クリア統計 | 統計情報が表示 | [ ] | |
| 9-3 | タイトルへ | タイトル画面に戻れる | [ ] | |
| 9-4 | ゲームオーバー表示 | 30日経過でオーバー画面 | [ ] | |
| 9-5 | オーバー理由 | ゲームオーバー理由が表示 | [ ] | |
| 9-6 | リトライ | 最初からやり直し可能 | [ ] | |

### 6. セーブ・ロード確認 🔴

**信頼性**: 🔴 *手動テスト*

| No | 確認項目 | 期待結果 | 確認結果 | 備考 |
|----|---------|---------|---------|------|
| 10-1 | 手動セーブ | セーブボタンで保存 | [ ] | |
| 10-2 | セーブスロット | 3スロット選択可能 | [ ] | |
| 10-3 | セーブ情報表示 | 日数、ランク等が表示 | [ ] | |
| 10-4 | ロード | セーブデータをロード | [ ] | |
| 10-5 | 状態復元 | ロード後に正しい状態 | [ ] | |
| 10-6 | インベントリ復元 | アイテムが正しく復元 | [ ] | |
| 10-7 | 依頼復元 | 受注依頼が正しく復元 | [ ] | |
| 10-8 | デッキ復元 | デッキ構成が正しく復元 | [ ] | |
| 10-9 | オートセーブ | 日終了時に自動保存 | [ ] | |
| 10-10 | セーブ削除 | セーブデータを削除可能 | [ ] | |

---

## 確認手順

### セットアップ

1. TASK-0275の続きから開始
2. または新規ゲームで進行

### 確認フロー

```
1. 納品フェーズ
   ↓ 依頼を完了
2. 日終了
   ↓ 複数日進行
3. ショップ
   ↓ 購入テスト
4. 昇格試験
   ↓ ランクアップ
5. ゲームクリア条件達成
   ↓
6. セーブ・ロードテスト
```

---

## 不具合報告テンプレート

```markdown
### 不具合ID: BUG-XXXX

**発生箇所**:
**確認項目No**:
**現象**:
**再現手順**:
1.
2.
3.

**期待結果**:
**実際の結果**:
**スクリーンショット**:
**優先度**: 高/中/低
**備考**:
```

---

## 実装手順

1. `/direct-setup` - 確認環境準備
2. `/direct-verify` - 全項目確認・不具合リスト作成

---

## 注意事項

- 前半確認の続きとして実施
- 複数セーブスロットで検証
- エッジケースも確認

---

## 信頼性レベルサマリー

- **総項目数**: 6セクション
- 🔵 **青信号**: 0項目 (0%)
- 🟡 **黄信号**: 0項目 (0%)
- 🔴 **赤信号**: 6項目 (100%)

**品質評価**: 低品質（手動テスト・実行時に確認）
