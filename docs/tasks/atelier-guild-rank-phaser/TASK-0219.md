# TASK-0219: QuestAcceptContainerãƒ†ã‚¹ãƒˆ

**ã‚¿ã‚¹ã‚¯ID**: TASK-0219
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 4æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 3 - ãƒ•ã‚§ãƒ¼ã‚ºã‚³ãƒ³ãƒ†ãƒŠãƒ»ãƒ¡ã‚¤ãƒ³ç”»é¢å®Ÿè£…
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *è¨­è¨ˆæ›¸ã«è¨˜è¼‰*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [overview.md](./overview.md)
- **UIè¨­è¨ˆ**: [ui-design/overview.md](../../design/atelier-guild-rank-phaser/ui-design/overview.md)

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

QuestAcceptContaineré–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0218
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0220

## å®Œäº†æ¡ä»¶

- [x] ä¾é ¼ãƒªã‚¹ãƒˆè¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] å—æ³¨æ“ä½œã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š

---

## å®Ÿè£…è©³ç´°

### 1. QuestAcceptContainerãƒ†ã‚¹ãƒˆ ğŸ”µ

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/unit/presentation/ui/phase/QuestAcceptContainer.test.ts`

```typescript
import { describe, it, expect, beforeEach, vi } from 'vitest';

describe('QuestAcceptContainer', () => {
  describe('ä¾é ¼ãƒªã‚¹ãƒˆè¡¨ç¤º', () => {
    it.skip('setAvailableQuestsã§ä¾é ¼ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ä¾é ¼ãƒªã‚¹ãƒˆè¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ç©ºã®ä¾é ¼ãƒªã‚¹ãƒˆã§ç©ºçŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ç©ºçŠ¶æ…‹ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('å—æ³¨æ¸ˆã¿ä¾é ¼ã¯è¡¨ç¤ºã•ã‚Œãªã„', () => {
      // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½', () => {
    it.skip('æœŸé™é †ã‚½ãƒ¼ãƒˆã§æœŸé™ãŒè¿‘ã„é †ã«ä¸¦ã¶', () => {
      // æœŸé™é †ã‚½ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('å ±é…¬é †ã‚½ãƒ¼ãƒˆã§å ±é…¬ãŒé«˜ã„é †ã«ä¸¦ã¶', () => {
      // å ±é…¬é †ã‚½ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('é›£æ˜“åº¦é †ã‚½ãƒ¼ãƒˆã§é›£æ˜“åº¦ãŒä½ã„é †ã«ä¸¦ã¶', () => {
      // é›£æ˜“åº¦é †ã‚½ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½', () => {
    it.skip('é›£æ˜“åº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§æŒ‡å®šé›£æ˜“åº¦ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // é›£æ˜“åº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è§£é™¤ã§å…¨ä¾é ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è§£é™¤ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ã‚½ãƒ¼ãƒˆã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®çµ„ã¿åˆã‚ã›ãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () => {
      // çµ„ã¿åˆã‚ã›ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ä¾é ¼é¸æŠ', () => {
    it.skip('ä¾é ¼ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°ãƒ‘ãƒãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // é¸æŠã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('é¸æŠä¸­ã®ä¾é ¼ãŒãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã‚‹', () => {
      // ãƒã‚¤ãƒ©ã‚¤ãƒˆã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('åˆ¥ã®ä¾é ¼ã‚’é¸æŠã™ã‚‹ã¨å‰ã®é¸æŠãŒè§£é™¤ã•ã‚Œã‚‹', () => {
      // é¸æŠåˆ‡ã‚Šæ›¿ãˆã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('å—æ³¨æ“ä½œ', () => {
    it.skip('å—æ³¨ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§å—æ³¨ã™ã‚‹ã¨onQuestAcceptedãŒå‘¼ã°ã‚Œã‚‹', () => {
      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã¨ä½•ã‚‚èµ·ããªã„', () => {
      // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('å—æ³¨ä¸Šé™', () => {
    it.skip('å—æ³¨ä¸Šé™ã«é”ã™ã‚‹ã¨å—æ³¨ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹ã«ãªã‚‹', () => {
      // ä¸Šé™åˆ°é”ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ä¸Šé™è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ä¾é ¼ã‚’å®Œäº†ã—ã¦æ ãŒç©ºãã¨å—æ³¨å¯èƒ½ã«ãªã‚‹', () => {
      // æ è§£æ”¾ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ã‚¹ã‚­ãƒƒãƒ—æ“ä½œ', () => {
    it.skip('ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§onSkipãŒå‘¼ã°ã‚Œã‚‹', () => {
      // ã‚¹ã‚­ãƒƒãƒ—ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ã‚¹ã‚­ãƒƒãƒ—å¾Œã«ãƒ•ã‚§ãƒ¼ã‚ºãŒå®Œäº†ã™ã‚‹', () => {
      // ã‚¹ã‚­ãƒƒãƒ—å®Œäº†ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('EventBusé€£æº', () => {
    it.skip('quest:acceptã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã™ã‚‹', () => {
      // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('quests:available:updatedã‚¤ãƒ™ãƒ³ãƒˆã§ãƒªã‚¹ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹', () => {
      // å¤–éƒ¨æ›´æ–°ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«', () => {
    it.skip('enteræ™‚ã«ä¾é ¼ãƒªã‚¹ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹', () => {
      // é–‹å§‹æ™‚ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('exitæ™‚ã«çŠ¶æ…‹ãŒã‚¯ãƒªã‚¢ã•ã‚Œã‚‹', () => {
      // çµ‚äº†æ™‚ã®ãƒ†ã‚¹ãƒˆ
    });
  });
});
```

### 2. ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆç”¨ã‚·ãƒ¼ãƒ³ ğŸ”µ

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/presentation/phaser/scenes/QuestAcceptTestScene.ts`

```typescript
import { BaseGameScene, SceneInitData } from './BaseGameScene';
import { QuestAcceptContainer } from '../ui/phase/QuestAcceptContainer';
import { EventBus } from '../core/EventBus';

export class QuestAcceptTestScene extends BaseGameScene {
  private questAcceptContainer!: QuestAcceptContainer;
  private eventBus!: EventBus;

  constructor() {
    super('QuestAcceptTestScene' as any);
  }

  protected onInit(data?: SceneInitData): void {}
  protected onPreload(): void {}

  protected onCreate(data?: SceneInitData): void {
    this.eventBus = new EventBus();

    this.questAcceptContainer = new QuestAcceptContainer({
      scene: this,
      eventBus: this.eventBus,
      x: 50,
      y: 50,
      onQuestAccepted: (quest) => console.log(`Accepted: ${quest.name}`),
      onSkip: () => console.log('Skipped'),
    });

    // ãƒ†ã‚¹ãƒˆç”¨ä¾é ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š
    this.questAcceptContainer.setAvailableQuests(this.createTestQuests());
    this.questAcceptContainer.enter();

    // ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
    this.createTestControls();
  }

  private createTestQuests(): Quest[] {
    return [
      {
        id: 'q1',
        name: 'è–¬è‰æ¡å–ã®ä¾é ¼',
        remainingDays: 10,
        difficulty: 'easy',
        reward: { gold: 100, exp: 20 },
        requiredItems: [{ name: 'è–¬è‰', quantity: 5 }],
      },
      // ... ä»–ã®ãƒ†ã‚¹ãƒˆä¾é ¼
    ] as any[];
  }

  private createTestControls(): void {
    // ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³é…ç½®
  }

  protected setupEventListeners(): void {}
}
```

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0219` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …

- ãƒ¢ãƒƒã‚¯ä¾é ¼ãƒ‡ãƒ¼ã‚¿ã®ç¶²ç¾…æ€§
- EventBusã®ãƒ¢ãƒƒã‚¯
- éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 2é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 2é …ç›® (100%)
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›® (0%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
