# TASK-0185: TitleSceneãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­è¨ˆ

**ã‚¿ã‚¹ã‚¯ID**: TASK-0185
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 4æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 2 - åŸºæœ¬ã‚·ãƒ¼ãƒ³ãƒ»å…±é€šUIå®Ÿè£…
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *è¨­è¨ˆæ›¸ã«æ˜ç¢ºãªè¨˜è¼‰ã‚ã‚Š*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [overview.md](./overview.md)
- **UIè¨­è¨ˆ**: [ui-design/overview.md](../../design/atelier-guild-rank-phaser/ui-design/overview.md)

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã™ã‚‹ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0170, TASK-0173
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0186

## å®Œäº†æ¡ä»¶

- [ ] TitleSceneãŒBaseGameSceneã‚’ç¶™æ‰¿ã—ã¦ã„ã‚‹
- [ ] ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã®é…ç½®ä½ç½®ãŒæ±ºå®šã—ã¦ã„ã‚‹
- [ ] èƒŒæ™¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³æ¼”å‡ºãŒã‚ã‚‹

---

## å®Ÿè£…è©³ç´°

### 1. TitleSceneãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ui-design/overview.mdã«è¨˜è¼‰*

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/presentation/phaser/scenes/TitleScene.ts`

```typescript
import { BaseGameScene, SceneInitData } from './BaseGameScene';
import { SceneKeys } from '../config/SceneKeys';
import { ImageKeys, AudioKeys } from '../config/AssetKeys';
import { Colors } from '../config/ColorPalette';
import { TextStyles } from '../config/TextStyles';

export class TitleScene extends BaseGameScene {
  private titleText!: Phaser.GameObjects.Text;
  private subtitleText!: Phaser.GameObjects.Text;
  private menuContainer!: Phaser.GameObjects.Container;

  constructor() {
    super(SceneKeys.TITLE);
  }

  protected onInit(data?: SceneInitData): void {}

  protected onPreload(): void {
    // BootSceneã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰æ¸ˆã¿
  }

  protected onCreate(data?: SceneInitData): void {
    const { width, height } = this.cameras.main;
    const centerX = width / 2;

    // èƒŒæ™¯
    this.cameras.main.setBackgroundColor(Colors.background);

    // èƒŒæ™¯ç”»åƒï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
    if (this.textures.exists(ImageKeys.BG_TITLE)) {
      this.add.image(centerX, height / 2, ImageKeys.BG_TITLE)
        .setDisplaySize(width, height);
    }

    // ã‚¿ã‚¤ãƒˆãƒ«
    this.titleText = this.add.text(centerX, 180, 'Atelier Guild Rank', {
      ...TextStyles.titleLarge,
      fontSize: '56px',
    }).setOrigin(0.5);

    // ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«
    this.subtitleText = this.add.text(centerX, 250, 'ã€œéŒ¬é‡‘è¡“å¸«ã‚®ãƒ«ãƒ‰ç‰©èªã€œ', {
      ...TextStyles.titleMedium,
      fontSize: '24px',
    }).setOrigin(0.5);

    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ
    this.menuContainer = this.add.container(centerX, 450);

    // ãƒœã‚¿ãƒ³ã¯å¾Œç¶šã‚¿ã‚¹ã‚¯ã§å®Ÿè£…
    this.createMenuButtons();

    // ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤º
    this.add.text(width - 10, height - 10, 'v0.1.0', {
      ...TextStyles.bodySmall,
      fontSize: '12px',
    }).setOrigin(1, 1);

    // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
    this.cameras.main.fadeIn(500, 0, 0, 0);

    // BGMå†ç”Ÿï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
    if (this.cache.audio.exists(AudioKeys.BGM_TITLE)) {
      this.sound.play(AudioKeys.BGM_TITLE, { loop: true, volume: 0.5 });
    }
  }

  protected setupEventListeners(): void {
    // TitleSceneã§ã¯ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ä¸è¦
  }

  private createMenuButtons(): void {
    // TASK-0186, TASK-0187ã§å®Ÿè£…
  }

  // ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®publicãƒ¡ã‚½ãƒƒãƒ‰
  public addMenuButton(button: Phaser.GameObjects.GameObject, yOffset: number): void {
    button.setPosition(0, yOffset);
    this.menuContainer.add(button);
  }
}
```

### 2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä»•æ§˜ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *è¨­è¨ˆæ›¸ã«åŸºã¥ã*

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚                                         â”‚
â”‚        Atelier Guild Rank              â”‚ y=180
â”‚      ã€œéŒ¬é‡‘è¡“å¸«ã‚®ãƒ«ãƒ‰ç‰©èªã€œ              â”‚ y=250
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚           [æ–°è¦ã‚²ãƒ¼ãƒ ]                  â”‚ y=420
â”‚           [ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼]              â”‚ y=490
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                              v0.1.0     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å˜ä½“ãƒ†ã‚¹ãƒˆè¦ä»¶

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ã‚·ãƒ¼ãƒ³ä½œæˆ ğŸ”µ

**Given**: TitleSceneãŒé–‹å§‹ã•ã‚Œã‚‹
**When**: create()ãŒå‘¼ã°ã‚Œã‚‹
**Then**: ã‚¿ã‚¤ãƒˆãƒ«ãƒ†ã‚­ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ ğŸ”µ

**Given**: TitleSceneãŒä½œæˆã•ã‚ŒãŸ
**When**: ã‚«ãƒ¡ãƒ©ã‚’ç¢ºèªã™ã‚‹
**Then**: ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0185` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …

- èƒŒæ™¯ç”»åƒãŒãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- BGMãŒãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼å›é¿
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã¯å°†æ¥èª²é¡Œ

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 2é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 2é …ç›® (100%)
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›® (0%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
