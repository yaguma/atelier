# TASK-0215: QuestPanelãƒ†ã‚¹ãƒˆ

**ã‚¿ã‚¹ã‚¯ID**: TASK-0215
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 4æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 3 - ãƒ•ã‚§ãƒ¼ã‚ºã‚³ãƒ³ãƒ†ãƒŠãƒ»ãƒ¡ã‚¤ãƒ³ç”»é¢å®Ÿè£…
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *è¨­è¨ˆæ›¸ã«è¨˜è¼‰*

## é–¢é€£æ–‡æ›¸

- **æ¦‚è¦**: [overview.md](./overview.md)
- **UIè¨­è¨ˆ**: [ui-design/overview.md](../../design/atelier-guild-rank-phaser/ui-design/overview.md)

## ã‚¿ã‚¹ã‚¯æ¦‚è¦

QuestPanelé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯

- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0214
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0216

## å®Œäº†æ¡ä»¶

- [x] QuestPanelConstantsã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] ä¾é ¼è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] ãƒœã‚¿ãƒ³æ“ä½œã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [x] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š

---

## å®Ÿè£…è©³ç´°

### 1. QuestPanelConstantsãƒ†ã‚¹ãƒˆ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *å®šæ•°ã®æ¤œè¨¼*

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/unit/presentation/ui/quest/QuestPanel.test.ts`

```typescript
import { describe, it, expect } from 'vitest';
import { QuestPanelLayout, QuestDifficultyColors } from '../../../../../src/presentation/phaser/ui/quest/QuestPanelConstants';

describe('QuestPanelConstants', () => {
  describe('QuestPanelLayout', () => {
    it('ãƒ‘ãƒãƒ«ã‚µã‚¤ã‚ºãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹', () => {
      expect(QuestPanelLayout.WIDTH).toBeGreaterThan(0);
      expect(QuestPanelLayout.HEIGHT).toBeGreaterThan(0);
    });

    it('ã‚»ã‚¯ã‚·ãƒ§ãƒ³é«˜ã•ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹', () => {
      expect(QuestPanelLayout.HEADER_HEIGHT).toBeGreaterThan(0);
      expect(QuestPanelLayout.REWARD_HEIGHT).toBeGreaterThan(0);
      expect(QuestPanelLayout.REQUIREMENT_HEIGHT).toBeGreaterThan(0);
      expect(QuestPanelLayout.PROGRESS_HEIGHT).toBeGreaterThan(0);
    });

    it('ã‚»ã‚¯ã‚·ãƒ§ãƒ³é«˜ã•ã®åˆè¨ˆãŒãƒ‘ãƒãƒ«é«˜ã•ã‚ˆã‚Šå°ã•ã„', () => {
      const totalSectionHeight =
        QuestPanelLayout.HEADER_HEIGHT +
        QuestPanelLayout.REWARD_HEIGHT +
        QuestPanelLayout.REQUIREMENT_HEIGHT +
        QuestPanelLayout.PROGRESS_HEIGHT;
      expect(totalSectionHeight).toBeLessThan(QuestPanelLayout.HEIGHT);
    });
  });

  describe('QuestDifficultyColors', () => {
    it('å…¨é›£æ˜“åº¦ã®è‰²ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹', () => {
      const difficulties = ['easy', 'normal', 'hard', 'expert'];
      difficulties.forEach(diff => {
        expect(QuestDifficultyColors[diff]).toBeTypeOf('number');
      });
    });

    it('å„é›£æ˜“åº¦ã§ç•°ãªã‚‹è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹', () => {
      const colors = Object.values(QuestDifficultyColors);
      const uniqueColors = new Set(colors);
      expect(uniqueColors.size).toBe(colors.length);
    });
  });
});

describe('QuestPanel', () => {
  describe('ä¾é ¼è¨­å®š', () => {
    it.skip('setQuestã§ä¾é ¼æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // Phaserã‚·ãƒ¼ãƒ³ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚¹ãƒˆ
    });

    it.skip('setQuest(null)ã§ç©ºçŠ¶æ…‹ã«ãªã‚‹', () => {
      // ç©ºçŠ¶æ…‹ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('æœŸé™ãŒ3æ—¥ä»¥å†…ã®å ´åˆè­¦å‘Šè‰²ã«ãªã‚‹', () => {
      // æœŸé™è­¦å‘Šã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('å ±é…¬è¡¨ç¤º', () => {
    it.skip('ã‚´ãƒ¼ãƒ«ãƒ‰å ±é…¬ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ã‚´ãƒ¼ãƒ«ãƒ‰è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('çµŒé¨“å€¤å ±é…¬ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // EXPè¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ã‚«ãƒ¼ãƒ‰å ±é…¬ãŒã‚ã‚‹å ´åˆè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ã‚«ãƒ¼ãƒ‰å ±é…¬ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('å¿…è¦ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤º', () => {
    it.skip('å¿…è¦ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('æ•°é‡ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {
      // æ•°é‡è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('ãƒœã‚¿ãƒ³æ“ä½œ', () => {
    it.skip('å—æ³¨ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§onAcceptãŒå‘¼ã°ã‚Œã‚‹', () => {
      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('ç´å“ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§onDeliverãŒå‘¼ã°ã‚Œã‚‹', () => {
      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('setAcceptEnabledã§ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹', () => {
      // ãƒœã‚¿ãƒ³åˆ¶å¾¡ã®ãƒ†ã‚¹ãƒˆ
    });
  });

  describe('é€²æ—è¡¨ç¤º', () => {
    it.skip('updateProgressã§é€²æ—ãƒãƒ¼ãŒæ›´æ–°ã•ã‚Œã‚‹', () => {
      // é€²æ—è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ
    });

    it.skip('å®Œäº†æ™‚ã«é€²æ—ãƒãƒ¼ãŒ100%ã«ãªã‚‹', () => {
      // å®Œäº†æ™‚ã®ãƒ†ã‚¹ãƒˆ
    });
  });
});
```

---

## å®Ÿè£…æ‰‹é †

1. `/tsumiki:tdd-requirements TASK-0215` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …

- ä¾é ¼ãƒ‡ãƒ¼ã‚¿ã®ãƒ¢ãƒƒã‚¯ä½œæˆ
- ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®æ¤œè¨¼æ–¹æ³•
- é€²æ—è¨ˆç®—ã®ãƒ†ã‚¹ãƒˆ

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- **ç·é …ç›®æ•°**: 1é …ç›®
- ğŸ”µ **é’ä¿¡å·**: 1é …ç›® (100%)
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›® (0%)
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›® (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
