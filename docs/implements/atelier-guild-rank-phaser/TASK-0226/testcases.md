# TASK-0226: AlchemyPreviewPanel テストケース一覧

**タスクID**: TASK-0226
**作成日**: 2026-01-10
**バージョン**: 1.0

## 概要

AlchemyPreviewPanelの単体テストケースを定義する。調合プレビューパネルの各機能（プレビュー設定、品質表示、素材リスト、特性リスト、ステータスインジケーター、操作）を網羅的にテストする。

---

## 1. 正常系テストケース

### 1.1 プレビュー設定・取得

#### TC-226-001: プレビュー設定 - 有効なプレビュー情報
**関連要件**: REQ-226-004

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `setPreview(validPreview)` を呼び出す（validPreviewには有効なレシピ、素材、品質情報が含まれる） |
| **期待結果（Then）** | プレビュー情報がパネルに反映される |
| **検証ポイント** | レシピ名、品質、素材リスト、特性リスト、ステータスが表示される |

#### TC-226-002: プレビュー設定 - nullでリセット
**関連要件**: REQ-226-005

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelにプレビューが設定されている |
| **操作（When）** | `setPreview(null)` を呼び出す |
| **期待結果（Then）** | 空の初期状態（「レシピを選択してください」）が表示される |
| **検証ポイント** | レシピ名テキストが「レシピを選択してください」になる |

#### TC-226-003: プレビュー取得 - 現在のプレビュー情報
**関連要件**: REQ-226-004

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelにプレビューが設定されている |
| **操作（When）** | `getPreview()` を呼び出す |
| **期待結果（Then）** | 設定したプレビュー情報と同一のオブジェクトが返される |
| **検証ポイント** | 返却されたオブジェクトのプロパティが設定値と一致する |

#### TC-226-004: プレビュー取得 - 未設定時
**関連要件**: REQ-226-005

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている（プレビュー未設定） |
| **操作（When）** | `getPreview()` を呼び出す |
| **期待結果（Then）** | `null` が返される |
| **検証ポイント** | 戻り値が `null` である |

#### TC-226-005: レシピ名表示
**関連要件**: REQ-226-006

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | レシピ名「癒しの軟膏」を含むプレビューを設定する |
| **期待結果（Then）** | レシピ名「癒しの軟膏」がパネル上部に金色で表示される |
| **検証ポイント** | recipeNameTextのテキストが「癒しの軟膏」、色が#ffd700 |

---

### 1.2 品質表示

#### TC-226-006: 品質表示 - legendary
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'legendary'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「LEGENDARY」、金色（#ffd700）で表示され、ゲージが100%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

#### TC-226-007: 品質表示 - epic
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'epic'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「EPIC」、紫色（#a335ee）で表示され、ゲージが約83%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

#### TC-226-008: 品質表示 - rare
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'rare'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「RARE」、青色（#0070dd）で表示され、ゲージが約67%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

#### TC-226-009: 品質表示 - good
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'good'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「GOOD」、緑色（#1eff00）で表示され、ゲージが約50%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

#### TC-226-010: 品質表示 - normal
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'normal'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「NORMAL」、白色（#ffffff）で表示され、ゲージが約33%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

#### TC-226-011: 品質表示 - poor
**関連要件**: REQ-226-007, REQ-226-008

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'poor'` のプレビューを設定する |
| **期待結果（Then）** | 品質テキストが「POOR」、灰色（#9d9d9d）で表示され、ゲージが約17%塗りつぶされる |
| **検証ポイント** | 品質テキストの内容と色、ゲージの塗りつぶし幅 |

---

### 1.3 素材リスト表示

#### TC-226-012: 素材リスト表示 - 1つの素材
**関連要件**: REQ-226-009

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 1つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 1つのMaterialViewがコンパクトモードで表示される |
| **検証ポイント** | materialViewsの長さが1、コンパクトモードで配置されている |

#### TC-226-013: 素材リスト表示 - 2つの素材
**関連要件**: REQ-226-009

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 2つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 2つのMaterialViewが1行2列で表示される |
| **検証ポイント** | materialViewsの長さが2、グリッドレイアウトで配置 |

#### TC-226-014: 素材リスト表示 - 3つの素材
**関連要件**: REQ-226-009

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 3つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 3つのMaterialViewが2行（2+1）で表示される |
| **検証ポイント** | materialViewsの長さが3 |

#### TC-226-015: 素材リスト表示 - 4つの素材
**関連要件**: REQ-226-009

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 4つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 4つのMaterialViewが2行2列で表示される |
| **検証ポイント** | materialViewsの長さが4 |

---

### 1.4 特性リスト表示

#### TC-226-016: 特性リスト表示 - 1つの特性
**関連要件**: REQ-226-012

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 1つの特性「品質上昇」を含むプレビューを設定する |
| **期待結果（Then）** | 「• 品質上昇」がリスト形式で表示される |
| **検証ポイント** | 特性テキストが1つ表示されている |

#### TC-226-017: 特性リスト表示 - 2つの特性
**関連要件**: REQ-226-012

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 2つの特性「品質上昇」「効果増大」を含むプレビューを設定する |
| **期待結果（Then）** | 2つの特性がリスト形式で表示される |
| **検証ポイント** | 特性テキストが2つ表示されている |

#### TC-226-018: 特性リスト表示 - 3つの特性
**関連要件**: REQ-226-012

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 3つの特性を含むプレビューを設定する |
| **期待結果（Then）** | 3つの特性がすべてリスト形式で表示される |
| **検証ポイント** | 特性テキストが3つ表示されている |

---

### 1.5 ステータスインジケーター

#### TC-226-019: ステータス - 調合可能
**関連要件**: REQ-226-014

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `canCraft: true` のプレビューを設定する |
| **期待結果（Then）** | 「調合可能」ステータスが緑色（#00ff00）で表示される |
| **検証ポイント** | ステータステキストが「調合可能」、色が緑色 |

#### TC-226-020: ステータス - 素材不足
**関連要件**: REQ-226-015

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `canCraft: false, missingMaterials: ['薬草']` のプレビューを設定する |
| **期待結果（Then）** | 「素材不足」ステータスが赤色（#ff4444）で表示される |
| **検証ポイント** | ステータステキストが「素材不足」、色が赤色 |

#### TC-226-021: ステータス - 待機中
**関連要件**: REQ-226-016

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `canCraft: false, missingMaterials: []` のプレビューを設定する |
| **期待結果（Then）** | 「待機中」ステータスが灰色（#aaaaaa）で表示される |
| **検証ポイント** | ステータステキストが「待機中」、色が灰色 |

---

## 2. 異常系テストケース

### 2.1 nullプレビュー設定

#### TC-226-022: プレビュー設定後にnullを設定
**関連要件**: REQ-226-005

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに有効なプレビューが設定されている |
| **操作（When）** | `setPreview(null)` を呼び出す |
| **期待結果（Then）** | パネルが初期状態に戻り、「レシピを選択してください」が表示される |
| **検証ポイント** | preview === null、空状態が表示される |

---

### 2.2 空の素材リスト

#### TC-226-023: 素材リストが空の場合
**関連要件**: REQ-226-011

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `materials: []`（空配列）を含むプレビューを設定する |
| **期待結果（Then）** | 「素材なし」メッセージが表示される |
| **検証ポイント** | materialViewsの長さが0、「素材なし」テキストが表示 |

---

### 2.3 無効な品質値

#### TC-226-024: 未定義の品質値
**関連要件**: REQ-226-007

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: 'unknown'`（未定義の値）を含むプレビューを設定する |
| **期待結果（Then）** | デフォルトの白色（#ffffff）で品質テキストが表示される |
| **検証ポイント** | エラーが発生せず、normalと同じ色で表示される |

#### TC-226-025: 空文字の品質値
**関連要件**: REQ-226-007

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedQuality: ''`（空文字）を含むプレビューを設定する |
| **期待結果（Then）** | デフォルトの白色で品質テキストが表示される |
| **検証ポイント** | エラーが発生しない |

---

### 2.4 空の特性リスト

#### TC-226-026: 特性リストが空の場合
**関連要件**: REQ-226-013

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedTraits: []`（空配列）を含むプレビューを設定する |
| **期待結果（Then）** | 「継承特性なし」メッセージが表示される |
| **検証ポイント** | 「継承特性なし」テキストが表示 |

---

## 3. 境界値テストケース

### 3.1 素材数の境界値

#### TC-226-027: 素材0個
**関連要件**: REQ-226-011

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `materials: []`（0個）を含むプレビューを設定する |
| **期待結果（Then）** | 「素材なし」メッセージが表示される |
| **検証ポイント** | materialViewsの長さが0 |

#### TC-226-028: 素材5個（境界値）
**関連要件**: REQ-226-010

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 5つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 4つのMaterialViewと「+1 more」テキストが表示される |
| **検証ポイント** | materialViewsの長さが4、「+1 more」テキストが存在 |

#### TC-226-029: 素材6個以上
**関連要件**: REQ-226-010

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 6つの素材を含むプレビューを設定する |
| **期待結果（Then）** | 4つのMaterialViewと「+2 more」テキストが表示される |
| **検証ポイント** | materialViewsの長さが4、「+2 more」テキストが存在 |

#### TC-226-030: 素材10個（大量）
**関連要件**: REQ-226-010

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 10個の素材を含むプレビューを設定する |
| **期待結果（Then）** | 4つのMaterialViewと「+6 more」テキストが表示される |
| **検証ポイント** | materialViewsの長さが4、「+6 more」テキストが存在 |

---

### 3.2 特性数の境界値

#### TC-226-031: 特性0個
**関連要件**: REQ-226-013

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | `predictedTraits: []`（0個）を含むプレビューを設定する |
| **期待結果（Then）** | 「継承特性なし」メッセージが表示される |
| **検証ポイント** | 「継承特性なし」テキストが表示 |

#### TC-226-032: 特性4個以上（境界超過）
**関連要件**: REQ-226-012

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 4つの特性を含むプレビューを設定する |
| **期待結果（Then）** | 最初の3つの特性のみ表示される（4つ目は表示されない） |
| **検証ポイント** | 表示される特性テキストが3つのみ |

#### TC-226-033: 特性5個以上
**関連要件**: REQ-226-012

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化されている |
| **操作（When）** | 5つの特性を含むプレビューを設定する |
| **期待結果（Then）** | 最初の3つの特性のみ表示される |
| **検証ポイント** | 表示される特性テキストが3つのみ |

---

## 4. 操作系テストケース

### 4.1 addMaterial操作

#### TC-226-034: 素材追加 - 空のリストに追加
**関連要件**: REQ-226-017

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに `materials: []` のプレビューが設定されている |
| **操作（When）** | `addMaterial(material)` を呼び出す |
| **期待結果（Then）** | 素材リストに1つの素材が追加され、MaterialViewが表示される |
| **検証ポイント** | preview.materials.length === 1、materialViewsの長さが1 |

#### TC-226-035: 素材追加 - 既存リストに追加
**関連要件**: REQ-226-017

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに2つの素材を含むプレビューが設定されている |
| **操作（When）** | `addMaterial(newMaterial)` を呼び出す |
| **期待結果（Then）** | 素材リストが3つに増加し、表示が更新される |
| **検証ポイント** | preview.materials.length === 3 |

#### TC-226-036: 素材追加 - プレビュー未設定時
**関連要件**: REQ-226-017

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelにプレビューが設定されていない（null） |
| **操作（When）** | `addMaterial(material)` を呼び出す |
| **期待結果（Then）** | 何も起こらない（エラーが発生しない） |
| **検証ポイント** | preview === null のまま |

---

### 4.2 removeMaterial操作

#### TC-226-037: 素材削除 - 存在する素材を削除
**関連要件**: REQ-226-018

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに3つの素材を含むプレビューが設定されている |
| **操作（When）** | `removeMaterial(existingMaterial)` を呼び出す |
| **期待結果（Then）** | 素材リストから該当素材が削除され、2つの素材が表示される |
| **検証ポイント** | preview.materials.length === 2 |

#### TC-226-038: 素材削除 - 存在しない素材を削除
**関連要件**: REQ-226-018

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに3つの素材を含むプレビューが設定されている |
| **操作（When）** | `removeMaterial(nonExistingMaterial)` を呼び出す |
| **期待結果（Then）** | 素材リストは変更されず、3つの素材が表示されたまま |
| **検証ポイント** | preview.materials.length === 3 |

#### TC-226-039: 素材削除 - プレビュー未設定時
**関連要件**: REQ-226-018

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelにプレビューが設定されていない（null） |
| **操作（When）** | `removeMaterial(material)` を呼び出す |
| **期待結果（Then）** | 何も起こらない（エラーが発生しない） |
| **検証ポイント** | preview === null のまま |

#### TC-226-040: 素材削除 - 最後の1つを削除
**関連要件**: REQ-226-018, REQ-226-011

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに1つの素材を含むプレビューが設定されている |
| **操作（When）** | `removeMaterial(lastMaterial)` を呼び出す |
| **期待結果（Then）** | 素材リストが空になり、「素材なし」が表示される |
| **検証ポイント** | preview.materials.length === 0、「素材なし」テキスト |

---

### 4.3 clearMaterials操作

#### TC-226-041: 全素材クリア - 複数の素材がある場合
**関連要件**: REQ-226-019

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに5つの素材を含むプレビューが設定されている |
| **操作（When）** | `clearMaterials()` を呼び出す |
| **期待結果（Then）** | 素材リストがすべてクリアされ、「素材なし」が表示される |
| **検証ポイント** | preview.materials.length === 0、materialViewsの長さが0 |

#### TC-226-042: 全素材クリア - 既に空の場合
**関連要件**: REQ-226-019

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelに `materials: []` のプレビューが設定されている |
| **操作（When）** | `clearMaterials()` を呼び出す |
| **期待結果（Then）** | 素材リストは空のまま、「素材なし」が表示される |
| **検証ポイント** | preview.materials.length === 0 |

#### TC-226-043: 全素材クリア - プレビュー未設定時
**関連要件**: REQ-226-019

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelにプレビューが設定されていない（null） |
| **操作（When）** | `clearMaterials()` を呼び出す |
| **期待結果（Then）** | 何も起こらない（エラーが発生しない） |
| **検証ポイント** | preview === null のまま |

---

### 4.4 setVisible操作

#### TC-226-044: 表示切り替え - 非表示にする
**関連要件**: REQ-226-020

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが表示状態である |
| **操作（When）** | `setVisible(false)` を呼び出す |
| **期待結果（Then）** | パネル全体が非表示になる |
| **検証ポイント** | container.visible === false |

#### TC-226-045: 表示切り替え - 表示にする
**関連要件**: REQ-226-020

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが非表示状態である |
| **操作（When）** | `setVisible(true)` を呼び出す |
| **期待結果（Then）** | パネル全体が表示される |
| **検証ポイント** | container.visible === true |

---

### 4.5 setEnabled操作

#### TC-226-046: 有効状態切り替え - 無効にする
**関連要件**: REQ-226-021

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが有効状態である |
| **操作（When）** | `setEnabled(false)` を呼び出す |
| **期待結果（Then）** | パネルがグレーアウトされる（透明度0.5） |
| **検証ポイント** | container.alpha === 0.5 |

#### TC-226-047: 有効状態切り替え - 有効にする
**関連要件**: REQ-226-021

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが無効状態である |
| **操作（When）** | `setEnabled(true)` を呼び出す |
| **期待結果（Then）** | パネルが通常状態に戻る（透明度1.0） |
| **検証ポイント** | container.alpha === 1 |

---

### 4.6 destroy操作

#### TC-226-048: リソース破棄 - 正常破棄
**関連要件**: REQ-226-022

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化され、MaterialViewが複数ある |
| **操作（When）** | `destroy()` を呼び出す |
| **期待結果（Then）** | すべてのMaterialViewとPhaserコンテナが破棄される |
| **検証ポイント** | materialViews内のすべてのインスタンスが破棄される、container.destroy()が呼ばれる |

#### TC-226-049: リソース破棄 - 素材なしで破棄
**関連要件**: REQ-226-022

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | AlchemyPreviewPanelが初期化され、素材がない（MaterialViewなし） |
| **操作（When）** | `destroy()` を呼び出す |
| **期待結果（Then）** | Phaserコンテナが破棄される（エラーなし） |
| **検証ポイント** | container.destroy()が呼ばれる |

---

## 5. 初期化・コンストラクタテストケース

### 5.1 オプション設定

#### TC-226-050: デフォルトオプションで初期化
**関連要件**: REQ-226-003

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | Phaserシーンが存在する |
| **操作（When）** | `new AlchemyPreviewPanel(scene)` を呼び出す（オプションなし） |
| **期待結果（Then）** | パネルが座標(0, 0)、サイズ250x350で初期化される |
| **検証ポイント** | container.x === 0、container.y === 0 |

#### TC-226-051: カスタム座標で初期化
**関連要件**: REQ-226-003

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | Phaserシーンが存在する |
| **操作（When）** | `new AlchemyPreviewPanel(scene, { x: 100, y: 200 })` を呼び出す |
| **期待結果（Then）** | パネルが座標(100, 200)で初期化される |
| **検証ポイント** | container.x === 100、container.y === 200 |

#### TC-226-052: 初期状態の確認
**関連要件**: REQ-226-005

| 項目 | 内容 |
|------|------|
| **前提条件（Given）** | Phaserシーンが存在する |
| **操作（When）** | `new AlchemyPreviewPanel(scene)` を呼び出す |
| **期待結果（Then）** | 空の初期状態が表示される（「レシピを選択してください」） |
| **検証ポイント** | preview === null、初期メッセージが表示 |

---

## テストケースサマリー

| カテゴリ | テストケース数 |
|---------|---------------|
| 正常系 - プレビュー設定・取得 | 5 |
| 正常系 - 品質表示 | 6 |
| 正常系 - 素材リスト表示 | 4 |
| 正常系 - 特性リスト表示 | 3 |
| 正常系 - ステータスインジケーター | 3 |
| 異常系 | 5 |
| 境界値 - 素材数 | 4 |
| 境界値 - 特性数 | 3 |
| 操作系 - addMaterial | 3 |
| 操作系 - removeMaterial | 4 |
| 操作系 - clearMaterials | 3 |
| 操作系 - setVisible | 2 |
| 操作系 - setEnabled | 2 |
| 操作系 - destroy | 2 |
| 初期化・コンストラクタ | 3 |
| **合計** | **52** |

---

## 変更履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|----------|
| 1.0 | 2026-01-10 | 初版作成 |
