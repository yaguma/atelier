# è¤‡æ•°æ—¥é€²è¡Œçµ±åˆãƒ†ã‚¹ãƒˆ - TDDãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸

**ã‚¿ã‚¹ã‚¯ID**: TASK-0263
**æ©Ÿèƒ½å**: è¤‡æ•°æ—¥é€²è¡Œçµ±åˆãƒ†ã‚¹ãƒˆ (Multi-Day Progression Integration)
**è¦ä»¶å**: atelier-guild-rank-phaser
**ä½œæˆæ—¥**: 2026-01-13
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 5 - çµ±åˆãƒ†ã‚¹ãƒˆãƒ»æœ€é©åŒ–ãƒ»ä»•ä¸Šã’

---

## ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª**: TypeScript 5.7.0
  - **è¨€èªé¸æŠã®ç†ç”±**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨™æº–è¨€èªã§ã‚ã‚Šã€å‹å®‰å…¨æ€§ãŒç¢ºä¿ã•ã‚Œã‚‹
  - **ãƒ†ã‚¹ãƒˆã«é©ã—ãŸæ©Ÿèƒ½**: å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã®ä¿¡é ¼æ€§ãŒå‘ä¸Šã™ã‚‹
- **ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Vitest 2.1.0
  - **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠã®ç†ç”±**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨™æº–ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  - **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒ**: jsdomç’°å¢ƒã§Phaserãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆCLAUDE.mdã€note.mdã«æ˜è¨˜ï¼‰

---

## 1. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Day Progressionï¼ˆæ—¥æ•°é€²è¡Œï¼‰

### TC-01: 1æ—¥ãŒæ­£å¸¸ã«é€²è¡Œã™ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: 1æ—¥ãŒæ­£å¸¸ã«é€²è¡Œã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: 1æ—¥ï¼ˆ1ã‚¿ãƒ¼ãƒ³ï¼‰ã®ã‚²ãƒ¼ãƒ ã‚µã‚¤ã‚¯ãƒ«ãŒæ­£å¸¸ã«å®Œäº†ã—ã€æ—¥æ•°ãŒ1æ—¥é€²ã‚€ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€currentDayãŒ+1å¢—åŠ ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: currentDay = 1
  - æ“ä½œ: advanceDay(game, eventBus)ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ã‚²ãƒ¼ãƒ é–‹å§‹ç›´å¾Œã®çŠ¶æ…‹ã‹ã‚‰1æ—¥ã‚’é€²ã‚ã‚‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: currentDay = 2
  - **æœŸå¾…çµæœã®ç†ç”±**: 1ã‚¿ãƒ¼ãƒ³ã‚µã‚¤ã‚¯ãƒ«ãŒå®Œäº†ã™ã‚‹ã¨ã€æ¬¡ã®æ—¥ã«é€²ã‚€è¨­è¨ˆ
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ—¥æ•°é€²è¡Œã®åŸºæœ¬å‹•ä½œã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: StateManagerã®currentDayãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã«è©³ç´°ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚ã‚Šï¼‰

### TC-02: è¤‡æ•°æ—¥ã‚’é€£ç¶šã—ã¦é€²è¡Œã§ãã‚‹

- **ãƒ†ã‚¹ãƒˆå**: è¤‡æ•°æ—¥ã‚’é€£ç¶šã—ã¦é€²è¡Œã§ãã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: è¤‡æ•°æ—¥ï¼ˆ5æ—¥é–“ï¼‰ã‚’é€£ç¶šã—ã¦é€²è¡Œã§ãã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: 5å›ã®advanceDay()å®Ÿè¡Œã§ã€currentDayãŒ+5å¢—åŠ ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: currentDay = 1
  - æ“ä½œ: advanceDay()ã‚’5å›å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é•·æœŸãƒ—ãƒ¬ã‚¤ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: currentDay = 6
  - **æœŸå¾…çµæœã®ç†ç”±**: è¤‡æ•°æ—¥ã«ã‚ãŸã‚‹ã‚²ãƒ¼ãƒ é€²è¡ŒãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: é•·æœŸãƒ—ãƒ¬ã‚¤ã®å®‰å®šæ€§ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ—¥æ•°ãŒç´¯ç©çš„ã«å¢—åŠ ã—ã€çŠ¶æ…‹ãŒä¸€è²«ã—ã¦ä¿æŒã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-02ã«å¯¾å¿œï¼‰

### TC-03: å„æ—¥ã®é–‹å§‹æ™‚ã«APãŒæœ€å¤§å€¤ã«å›å¾©ã™ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: å„æ—¥ã®é–‹å§‹æ™‚ã«APãŒæœ€å¤§å€¤ã«å›å¾©ã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ—¥ã‚’è·¨ãã¨APãŒæœ€å¤§å€¤ã¾ã§å›å¾©ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å®Ÿè¡Œå¾Œã€ap.current === ap.maxã«ãªã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: ap = { current: 0, max: 3 }ï¼ˆAPæ¶ˆè²»æ¸ˆã¿ï¼‰
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å‰æ—¥ã§APã‚’ä½¿ã„åˆ‡ã£ãŸçŠ¶æ…‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: ap.current = 3
  - **æœŸå¾…çµæœã®ç†ç”±**: ç¿Œæ—¥é–‹å§‹æ™‚ã«APãŒå…¨å›å¾©ã™ã‚‹è¨­è¨ˆ
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒªã‚½ãƒ¼ã‚¹å›å¾©ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¿ãƒ¼ãƒ³çµ‚äº†å‡¦ç†ã§APãŒæ­£ã—ãæœ€å¤§å€¤ã«è¨­å®šã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-03ã€dataflow.mdã«è¨˜è¼‰ï¼‰

### TC-04: å„æ—¥ã®é–‹å§‹æ™‚ã«æ–°ã—ã„ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: å„æ—¥ã®é–‹å§‹æ™‚ã«æ–°ã—ã„ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ—¥ã‚’è·¨ãã¨æ–°è¦ä¾é ¼ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å®Ÿè¡Œå¾Œã€quests.available.lengthãŒå¢—åŠ ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: quests.available.length = 0
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ä¾é ¼ãŒç©ºã®çŠ¶æ…‹ã‹ã‚‰æ–°ã—ã„æ—¥ã‚’é–‹å§‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: quests.available.length >= 1
  - **æœŸå¾…çµæœã®ç†ç”±**: æ¯æ—¥æ–°è¦ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹è¨­è¨ˆ
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ä¾é ¼ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ—¥æ•°é€²è¡Œãƒˆãƒªã‚¬ãƒ¼ã§ä¾é ¼ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-04ã€core-systems.mdã«è¨˜è¼‰ï¼‰

---

## 2. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Experience and Rank Progressionï¼ˆçµŒé¨“å€¤ãƒ»ãƒ©ãƒ³ã‚¯é€²è¡Œï¼‰

### TC-05: ä¾é ¼å®Œäº†ã§çµŒé¨“å€¤ãŒè“„ç©ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ä¾é ¼å®Œäº†ã§çµŒé¨“å€¤ãŒè“„ç©ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ä¾é ¼ã‚’ç´å“ã™ã‚‹ã¨çµŒé¨“å€¤ãŒç²å¾—ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ä¾é ¼å®Œäº†å¾Œã€player.expãŒå¢—åŠ ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: player.exp = 0
  - æ“ä½œ: ä¾é ¼ã‚’å®Œäº†ï¼ˆå ±é…¬exp: 50ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: çµŒé¨“å€¤ã‚’ç²å¾—ã§ãã‚‹ä¾é ¼ã‚’å®Œäº†
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: player.exp = 50
  - **æœŸå¾…çµæœã®ç†ç”±**: ä¾é ¼å ±é…¬ã®çµŒé¨“å€¤ãŒæ­£ã—ãåŠ ç®—ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çµŒé¨“å€¤ç²å¾—ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ä¾é ¼å ±é…¬ãŒæ­£ã—ããƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ä»˜ä¸ã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-05ã«å¯¾å¿œï¼‰

### TC-06: çµŒé¨“å€¤ãŒä¸Šé™ã«é”ã™ã‚‹ã¨ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—å¯èƒ½ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆå**: çµŒé¨“å€¤ãŒä¸Šé™ã«é”ã™ã‚‹ã¨ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—å¯èƒ½ã«ãªã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: çµŒé¨“å€¤ãŒä¸Šé™ã«é”ã™ã‚‹ã¨app:rankup:availableã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: exp >= maxExpã«ãªã‚‹ã¨ã€ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—å¯èƒ½é€šçŸ¥ãŒç™ºç”Ÿ
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: rank = 'E', exp = 99, maxExp = 100
  - æ“ä½œ: ä¾é ¼å®Œäº†ã§çµŒé¨“å€¤+50ã‚’ç²å¾—
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: çµŒé¨“å€¤ãŒä¸Šé™ã‚’è¶…ãˆã‚‹ä¾é ¼ã‚’å®Œäº†
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:rankup:availableã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã€exp >= 100
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—åˆ¤å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: çµŒé¨“å€¤ä¸Šé™åˆ°é”æ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-06ã€core-systems.mdã«è¨˜è¼‰ï¼‰

### TC-07: è¤‡æ•°æ—¥ã«ã‚ãŸã£ã¦ã‚´ãƒ¼ãƒ«ãƒ‰ãŒç´¯ç©ã™ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: è¤‡æ•°æ—¥ã«ã‚ãŸã£ã¦ã‚´ãƒ¼ãƒ«ãƒ‰ãŒç´¯ç©ã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: è¤‡æ•°æ—¥ã«ã‚ãŸã£ã¦ä¾é ¼ã‚’å®Œäº†ã™ã‚‹ã¨ã€ã‚´ãƒ¼ãƒ«ãƒ‰ãŒç´¯ç©ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å„æ—¥ã®ä¾é ¼å ±é…¬ã‚´ãƒ¼ãƒ«ãƒ‰ãŒã™ã¹ã¦åŠ ç®—ã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: gold = 100
  - æ“ä½œ: 3æ—¥é–“ã€å„æ—¥ã§ä¾é ¼å®Œäº†ï¼ˆå ±é…¬: 100, 150, 200ã‚´ãƒ¼ãƒ«ãƒ‰ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: è¤‡æ•°æ—¥ã«ã‚ãŸã‚‹åç›Šã®ç´¯ç©
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: gold = 100 + 100 + 150 + 200 = 550
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚´ãƒ¼ãƒ«ãƒ‰ãŒãƒ•ã‚§ãƒ¼ã‚ºã‚’è·¨ã„ã§æ­£ã—ãä¿æŒã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒªã‚½ãƒ¼ã‚¹ç´¯ç©ã®æ­£ç¢ºæ€§ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: è¤‡æ•°æ—¥ã«ã‚ãŸã£ã¦çŠ¶æ…‹ãŒä¸€è²«ã—ã¦ä¿æŒã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-07ã«å¯¾å¿œï¼‰

---

## 3. ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Day Limitï¼ˆæ—¥æ•°åˆ¶é™ï¼‰

### TC-08: æœ€å¤§æ—¥æ•°ã«è¿‘ã¥ãã¨è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æœ€å¤§æ—¥æ•°ã«è¿‘ã¥ãã¨è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: æ®‹ã‚Šæ—¥æ•°ãŒå°‘ãªããªã£ãŸçŠ¶æ…‹
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«æœŸé™ãŒè¿«ã£ã¦ã„ã‚‹ã“ã¨ã‚’é€šçŸ¥ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: currentDay = 25, maxDay = 30
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œï¼ˆ26æ—¥ç›®ã¸ï¼‰
  - **ä¸æ­£ãªç†ç”±**: æ®‹ã‚Šæ—¥æ•°ãŒ5æ—¥ä»¥ä¸‹ã¯è­¦å‘Šå¯¾è±¡
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ã‚²ãƒ¼ãƒ çµ‚ç›¤ã§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ™‚é–“åˆ‡ã‚Œã«æ°—ã¥ã‹ãªã„å ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:day:warningã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: æ®‹ã‚Šæ—¥æ•°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«é©åˆ‡ãªè­¦å‘Šã‚’ä¸ãˆã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: è­¦å‘Šã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-08ã«å¯¾å¿œï¼‰

### TC-09: æœ€å¤§æ—¥æ•°ã‚’è¶…ãˆã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æœ€å¤§æ—¥æ•°ã‚’è¶…ãˆã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã«ãªã‚‹
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: æ—¥æ•°åˆ¶é™åˆ‡ã‚Œã§ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ã‚²ãƒ¼ãƒ çµ‚äº†æ¡ä»¶ã®é©åˆ‡ãªå‡¦ç†
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: currentDay = 30, maxDay = 30, rank = 'C'ï¼ˆSãƒ©ãƒ³ã‚¯æœªé”ï¼‰
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **ä¸æ­£ãªç†ç”±**: æ—¥æ•°åˆ¶é™ã‚’è¶…ãˆã¦Sãƒ©ãƒ³ã‚¯ã«åˆ°é”ã—ã¦ã„ãªã„
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæœŸé™å†…ã«Sãƒ©ãƒ³ã‚¯ã«åˆ°é”ã§ããªã‹ã£ãŸå ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:game:overã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã€reason: 'æœŸé™åˆ‡ã‚Œ'
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: æ—¥æ•°åˆ¶é™ã«ã‚ˆã‚‹ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ãŒæ˜ç¤ºã•ã‚Œã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ã‚²ãƒ¼ãƒ çµ‚äº†æ¡ä»¶ãŒæ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼åˆ¤å®šã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«ã®å³æ ¼ãªé©ç”¨
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-09ã€core-systems.mdã«è¨˜è¼‰ï¼‰

### TC-10: æœ€å¤§æ—¥æ•°å‰ã«Sãƒ©ãƒ³ã‚¯ã«åˆ°é”ã™ã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢

- **ãƒ†ã‚¹ãƒˆå**: æœ€å¤§æ—¥æ•°å‰ã«Sãƒ©ãƒ³ã‚¯ã«åˆ°é”ã™ã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢æ¡ä»¶ã®é”æˆ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢æ¡ä»¶ã®é©åˆ‡ãªå‡¦ç†
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: currentDay = 20, maxDay = 30, rank = 'A', exp = 999, maxExp = 1000
  - æ“ä½œ: ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—ã—ã¦Sãƒ©ãƒ³ã‚¯ã«åˆ°é”
  - **ä¸æ­£ãªç†ç”±**: ãªã—ï¼ˆæ­£å¸¸ãªã‚¯ãƒªã‚¢æ¡ä»¶ï¼‰
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒSãƒ©ãƒ³ã‚¯ã«åˆ°é”ã—ãŸå ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:game:clearã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢ãŒæ˜ç¤ºã•ã‚Œã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢æ¡ä»¶ãŒæ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢åˆ¤å®šã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ã‚²ãƒ¼ãƒ ç›®æ¨™ã®é”æˆæ¤œè¨¼
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-10ã«å¯¾å¿œï¼‰

---

## 4. ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Gold Managementï¼ˆã‚´ãƒ¼ãƒ«ãƒ‰ç®¡ç†ï¼‰

### TC-11: ã‚´ãƒ¼ãƒ«ãƒ‰ãŒãƒã‚¤ãƒŠã‚¹ã«ãªã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼

- **ãƒ†ã‚¹ãƒˆå**: ã‚´ãƒ¼ãƒ«ãƒ‰ãŒãƒã‚¤ãƒŠã‚¹ã«ãªã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ã‚´ãƒ¼ãƒ«ãƒ‰ä¸è¶³ã§ã®è³¼å…¥è©¦è¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: è³‡é‡‘ç®¡ç†ã®å³æ ¼ãªé©ç”¨
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: gold = 10
  - æ“ä½œ: é«˜é¡ã‚¢ã‚¤ãƒ†ãƒ ã‚’è³¼å…¥ï¼ˆä¾¡æ ¼ > 10ï¼‰
  - **ä¸æ­£ãªç†ç”±**: æ‰€æŒé‡‘ã‚’è¶…ãˆã‚‹è³¼å…¥ã¯ã§ããªã„
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒèª¤ã£ã¦é«˜é¡å•†å“ã‚’è³¼å…¥ã—ã‚ˆã†ã¨ã—ãŸå ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:error:occurredã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ã‚´ãƒ¼ãƒ«ãƒ‰ä¸è¶³ãŒæ˜ç¤ºã•ã‚Œã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ã‚´ãƒ¼ãƒ«ãƒ‰ãŒãƒã‚¤ãƒŠã‚¹ã«ãªã‚‰ãªã„ã‚ˆã†é˜²æ­¢
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚´ãƒ¼ãƒ«ãƒ‰ä¸è¶³æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã®æ•´åˆæ€§ç¶­æŒ
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-11ã«å¯¾å¿œï¼‰

### TC-12: ã‚·ãƒ§ãƒƒãƒ—ã§ã®è³¼å…¥ã§ã‚´ãƒ¼ãƒ«ãƒ‰ãŒæ¸›å°‘ã™ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ã‚·ãƒ§ãƒƒãƒ—ã§ã®è³¼å…¥ã§ã‚´ãƒ¼ãƒ«ãƒ‰ãŒæ¸›å°‘ã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ã‚·ãƒ§ãƒƒãƒ—ã§å•†å“ã‚’è³¼å…¥ã™ã‚‹ã¨ã‚´ãƒ¼ãƒ«ãƒ‰ãŒæ¸›å°‘ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: è³¼å…¥å¾Œã€goldãŒè³¼å…¥ä¾¡æ ¼åˆ†æ¸›å°‘ã™ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: gold = 100
  - æ“ä½œ: ç´ æã‚’è³¼å…¥ï¼ˆä¾¡æ ¼: 20ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é€šå¸¸ã®ã‚·ãƒ§ãƒƒãƒ—åˆ©ç”¨
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: gold = 80
  - **æœŸå¾…çµæœã®ç†ç”±**: è³¼å…¥ä¾¡æ ¼ãŒæ­£ã—ãå·®ã—å¼•ã‹ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚·ãƒ§ãƒƒãƒ—è³¼å…¥ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚´ãƒ¼ãƒ«ãƒ‰ãŒæ­£ã—ãæ¸›å°‘ã™ã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-12ã«å¯¾å¿œï¼‰

---

## 5. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Quest Generationï¼ˆä¾é ¼ç”Ÿæˆï¼‰

### TC-13: æ—¥ãŒé€²ã‚€ã¨æ–°ã—ã„ä¾é ¼ãŒè¿½åŠ ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æ—¥ãŒé€²ã‚€ã¨æ–°ã—ã„ä¾é ¼ãŒè¿½åŠ ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ—¥æ•°é€²è¡Œã§æ–°è¦ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å¾Œã€quests.available.lengthãŒå¢—åŠ 
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: quests.available = []
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ä¾é ¼ãŒç©ºã®çŠ¶æ…‹ã‹ã‚‰æ–°ã—ã„æ—¥ã‚’é–‹å§‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: quests.available.length > 0
  - **æœŸå¾…çµæœã®ç†ç”±**: æ¯æ—¥æ–°è¦ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ä¾é ¼ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ—¥æ•°é€²è¡Œã§ä¾é ¼ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-13ã«å¯¾å¿œï¼‰

### TC-14: ãƒ©ãƒ³ã‚¯ã«å¿œã˜ãŸä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ãƒ©ãƒ³ã‚¯ã«å¿œã˜ãŸä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ©ãƒ³ã‚¯ã«å¿œã˜ãŸä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ç¾åœ¨ã®ãƒ©ãƒ³ã‚¯ä»¥ä¸‹ã®ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: rank = 'B'
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: Bãƒ©ãƒ³ã‚¯ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä¾é ¼ç”Ÿæˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: ç”Ÿæˆã•ã‚ŒãŸä¾é ¼ã®requiredRankãŒ'E', 'D', 'C', 'B'ã®ã„ãšã‚Œã‹
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ©ãƒ³ã‚¯ã«å¿œã˜ãŸé›£æ˜“åº¦ã®ä¾é ¼ãŒæä¾›ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ä¾é ¼é›£æ˜“åº¦èª¿æ•´ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒ©ãƒ³ã‚¯ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-14ã«å¯¾å¿œï¼‰

### TC-15: æœªå®Œäº†ã®å—æ³¨ä¾é ¼ã¯ç¿Œæ—¥ã‚‚ç¶™ç¶šã™ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æœªå®Œäº†ã®å—æ³¨ä¾é ¼ã¯ç¿Œæ—¥ã‚‚ç¶™ç¶šã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å—æ³¨æ¸ˆã¿ä¾é ¼ãŒæ—¥ã‚’è·¨ã„ã§ä¿æŒã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å¾Œã€quests.acceptedã«ä¾é ¼ãŒæ®‹ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: quests.accepted = [{ id: 'continuing_quest', deadline: 3 }]
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æœªå®Œäº†ã®ä¾é ¼ãŒã‚ã‚‹çŠ¶æ…‹ã§æ—¥ã‚’è·¨ã
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: quests.acceptedã«'continuing_quest'ãŒå­˜åœ¨
  - **æœŸå¾…çµæœã®ç†ç”±**: ä¾é ¼ã®æœŸé™å†…ã¯ä¿æŒã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ä¾é ¼ã®æ°¸ç¶šæ€§ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å—æ³¨ä¾é ¼ãŒãƒ•ã‚§ãƒ¼ã‚ºã‚’è·¨ã„ã§ä¿æŒã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-15ã«å¯¾å¿œï¼‰

### TC-16: æœŸé™åˆ‡ã‚Œã®ä¾é ¼ã¯å¤±æ•—æ‰±ã„ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æœŸé™åˆ‡ã‚Œã®ä¾é ¼ã¯å¤±æ•—æ‰±ã„ã«ãªã‚‹
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ä¾é ¼ã®æœŸé™åˆ‡ã‚Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: æœŸé™ç®¡ç†ã®å³æ ¼ãªé©ç”¨
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: quests.accepted = [{ id: 'expiring_quest', deadline: 1 }]
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **ä¸æ­£ãªç†ç”±**: æœŸé™åˆ‡ã‚Œã®ä¾é ¼ã¯å¤±æ•—æ‰±ã„
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒä¾é ¼ã‚’æœŸé™å†…ã«å®Œäº†ã§ããªã‹ã£ãŸå ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: app:quest:failedã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã€questId: 'expiring_quest'
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: æœŸé™åˆ‡ã‚ŒãŒæ˜ç¤ºã•ã‚Œã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: æœŸé™åˆ‡ã‚Œä¾é ¼ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æœŸé™åˆ‡ã‚Œå‡¦ç†ã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ä¾é ¼ã‚·ã‚¹ãƒ†ãƒ ã®æ•´åˆæ€§ç¶­æŒ
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-16ã«å¯¾å¿œï¼‰

---

## 6. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - Deck Managementï¼ˆãƒ‡ãƒƒã‚­ç®¡ç†ï¼‰

### TC-17: æ—¥ãŒé€²ã‚€ã¨æ‰‹æœ­ãŒè£œå……ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æ—¥ãŒé€²ã‚€ã¨æ‰‹æœ­ãŒè£œå……ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ—¥æ•°é€²è¡Œã§æ‰‹æœ­ãŒè£œå……ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å¾Œã€deck.hand.lengthãŒå¢—åŠ 
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: deck.hand = [], deck.cards = [card1, card2, card3]
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­ãŒç©ºã®çŠ¶æ…‹ã‹ã‚‰æ–°ã—ã„æ—¥ã‚’é–‹å§‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: deck.hand.length > 0
  - **æœŸå¾…çµæœã®ç†ç”±**: æ¯æ—¥æ‰‹æœ­ãŒè£œå……ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­è£œå……ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒ‡ãƒƒã‚­ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ãŒãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-17ã«å¯¾å¿œï¼‰

### TC-18: æ¨ã¦æœ­ã¯ãƒ‡ãƒƒã‚­ã«æˆ»ã‚‹

- **ãƒ†ã‚¹ãƒˆå**: æ¨ã¦æœ­ã¯ãƒ‡ãƒƒã‚­ã«æˆ»ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ—¥æ•°é€²è¡Œã§æ¨ã¦æœ­ãŒãƒ‡ãƒƒã‚­ã«æˆ»ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: advanceDay()å¾Œã€discardãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã€cardsã«æˆ»ã‚‹
- **å…¥åŠ›å€¤**:
  - åˆæœŸçŠ¶æ…‹: deck.hand = [], deck.cards = [], deck.discard = [card1, card2]
  - æ“ä½œ: advanceDay()ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ¨ã¦æœ­ã®ã¿ãŒã‚ã‚‹çŠ¶æ…‹ã§æ–°ã—ã„æ—¥ã‚’é–‹å§‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**: deck.hand.length + deck.cards.length + deck.discard.length = 2
  - **æœŸå¾…çµæœã®ç†ç”±**: æ¨ã¦æœ­ãŒãƒ‡ãƒƒã‚­ã«æˆ»ã‚Šã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¦ãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ‡ãƒƒã‚­ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ¨ã¦æœ­ãŒæ­£ã—ããƒ‡ãƒƒã‚­ã«çµ±åˆã•ã‚Œã‚‹
- ğŸ”µ **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: é’ä¿¡å·ï¼ˆTASK-0263.mdã®TC-18ã«å¯¾å¿œï¼‰

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…æ™‚ã®æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆæŒ‡é‡

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹é–‹å§‹æ™‚ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: è¤‡æ•°æ—¥ã«ã‚ãŸã‚‹ã‚²ãƒ¼ãƒ é€²è¡ŒãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
// ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: advanceDay()ã‚’è¤‡æ•°å›å®Ÿè¡Œã—ã€æ—¥æ•°ãŒç´¯ç©çš„ã«å¢—åŠ ã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹
// ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: 5æ—¥é–“é€²è¡Œã™ã‚‹ã¨ã€currentDayãŒåˆæœŸå€¤+5ã«ãªã‚‹
// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆTASK-0263.mdã«è©³ç´°ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚ã‚Šï¼‰
```

### Givenï¼ˆæº–å‚™ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: åˆæœŸæ—¥æ•°ã‚’è¨˜éŒ²ã—ã€5æ—¥é–“é€²è¡Œã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
// ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: currentDay = 1ã®çŠ¶æ…‹ã‹ã‚‰é–‹å§‹
// ã€å‰ææ¡ä»¶ç¢ºèªã€‘: StateManagerãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
```

### Whenï¼ˆå®Ÿè¡Œãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€å®Ÿéš›ã®å‡¦ç†å®Ÿè¡Œã€‘: advanceDay()ã‚’5å›é€£ç¶šã§å®Ÿè¡Œã™ã‚‹
// ã€å‡¦ç†å†…å®¹ã€‘: å„advanceDay()ã§ãƒ•ã‚§ãƒ¼ã‚ºé·ç§»ã¨ã‚¿ãƒ¼ãƒ³çµ‚äº†å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹
// ã€å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘: å„æ—¥ã®ã™ã¹ã¦ã®ãƒ•ã‚§ãƒ¼ã‚ºã‚’å®Œäº†ã—ã¦ã‹ã‚‰æ¬¡ã®æ—¥ã¸é€²ã‚€
```

### Thenï¼ˆæ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€çµæœæ¤œè¨¼ã€‘: æ—¥æ•°ãŒæ­£ã—ã5æ—¥é€²ã‚“ã§ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
// ã€æœŸå¾…å€¤ç¢ºèªã€‘: currentDayãŒåˆæœŸå€¤+5ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã™ã‚‹
// ã€å“è³ªä¿è¨¼ã€‘: è¤‡æ•°æ—¥ã«ã‚ãŸã£ã¦çŠ¶æ…‹ãŒä¸€è²«ã—ã¦ä¿æŒã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹
```

### å„expectã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
expect(stateManager.getProgress().currentDay).toBe(initialDay + 5); // ã€ç¢ºèªå†…å®¹ã€‘: æ—¥æ•°ãŒ5æ—¥é€²ã‚“ã§ã„ã‚‹ã“ã¨ã‚’ç¢ºèª ğŸ”µ
expect(stateManager.getPlayerData().ap.current).toBe(3); // ã€ç¢ºèªå†…å®¹ã€‘: APãŒæœ€å¤§å€¤ã¾ã§å›å¾©ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª ğŸ”µ
expect(stateManager.getQuests().available.length).toBeGreaterThan(0); // ã€ç¢ºèªå†…å®¹ã€‘: æ–°è¦ä¾é ¼ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª ğŸ”µ
```

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
beforeEach(async () => {
  // ã€ãƒ†ã‚¹ãƒˆå‰æº–å‚™ã€‘: å„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’åˆæœŸåŒ–ã—ã€ä¸€è²«ã—ãŸãƒ†ã‚¹ãƒˆæ¡ä»¶ã‚’ä¿è¨¼
  // ã€ç’°å¢ƒåˆæœŸåŒ–ã€‘: å‰ã®ãƒ†ã‚¹ãƒˆã®å½±éŸ¿ã‚’å—ã‘ãªã„ã‚ˆã†ã€ã‚²ãƒ¼ãƒ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ–°è¦ä½œæˆ
  const testSetup = await createTestGame();
  game = testSetup.game;
  eventBus = testSetup.eventBus;
  stateManager = testSetup.stateManager;
});

afterEach(() => {
  // ã€ãƒ†ã‚¹ãƒˆå¾Œå‡¦ç†ã€‘: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã«ä½œæˆã•ã‚ŒãŸã‚²ãƒ¼ãƒ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç ´æ£„
  // ã€çŠ¶æ…‹å¾©å…ƒã€‘: æ¬¡ã®ãƒ†ã‚¹ãƒˆã«å½±éŸ¿ã—ãªã„ã‚ˆã†ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å…ƒã®çŠ¶æ…‹ã«æˆ»ã™
  if (game) {
    game.destroy(true);
  }
  if (eventBus) {
    eventBus.clear();
  }
});
```

---

## è¦ä»¶å®šç¾©ã¨ã®å¯¾å¿œé–¢ä¿‚

### å‚ç…§ã—ãŸæ©Ÿèƒ½æ¦‚è¦
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/implements/atelier-guild-rank-phaser/TASK-0263/multi-day-progression-requirements.md`
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³**: 1. æ©Ÿèƒ½ã®æ¦‚è¦
- **å¯¾å¿œå†…å®¹**: è¤‡æ•°æ—¥é€²è¡Œçµ±åˆãƒ†ã‚¹ãƒˆã®ç›®çš„ã¨è§£æ±ºã™ã‚‹å•é¡Œ

### å‚ç…§ã—ãŸå…¥åŠ›ãƒ»å‡ºåŠ›ä»•æ§˜
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/implements/atelier-guild-rank-phaser/TASK-0263/multi-day-progression-requirements.md`
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³**: 2. å…¥åŠ›ãƒ»å‡ºåŠ›ã®ä»•æ§˜
- **å¯¾å¿œå†…å®¹**: EventBusã‚¤ãƒ™ãƒ³ãƒˆã€StateManagerçŠ¶æ…‹æ“ä½œã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### å‚ç…§ã—ãŸåˆ¶ç´„æ¡ä»¶
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/implements/atelier-guild-rank-phaser/TASK-0263/multi-day-progression-requirements.md`
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³**: 3. åˆ¶ç´„æ¡ä»¶
- **å¯¾å¿œå†…å®¹**: ãƒ†ã‚¹ãƒˆç’°å¢ƒåˆ¶ç´„ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ¶ç´„ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

### å‚ç…§ã—ãŸä½¿ç”¨ä¾‹
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/implements/atelier-guild-rank-phaser/TASK-0263/multi-day-progression-requirements.md`
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³**: 4. æƒ³å®šã•ã‚Œã‚‹ä½¿ç”¨ä¾‹
- **å¯¾å¿œå†…å®¹**: åŸºæœ¬çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

### å‚ç…§ã—ãŸã‚¿ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/tasks/atelier-guild-rank-phaser/TASK-0263.md`
- **å¯¾å¿œå†…å®¹**: 18å€‹ã®è©³ç´°ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¨ã‚³ãƒ¼ãƒ‰ä¾‹

### å‚ç…§ã—ãŸã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/implements/atelier-guild-rank-phaser/TASK-0263/note.md`
- **å¯¾å¿œå†…å®¹**: æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€é–‹ç™ºãƒ«ãƒ¼ãƒ«ã€ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€æ³¨æ„äº‹é …

### å‚ç…§ã—ãŸæ—¢å­˜ãƒ†ã‚¹ãƒˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«**:
  - `atelier-guild-rank-html/tests/integration/phaser/phase5/TurnCycleFirstHalf.test.ts`
  - `atelier-guild-rank-html/tests/integration/phaser/phase5/TurnCycleSecondHalf.test.ts`
  - `atelier-guild-rank-html/tests/integration/phaser/phase5/SceneTransitionIntegration.test.ts`
- **å¯¾å¿œå†…å®¹**: ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒ¢ãƒƒã‚¯ä½¿ç”¨æ–¹æ³•ã€éåŒæœŸå¾…æ©Ÿãƒ‘ã‚¿ãƒ¼ãƒ³

---

## ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `tests/integration/phaser/phase5/MultiDayProgression.test.ts`
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆåŸºæº–**: `atelier-guild-rank-html/tests/integration/phaser/phase5/MultiDayProgression.test.ts`

---

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
cd atelier-guild-rank-html

# å˜ä¸€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œï¼ˆ`--`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä½¿ç”¨ç¦æ­¢ï¼‰
npm run test tests/integration/phaser/phase5/MultiDayProgression.test.ts

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
npm run test:coverage
```

---

## ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

| ãƒ†ã‚¹ãƒˆå¯¾è±¡ | ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸ | å¯¾å¿œãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ |
|-----------|---------------|-----------------|
| æ—¥æ•°é€²è¡Œ | 100% | TC-01, TC-02, TC-03, TC-04 |
| ãƒ©ãƒ³ã‚¯é€²è¡Œ | 90% | TC-05, TC-06 |
| ã‚´ãƒ¼ãƒ«ãƒ‰ç®¡ç† | 90% | TC-07, TC-11, TC-12 |
| ä¾é ¼ç”Ÿæˆ | 85% | TC-13, TC-14, TC-15, TC-16 |
| ãƒ‡ãƒƒã‚­ç®¡ç† | 85% | TC-17, TC-18 |
| ã‚²ãƒ¼ãƒ çµ‚äº†æ¡ä»¶ | 100% | TC-08, TC-09, TC-10 |

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

### ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«é›†è¨ˆ

- ğŸ”µ **é’ä¿¡å·**: 18é …ç›®ï¼ˆ100%ï¼‰
- ğŸŸ¡ **é»„ä¿¡å·**: 0é …ç›®ï¼ˆ0%ï¼‰
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›®ï¼ˆ0%ï¼‰

### å“è³ªè©•ä¾¡

**âœ… é«˜å“è³ª**

- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ†é¡**: æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ãƒ»å¢ƒç•Œå€¤ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹
- **æœŸå¾…å€¤å®šç¾©**: å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æœŸå¾…å€¤ãŒæ˜ç¢º
- **æŠ€è¡“é¸æŠ**: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªï¼ˆTypeScriptï¼‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆVitestï¼‰ãŒç¢ºå®š
- **å®Ÿè£…å¯èƒ½æ€§**: ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§å®Ÿç¾å¯èƒ½
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆé’ä¿¡å·ï¼‰100%

**æ ¹æ‹ **:
- ã‚¿ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆTASK-0263.mdï¼‰ã«18å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã¨ã—ã¦è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- è¨­è¨ˆæ–‡æ›¸ï¼ˆarchitecture.md, core-systems.md, dataflow.mdï¼‰ãŒå……å®Ÿã—ã¦ã„ã‚‹
- æ—¢å­˜ã®çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆTASK-0261, TASK-0262ï¼‰ã‚’å‚è€ƒã«ã§ãã‚‹
- ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆï¼ˆnote.mdï¼‰ã«æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ãƒ»é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»æ³¨æ„äº‹é …ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ¬¡ã®ãŠå‹§ã‚ã‚¹ãƒ†ãƒƒãƒ—: `/tdd-red atelier-guild-rank-phaser TASK-0263` ã§Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰ã‚’é–‹å§‹ã™ã‚‹ã®ã ã€‚

---

**ä½œæˆè€…**: Claude Code (ãšã‚“ã ã‚‚ã‚“)
**ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹**: æœªãƒ¬ãƒ“ãƒ¥ãƒ¼
**æœ€çµ‚æ›´æ–°**: 2026-01-13
