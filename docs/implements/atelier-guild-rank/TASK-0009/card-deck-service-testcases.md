# TDDãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸: ã‚«ãƒ¼ãƒ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»DeckService

**æ©Ÿèƒ½å**: ã‚«ãƒ¼ãƒ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»DeckService
**ã‚¿ã‚¹ã‚¯ID**: TASK-0009
**è¦ä»¶å**: atelier-guild-rank
**ä½œæˆæ—¥**: 2026-01-16
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0

---

## 1. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆå¯¾è±¡ã®æƒ…å ±

| é …ç›® | å€¤ |
|------|-----|
| **æ©Ÿèƒ½å** | ã‚«ãƒ¼ãƒ‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»DeckService |
| **ã‚¿ã‚¹ã‚¯ID** | TASK-0009 |
| **è¦ä»¶å** | atelier-guild-rank |
| **å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å** | `docs/implements/atelier-guild-rank/TASK-0009/card-deck-service-testcases.md` |

---

## 2. é–‹ç™ºè¨€èªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ ğŸ”µ

### ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª

- **è¨€èª**: TypeScript 5.x
- **è¨€èªé¸æŠã®ç†ç”±**:
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ãŒTypeScriptã§çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹
  - å‹å®‰å…¨æ€§ã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã§ãã‚‹
  - IDEã®ã‚µãƒãƒ¼ãƒˆãŒå……å®Ÿã—ã¦ãŠã‚Šã€é–‹ç™ºåŠ¹ç‡ãŒé«˜ã„
- **ãƒ†ã‚¹ãƒˆã«é©ã—ãŸæ©Ÿèƒ½**:
  - å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆã®ä¿¡é ¼æ€§ãŒå‘ä¸Š
  - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚Šãƒ¢ãƒƒã‚¯ä½œæˆãŒå®¹æ˜“
  - ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã«ã‚ˆã‚Šå‹å®‰å…¨ãªãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’ä½œæˆå¯èƒ½

### ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Vitest 4.x
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠã®ç†ç”±**:
  - Viteã¨ã®çµ±åˆã«ã‚ˆã‚Šé«˜é€Ÿãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  - Jestã¨äº’æ›æ€§ã®ã‚ã‚‹APIã§å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„
  - TypeScriptãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆ
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¨™æº–ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦æ¡ç”¨æ¸ˆã¿
- **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒ**:
  - Node.jsç’°å¢ƒã§å®Ÿè¡Œ
  - Viteã®ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½ã«ã‚ˆã‚ŠTypeScriptã‚’ç›´æ¥å®Ÿè¡Œ
  - `vi.fn()`ã€`vi.spyOn()`ãªã©ã®ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ã‚’æ´»ç”¨

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»æ—¢å­˜å®Ÿè£…ã‹ã‚‰ç¢ºèªæ¸ˆã¿ï¼‰

---

## 3. Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 3.1 æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆåŸºæœ¬çš„ãªå‹•ä½œï¼‰

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-01 - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: Cardã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: idã€masterã‚’æŒ‡å®šã—ã¦Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œæˆã•ã‚Œã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ä¿æŒã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `id`: `toCardId('gathering_backyard')` (CardIdå‹)
  - `master`: ãƒ¢ãƒƒã‚¯ã®GatheringCardMasterã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªæ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã€åŸºæœ¬çš„ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã‚’ç¢ºèª

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.id === toCardId('gathering_backyard')`
  - `card.master === mockGatheringCardMaster`
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§æ¸¡ã—ãŸå€¤ãŒã€ãã®ã¾ã¾ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ä¿æŒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®åŸºæœ¬çš„ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”ŸæˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: readonly ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦æ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-02 - get name()ã§ã‚«ãƒ¼ãƒ‰åã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `get name()`ã§ã‚«ãƒ¼ãƒ‰åã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: nameã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.nameã‚’æ­£ã—ãè¿”ã™ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã‚«ãƒ¼ãƒ‰ãƒã‚¹ã‚¿ãƒ¼ã®åå‰ãŒã‚²ãƒƒã‚¿ãƒ¼ã‚’é€šã˜ã¦å–å¾—ã§ãã‚‹

- **å…¥åŠ›å€¤**:
  - `master.name`: `'è£åº­'`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ—¥æœ¬èªã®ã‚«ãƒ¼ãƒ‰åãŒæ­£ã—ãå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.name === 'è£åº­'`
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.nameã‚’ãã®ã¾ã¾è¿”ã™ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ã‚«ãƒ¼ãƒ‰åã‚’æ­£ã—ãå…¬é–‹ã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚²ãƒƒã‚¿ãƒ¼ãŒé©åˆ‡ã«å‹•ä½œã—ã€ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å€¤ã‚’è¿”ã™ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-03 - get type()ã§ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `get type()`ã§ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: typeã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.typeã‚’æ­£ã—ãè¿”ã™ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ï¼ˆGATHERING, RECIPE, ENHANCEMENTï¼‰ãŒå–å¾—ã§ãã‚‹

- **å…¥åŠ›å€¤**:
  - `master.type`: `CardType.GATHERING`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã®ç¨®åˆ¥ã‚’ç¢ºèª

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.type === CardType.GATHERING`
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.typeã‚’ãã®ã¾ã¾è¿”ã™ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ãŒæ­£ã—ãå–å¾—ã§ãã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: CardTypeåˆ—æŒ™å‹ã®å€¤ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-04 - get cost()ã§ã‚³ã‚¹ãƒˆã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `get cost()`ã§ã‚³ã‚¹ãƒˆã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: costã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.costã‚’æ­£ã—ãè¿”ã™ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã‚«ãƒ¼ãƒ‰ã®ã‚³ã‚¹ãƒˆå€¤ãŒå–å¾—ã§ãã‚‹

- **å…¥åŠ›å€¤**:
  - `master.cost`: `1`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ä¸€èˆ¬çš„ãªã‚³ã‚¹ãƒˆå€¤ã‚’æŒã¤ã‚«ãƒ¼ãƒ‰ã§ç¢ºèª

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.cost === 1`
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚²ãƒƒã‚¿ãƒ¼ãŒmaster.costã‚’ãã®ã¾ã¾è¿”ã™ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚«ãƒ¼ãƒ‰ã‚³ã‚¹ãƒˆãŒæ­£ã—ãå–å¾—ã§ãã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ•°å€¤å‹ã®ã‚³ã‚¹ãƒˆå€¤ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-05 - isGatheringCard()ã§æ¡å–åœ°ã‚«ãƒ¼ãƒ‰åˆ¤å®š ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `isGatheringCard()`ã§æ¡å–åœ°ã‚«ãƒ¼ãƒ‰åˆ¤å®š
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã‚’æ­£ã—ãåˆ¤å®šã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: typeãŒGATHERINGã®å ´åˆã«trueã‚’è¿”ã—ã€å‹ãŒãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `master.type`: `CardType.GATHERING`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.isGatheringCard() === true`
  - **å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°**: `if (card.isGatheringCard()) { card.master.materialPool }` ãŒå‹ã‚¨ãƒ©ãƒ¼ãªãã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
  - **æœŸå¾…çµæœã®ç†ç”±**: TypeScriptã®å‹ã‚¬ãƒ¼ãƒ‰ãŒæ­£ã—ãæ©Ÿèƒ½ã—ã€æ¡å–åœ°ã‚«ãƒ¼ãƒ‰å›ºæœ‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã—ã€å‹å®‰å…¨æ€§ãŒä¿ãŸã‚Œã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã®ã¿trueã‚’è¿”ã™ã“ã¨ã€å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ãŒæ©Ÿèƒ½ã™ã‚‹ã“ã¨

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-06 - isRecipeCard()ã§ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰åˆ¤å®š ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `isRecipeCard()`ã§ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰åˆ¤å®š
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã‚’æ­£ã—ãåˆ¤å®šã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: typeãŒRECIPEã®å ´åˆã«trueã‚’è¿”ã—ã€å‹ãŒãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `master.type`: `CardType.RECIPE`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.isRecipeCard() === true`
  - **å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°**: `if (card.isRecipeCard()) { card.master.requiredMaterials }` ãŒå‹ã‚¨ãƒ©ãƒ¼ãªãã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
  - **æœŸå¾…çµæœã®ç†ç”±**: TypeScriptã®å‹ã‚¬ãƒ¼ãƒ‰ãŒæ­£ã—ãæ©Ÿèƒ½ã—ã€ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰å›ºæœ‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã—ã€å‹å®‰å…¨æ€§ãŒä¿ãŸã‚Œã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã®ã¿trueã‚’è¿”ã™ã“ã¨ã€å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ãŒæ©Ÿèƒ½ã™ã‚‹ã“ã¨

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-07 - isEnhancementCard()ã§å¼·åŒ–ã‚«ãƒ¼ãƒ‰åˆ¤å®š ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `isEnhancementCard()`ã§å¼·åŒ–ã‚«ãƒ¼ãƒ‰åˆ¤å®š
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒå¼·åŒ–ã‚«ãƒ¼ãƒ‰ã‚’æ­£ã—ãåˆ¤å®šã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: typeãŒENHANCEMENTã®å ´åˆã«trueã‚’è¿”ã—ã€å‹ãŒãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `master.type`: `CardType.ENHANCEMENT`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å¼·åŒ–ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.isEnhancementCard() === true`
  - **å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°**: `if (card.isEnhancementCard()) { card.master.effect }` ãŒå‹ã‚¨ãƒ©ãƒ¼ãªãã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
  - **æœŸå¾…çµæœã®ç†ç”±**: TypeScriptã®å‹ã‚¬ãƒ¼ãƒ‰ãŒæ­£ã—ãæ©Ÿèƒ½ã—ã€å¼·åŒ–ã‚«ãƒ¼ãƒ‰å›ºæœ‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹ã‚¬ãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã—ã€å‹å®‰å…¨æ€§ãŒä¿ãŸã‚Œã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å¼·åŒ–ã‚«ãƒ¼ãƒ‰ã®ã¿trueã‚’è¿”ã™ã“ã¨ã€å‹ãƒŠãƒ­ãƒ¼ã‚¤ãƒ³ã‚°ãŒæ©Ÿèƒ½ã™ã‚‹ã“ã¨

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«æ˜è¨˜ï¼‰

---

### 3.2 ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆå‹ã‚¬ãƒ¼ãƒ‰ã®é™¤å¤–åˆ¤å®šï¼‰

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-CARD-08 - ç•°ãªã‚‹ç¨®åˆ¥ã®ã‚«ãƒ¼ãƒ‰ã§ã¯å‹ã‚¬ãƒ¼ãƒ‰ãŒfalseã‚’è¿”ã™ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ç•°ãªã‚‹ç¨®åˆ¥ã®ã‚«ãƒ¼ãƒ‰ã§ã¯å‹ã‚¬ãƒ¼ãƒ‰ãŒfalseã‚’è¿”ã™
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: æ¡å–åœ°ã‚«ãƒ¼ãƒ‰ã«å¯¾ã—ã¦isRecipeCard()ã‚’å‘¼ã¶ãªã©ã€ç•°ãªã‚‹ç¨®åˆ¥ã®åˆ¤å®šã‚’è¡Œã†
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: å‹ã‚¬ãƒ¼ãƒ‰ãŒèª¤åˆ¤å®šã™ã‚‹ã¨ã€å­˜åœ¨ã—ãªã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

- **å…¥åŠ›å€¤**:
  - GATHERINGã‚¿ã‚¤ãƒ—ã®ã‚«ãƒ¼ãƒ‰ã«å¯¾ã—ã¦`isRecipeCard()`, `isEnhancementCard()`ã‚’å‘¼ã¶
  - **ä¸æ­£ãªç†ç”±**: ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ãŒç•°ãªã‚‹ãŸã‚
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ã‚«ãƒ¼ãƒ‰ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å†…ã§ç¨®åˆ¥ã‚’åˆ¤å®šã—ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹éš›

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `card.isRecipeCard() === false`
  - `card.isEnhancementCard() === false`
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ã‚¨ãƒ©ãƒ¼ã¯ç™ºç”Ÿã›ãšã€falseã‚’è¿”ã™
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: å‹ã‚¬ãƒ¼ãƒ‰ã«ã‚ˆã‚Šã€å®‰å…¨ã«ç¨®åˆ¥ã‚’åˆ¤å®šã§ãã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹ã‚¬ãƒ¼ãƒ‰ãŒæ­£ã—ãé™¤å¤–åˆ¤å®šã‚’è¡Œã†ã“ã¨
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: èª¤ã£ãŸç¨®åˆ¥åˆ¤å®šã«ã‚ˆã‚Šå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’ä¿è¨¼

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆè¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã‹ã‚‰æ¨æ¸¬ï¼‰

---

## 4. DeckServiceã®æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 4.1 åˆæœŸåŒ–ã¨ãƒªã‚»ãƒƒãƒˆ

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-01 - initialize()ã§åˆæœŸãƒ‡ãƒƒã‚­æ§‹ç¯‰ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `initialize()`ã§åˆæœŸãƒ‡ãƒƒã‚­æ§‹ç¯‰ã¨ã‚·ãƒ£ãƒƒãƒ•ãƒ«
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: åˆæœŸãƒ‡ãƒƒã‚­ãŒæ­£ã—ãæ§‹ç¯‰ã•ã‚Œã€è‡ªå‹•çš„ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰IDã§Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã€ãƒ‡ãƒƒã‚­ã«è¿½åŠ ã•ã‚Œã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `cardIds`: `[toCardId('card-001'), toCardId('card-002'), toCardId('card-003')]`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: 3æšã®ã‚«ãƒ¼ãƒ‰ã§æœ€å°é™ã®ãƒ‡ãƒƒã‚­ã‚’æ§‹ç¯‰ã—ã€åŸºæœ¬å‹•ä½œã‚’ç¢ºèª

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getDeck().length === 3`
  - ãƒ‡ãƒƒã‚­ã®é †åºãŒå…¥åŠ›é †ã¨ç•°ãªã‚‹ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«æ¸ˆã¿ï¼‰
  - **æœŸå¾…çµæœã®ç†ç”±**: åˆæœŸåŒ–æ™‚ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: åˆæœŸãƒ‡ãƒƒã‚­æ§‹ç¯‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã‹ã€è‡ªå‹•ã‚·ãƒ£ãƒƒãƒ•ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-01 - reset()ã§çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `reset()`ã§å±±æœ­ãƒ»æ‰‹æœ­ãƒ»æ¨ã¦æœ­ãŒã‚¯ãƒªã‚¢ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒªã‚»ãƒƒãƒˆå¾Œã€å…¨ã¦ã®çŠ¶æ…‹ãŒç©ºã«ãªã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å±±æœ­ã€æ‰‹æœ­ã€æ¨ã¦æœ­ãŒå…¨ã¦ç©ºé…åˆ—ã«ãªã‚‹

- **å…¥åŠ›å€¤**:
  - äº‹å‰ã«ãƒ‡ãƒƒã‚­ã‚’åˆæœŸåŒ–ã—ã¦ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‰ãƒ­ãƒ¼ãƒ»ãƒ—ãƒ¬ã‚¤ã—ãŸçŠ¶æ…‹
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: çŠ¶æ…‹ãŒã‚ã‚‹çŠ¶æ…‹ã‹ã‚‰ãƒªã‚»ãƒƒãƒˆã‚’å®Ÿè¡Œ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getDeck().length === 0`
  - `deckService.getHand().length === 0`
  - `deckService.getDiscard().length === 0`
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒªã‚»ãƒƒãƒˆæ™‚ã«å…¨ã¦ã®å†…éƒ¨çŠ¶æ…‹ãŒã‚¯ãƒªã‚¢ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å…¨ã¦ã®å†…éƒ¨é…åˆ—ãŒç©ºã«ãªã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

### 4.2 ã‚·ãƒ£ãƒƒãƒ•ãƒ«

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-02 - shuffle()ã§ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ« ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `shuffle()`ã§Fisher-Yatesã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹ã‚·ãƒ£ãƒƒãƒ•ãƒ«
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã«ãƒ‡ãƒƒã‚­ã®é †åºãŒå¤‰ã‚ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ãƒ‡ãƒƒã‚­ã®è¦ç´ ã¯å¤‰ã‚ã‚‰ãªã„ãŒã€é †åºãŒãƒ©ãƒ³ãƒ€ãƒ åŒ–ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - 10æšã®ã‚«ãƒ¼ãƒ‰ã‚’æŒã¤ãƒ‡ãƒƒã‚­
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ååˆ†ãªæ•°ã®ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚Œã°ã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã«é †åºãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - ãƒ‡ãƒƒã‚­ã®é•·ã•ã¯å¤‰ã‚ã‚‰ãªã„ï¼ˆ10æšã®ã¾ã¾ï¼‰
  - ãƒ‡ãƒƒã‚­ã®å†…å®¹ï¼ˆã‚«ãƒ¼ãƒ‰IDï¼‰ã¯å¤‰ã‚ã‚‰ãªã„
  - ãƒ‡ãƒƒã‚­ã®é †åºãŒå…ƒã¨ç•°ãªã‚‹ï¼ˆ100å›ä¸­99å›ä»¥ä¸Šå¤‰ã‚ã‚‹ï¼‰
  - **æœŸå¾…çµæœã®ç†ç”±**: Fisher-Yatesã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯è¦ç´ ã‚’ä¿æŒã—ãŸã¾ã¾é †åºã®ã¿ã‚’å¤‰æ›´ã™ã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚·ãƒ£ãƒƒãƒ•ãƒ«ãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: è¦ç´ ã‚’ä¿æŒã—ãŸã¾ã¾é †åºã®ã¿ãŒå¤‰ã‚ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

### 4.3 ãƒ‰ãƒ­ãƒ¼

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-03 - draw()ã§æ‰‹æœ­ã«ã‚«ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã‚‹ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `draw()`ã§å±±æœ­ã‹ã‚‰æ‰‹æœ­ã«ã‚«ãƒ¼ãƒ‰ãŒç§»å‹•
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒ‰ãƒ­ãƒ¼å‡¦ç†ã«ã‚ˆã‚Šã€å±±æœ­ãŒæ¸›å°‘ã—ã€æ‰‹æœ­ãŒå¢—åŠ ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šæšæ•°ãŒå±±æœ­ã‹ã‚‰æ‰‹æœ­ã«ç§»å‹•ã—ã€CARD_DRAWNã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«

- **å…¥åŠ›å€¤**:
  - å±±æœ­10æšã®çŠ¶æ…‹ã§`draw(3)`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é€šå¸¸ã®ãƒ‰ãƒ­ãƒ¼æ“ä½œã‚’æ¨¡æ“¬

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getDeck().length === 7`ï¼ˆ10 - 3ï¼‰
  - `deckService.getHand().length === 3`
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ3
  - `CARD_DRAWN`ã‚¤ãƒ™ãƒ³ãƒˆãŒ1å›ç™ºç«
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ‰ãƒ­ãƒ¼ã¯å±±æœ­ã‹ã‚‰æ‰‹æœ­ã¸ã®ç§»å‹•æ“ä½œ

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ‰ãƒ­ãƒ¼å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å±±æœ­ã¨æ‰‹æœ­ã®æšæ•°ãŒæ­£ã—ãå¤‰åŒ–ã™ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã™ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-04 - ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®ãƒ‰ãƒ­ãƒ¼ï¼ˆæ¨ã¦æœ­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‰ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã«æ¨ã¦æœ­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦å±±æœ­ã«æˆ»ã™
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å±±æœ­ãŒç©ºã«ãªã£ãŸéš›ã€è‡ªå‹•çš„ã«æ¨ã¦æœ­ãŒã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¦å±±æœ­ã«æˆ»ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ¨ã¦æœ­ãŒå±±æœ­ã«ç§»å‹•ã—ã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã€ãƒ‰ãƒ­ãƒ¼ãŒç¶™ç¶šã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - å±±æœ­2æšã€æ¨ã¦æœ­10æšã®çŠ¶æ…‹ã§`draw(5)`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ‰ãƒ­ãƒ¼é€”ä¸­ã§å±±æœ­ãŒæ¯æ¸‡ã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚’æ¨¡æ“¬

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ5ï¼ˆå…¨ã¦ãƒ‰ãƒ­ãƒ¼ã§ãã‚‹ï¼‰
  - å±±æœ­ã‹ã‚‰2æšå–å¾—å¾Œã€æ¨ã¦æœ­10æšãŒã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¦å±±æœ­ã«æˆ»ã‚‹
  - å±±æœ­ã‹ã‚‰æ®‹ã‚Š3æšå–å¾—
  - æœ€çµ‚çš„ãªå±±æœ­æšæ•°ã¯7æšï¼ˆ10 - 3ï¼‰
  - æ¨ã¦æœ­ã¯ç©º
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®è‡ªå‹•ãƒªã‚·ãƒ£ãƒƒãƒ•ãƒ«å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ¨ã¦æœ­ãŒå±±æœ­ã«æˆ»ã‚Šã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã€ãƒ‰ãƒ­ãƒ¼ãŒç¶™ç¶šã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

### 4.4 ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-05 - playCard()ã§æ‰‹æœ­ã‹ã‚‰æ¨ã¦æœ­ã«ç§»å‹• ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `playCard()`ã§ã‚«ãƒ¼ãƒ‰ãŒæ‰‹æœ­ã‹ã‚‰æ¨ã¦æœ­ã«ç§»å‹•
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤å‡¦ç†ã«ã‚ˆã‚Šã€æ‰‹æœ­ã‹ã‚‰æ¨ã¦æœ­ã«ã‚«ãƒ¼ãƒ‰ãŒç§»å‹•ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šã‚«ãƒ¼ãƒ‰ãŒæ‰‹æœ­ã‹ã‚‰å‰Šé™¤ã•ã‚Œã€æ¨ã¦æœ­ã«è¿½åŠ ã•ã‚Œã€CARD_PLAYEDã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã®çŠ¶æ…‹ã§ã€ãã®ã†ã¡1æšã‚’ãƒ—ãƒ¬ã‚¤
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é€šå¸¸ã®ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ“ä½œã‚’æ¨¡æ“¬

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getHand().length === 4`ï¼ˆ5 - 1ï¼‰
  - `deckService.getDiscard().length === 1`
  - ãƒ—ãƒ¬ã‚¤ã—ãŸã‚«ãƒ¼ãƒ‰ãŒæ¨ã¦æœ­ã«å«ã¾ã‚Œã‚‹
  - `CARD_PLAYED`ã‚¤ãƒ™ãƒ³ãƒˆãŒ1å›ç™ºç«
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ—ãƒ¬ã‚¤ã¯æ‰‹æœ­ã‹ã‚‰æ¨ã¦æœ­ã¸ã®ç§»å‹•æ“ä½œ

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ‰‹æœ­ã¨æ¨ã¦æœ­ã®æšæ•°ãŒæ­£ã—ãå¤‰åŒ–ã™ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã™ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

### 4.5 æ‰‹æœ­ç ´æ£„ã¨è£œå……

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-02 - discardHand()ã§æ‰‹æœ­ã‚’å…¨ã¦æ¨ã¦æœ­ã«ç§»å‹• ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `discardHand()`ã§æ‰‹æœ­ãŒå…¨ã¦æ¨ã¦æœ­ã«ç§»å‹•
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ‰‹æœ­ç ´æ£„å‡¦ç†ã«ã‚ˆã‚Šã€å…¨ã¦ã®æ‰‹æœ­ãŒæ¨ã¦æœ­ã«ç§»å‹•ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ‰‹æœ­ãŒç©ºã«ãªã‚Šã€æ¨ã¦æœ­ãŒå¢—åŠ ã—ã€CARD_DISCARDEDã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã®çŠ¶æ…‹ã§`discardHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ã‚¿ãƒ¼ãƒ³çµ‚äº†æ™‚ã®æ‰‹æœ­ç ´æ£„ã‚’æ¨¡æ“¬

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getHand().length === 0`
  - `deckService.getDiscard().length === 5`
  - `CARD_DISCARDED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­ç ´æ£„ã¯å…¨ã¦ã®æ‰‹æœ­ã‚’æ¨ã¦æœ­ã«ç§»å‹•ã™ã‚‹æ“ä½œ

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­ç ´æ£„å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ‰‹æœ­ãŒç©ºã«ãªã‚Šã€æ¨ã¦æœ­ã«å…¨ã¦ç§»å‹•ã™ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-0009-06 - refillHand()ã§æ‰‹æœ­ã‚’5æšã¾ã§è£œå…… ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `refillHand()`ã§æ‰‹æœ­ãŒ5æšã«ãªã‚‹ã¾ã§ãƒ‰ãƒ­ãƒ¼
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ‰‹æœ­è£œå……å‡¦ç†ã«ã‚ˆã‚Šã€æ‰‹æœ­ãŒ5æšã«ãªã‚‹ã¾ã§ãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ‰‹æœ­ãŒ5æšæœªæº€ã®å ´åˆã€5æšã«ãªã‚‹ã¾ã§ãƒ‰ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­2æšã€å±±æœ­10æšã®çŠ¶æ…‹ã§`refillHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­ãŒæ¸›ã£ãŸçŠ¶æ…‹ã‹ã‚‰ã®è£œå……ã‚’æ¨¡æ“¬

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getHand().length === 5`
  - `deckService.getDeck().length === 7`ï¼ˆ10 - 3ï¼‰
  - 3æšãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­ä¸Šé™ï¼ˆ5æšï¼‰ã¾ã§è‡ªå‹•çš„ã«ãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­è£œå……å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ‰‹æœ­ãŒæ­£ç¢ºã«5æšã«ãªã‚‹ã‹ã€å¿…è¦ãªæšæ•°ã ã‘ãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-03 - refillHand()ã§æ‰‹æœ­ãŒæ—¢ã«5æšã®å ´åˆã¯ãƒ‰ãƒ­ãƒ¼ã—ãªã„ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: æ‰‹æœ­ãŒæ—¢ã«5æšã®å ´åˆã¯è¿½åŠ ãƒ‰ãƒ­ãƒ¼ã—ãªã„
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ‰‹æœ­ãŒä¸Šé™ã«é”ã—ã¦ã„ã‚‹å ´åˆã€ãƒ‰ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ‰‹æœ­æšæ•°ãŒå¤‰ã‚ã‚‰ãšã€å±±æœ­ã‚‚æ¸›ã‚‰ãªã„

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã€å±±æœ­10æšã®çŠ¶æ…‹ã§`refillHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­ä¸Šé™ã«é”ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã®è£œå……ã‚’è©¦ã¿ã‚‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getHand().length === 5`ï¼ˆå¤‰åŒ–ãªã—ï¼‰
  - `deckService.getDeck().length === 10`ï¼ˆå¤‰åŒ–ãªã—ï¼‰
  - ãƒ‰ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­ãŒä¸Šé™ã«é”ã—ã¦ã„ã‚‹å ´åˆã¯è£œå……ä¸è¦

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­ä¸Šé™ã®åˆ¶å¾¡ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ä¸è¦ãªãƒ‰ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œãªã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã‹ã‚‰æ¨æ¸¬ï¼‰

---

### 4.6 ãƒ‡ãƒƒã‚­æ§‹ç¯‰

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-04 - addCard()ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã«è¿½åŠ  ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `addCard()`ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã«è¿½åŠ 
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰æ™‚ã«ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ã§ãã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰IDã§Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã€ãƒ‡ãƒƒã‚­ã«è¿½åŠ ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `cardId`: `toCardId('card-001')`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å­˜åœ¨ã™ã‚‹ã‚«ãƒ¼ãƒ‰IDã‚’æŒ‡å®šã—ã¦ãƒ‡ãƒƒã‚­ã«è¿½åŠ 

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - ãƒ‡ãƒƒã‚­ã®æšæ•°ãŒ1æšå¢—åŠ 
  - è¿½åŠ ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãŒãƒ‡ãƒƒã‚­ã«å«ã¾ã‚Œã‚‹
  - **æœŸå¾…çµæœã®ç†ç”±**: addCard()ã¯ãƒ‡ãƒƒã‚­æ§‹ç¯‰ã®ãŸã‚ã®è¿½åŠ æ“ä½œ

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚«ãƒ¼ãƒ‰è¿½åŠ å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã€ãƒ‡ãƒƒã‚­ã«è¿½åŠ ã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-05 - removeCard()ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã‹ã‚‰å‰Šé™¤ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `removeCard()`ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã‹ã‚‰å‰Šé™¤
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰æ™‚ã«ã‚«ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã§ãã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰IDã«ä¸€è‡´ã™ã‚‹æœ€åˆã®ã‚«ãƒ¼ãƒ‰ãŒãƒ‡ãƒƒã‚­ã‹ã‚‰å‰Šé™¤ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - ãƒ‡ãƒƒã‚­ã«3æšï¼ˆcard-001, card-002, card-001ï¼‰ãŒå«ã¾ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã§`removeCard(toCardId('card-001'))`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é‡è¤‡ã™ã‚‹ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚‹å ´åˆã€æœ€åˆã®1æšã®ã¿ãŒå‰Šé™¤ã•ã‚Œã‚‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - ãƒ‡ãƒƒã‚­ã®æšæ•°ãŒ1æšæ¸›å°‘ï¼ˆ3 â†’ 2ï¼‰
  - æœ€åˆã®card-001ãŒå‰Šé™¤ã•ã‚Œã€2ç•ªç›®ã®card-001ã¯æ®‹ã‚‹
  - **æœŸå¾…çµæœã®ç†ç”±**: removeCard()ã¯æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰IDã®æœ€åˆã®1æšã‚’å‰Šé™¤

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚«ãƒ¼ãƒ‰å‰Šé™¤å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æŒ‡å®šã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãŒæ­£ã—ãå‰Šé™¤ã•ã‚Œã‚‹ã‹ã€é‡è¤‡ãŒã‚ã‚‹å ´åˆã¯1æšã®ã¿å‰Šé™¤ã•ã‚Œã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

### 4.7 çŠ¶æ…‹å–å¾—

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-06 - getDeck()ã§å±±æœ­ã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `getDeck()`ã§readonlyé…åˆ—ã¨ã—ã¦å±±æœ­ã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: å±±æœ­ã®å†…å®¹ãŒå–å¾—ã§ãã€å¤–éƒ¨ã‹ã‚‰å¤‰æ›´ã§ããªã„ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å±±æœ­ã®å†…å®¹ãŒreadonlyé…åˆ—ã¨ã—ã¦è¿”ã•ã‚Œã€å¤–éƒ¨å¤‰æ›´ãŒå†…éƒ¨ã«å½±éŸ¿ã—ãªã„

- **å…¥åŠ›å€¤**:
  - å±±æœ­10æšã®çŠ¶æ…‹ã§`getDeck()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å±±æœ­ã®å†…å®¹ã‚’å¤–éƒ¨ã‹ã‚‰å‚ç…§

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ10
  - å–å¾—ã—ãŸé…åˆ—ã‚’å¤‰æ›´ã—ã¦ã‚‚ã€å†…éƒ¨ã®å±±æœ­ã¯å¤‰åŒ–ã—ãªã„
  - **æœŸå¾…çµæœã®ç†ç”±**: ä¸å¤‰æ€§ã‚’ä¿ã¤ãŸã‚ã€readonlyé…åˆ—ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çŠ¶æ…‹å–å¾—ãƒ¡ã‚½ãƒƒãƒ‰ãŒä¸å¤‰æ€§ã‚’ä¿ã¤ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å¤–éƒ¨ã‹ã‚‰ã®å¤‰æ›´ãŒå†…éƒ¨çŠ¶æ…‹ã«å½±éŸ¿ã—ãªã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-07 - getHand()ã§æ‰‹æœ­ã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `getHand()`ã§readonlyé…åˆ—ã¨ã—ã¦æ‰‹æœ­ã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ‰‹æœ­ã®å†…å®¹ãŒå–å¾—ã§ãã€å¤–éƒ¨ã‹ã‚‰å¤‰æ›´ã§ããªã„ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ‰‹æœ­ã®å†…å®¹ãŒreadonlyé…åˆ—ã¨ã—ã¦è¿”ã•ã‚Œã€å¤–éƒ¨å¤‰æ›´ãŒå†…éƒ¨ã«å½±éŸ¿ã—ãªã„

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã®çŠ¶æ…‹ã§`getHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­ã®å†…å®¹ã‚’å¤–éƒ¨ã‹ã‚‰å‚ç…§

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ5
  - å–å¾—ã—ãŸé…åˆ—ã‚’å¤‰æ›´ã—ã¦ã‚‚ã€å†…éƒ¨ã®æ‰‹æœ­ã¯å¤‰åŒ–ã—ãªã„
  - **æœŸå¾…çµæœã®ç†ç”±**: ä¸å¤‰æ€§ã‚’ä¿ã¤ãŸã‚ã€readonlyé…åˆ—ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çŠ¶æ…‹å–å¾—ãƒ¡ã‚½ãƒƒãƒ‰ãŒä¸å¤‰æ€§ã‚’ä¿ã¤ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å¤–éƒ¨ã‹ã‚‰ã®å¤‰æ›´ãŒå†…éƒ¨çŠ¶æ…‹ã«å½±éŸ¿ã—ãªã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-08 - getDiscard()ã§æ¨ã¦æœ­ã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `getDiscard()`ã§readonlyé…åˆ—ã¨ã—ã¦æ¨ã¦æœ­ã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ¨ã¦æœ­ã®å†…å®¹ãŒå–å¾—ã§ãã€å¤–éƒ¨ã‹ã‚‰å¤‰æ›´ã§ããªã„ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ¨ã¦æœ­ã®å†…å®¹ãŒreadonlyé…åˆ—ã¨ã—ã¦è¿”ã•ã‚Œã€å¤–éƒ¨å¤‰æ›´ãŒå†…éƒ¨ã«å½±éŸ¿ã—ãªã„

- **å…¥åŠ›å€¤**:
  - æ¨ã¦æœ­8æšã®çŠ¶æ…‹ã§`getDiscard()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ¨ã¦æœ­ã®å†…å®¹ã‚’å¤–éƒ¨ã‹ã‚‰å‚ç…§

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ8
  - å–å¾—ã—ãŸé…åˆ—ã‚’å¤‰æ›´ã—ã¦ã‚‚ã€å†…éƒ¨ã®æ¨ã¦æœ­ã¯å¤‰åŒ–ã—ãªã„
  - **æœŸå¾…çµæœã®ç†ç”±**: ä¸å¤‰æ€§ã‚’ä¿ã¤ãŸã‚ã€readonlyé…åˆ—ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çŠ¶æ…‹å–å¾—ãƒ¡ã‚½ãƒƒãƒ‰ãŒä¸å¤‰æ€§ã‚’ä¿ã¤ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å¤–éƒ¨ã‹ã‚‰ã®å¤‰æ›´ãŒå†…éƒ¨çŠ¶æ…‹ã«å½±éŸ¿ã—ãªã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-09 - getHandSize()ã§æ‰‹æœ­æšæ•°ã‚’å–å¾— ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: `getHandSize()`ã§æ‰‹æœ­æšæ•°ã‚’å–å¾—
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: æ‰‹æœ­ã®æšæ•°ãŒæ­£ã—ãå–å¾—ã§ãã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ‰‹æœ­ã®æšæ•°ãŒæ•°å€¤ã¨ã—ã¦è¿”ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­3æšã®çŠ¶æ…‹ã§`getHandSize()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­æšæ•°ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«å–å¾—

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ãŒ3
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­é…åˆ—ã®é•·ã•ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­æšæ•°å–å¾—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ‰‹æœ­é…åˆ—ã®é•·ã•ã¨ä¸€è‡´ã™ã‚‹ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

## 5. DeckServiceã®ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 5.1 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-10 - å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰IDã‚’è¿½åŠ æ™‚ã«ã‚¨ãƒ©ãƒ¼ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰IDã‚’è¿½åŠ æ™‚ã«`INVALID_CARD_ID`ã‚¨ãƒ©ãƒ¼
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã«å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰IDã‚’æŒ‡å®šã—ã¦addCard()ã‚’å®Ÿè¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿ãŒãƒ‡ãƒƒã‚­ã«æ··å…¥ã™ã‚‹ã®ã‚’é˜²ã

- **å…¥åŠ›å€¤**:
  - `cardId`: `toCardId('non-existent-card')`
  - **ä¸æ­£ãªç†ç”±**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã«å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰ID
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰UIã§èª¤ã£ãŸã‚«ãƒ¼ãƒ‰IDãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `ApplicationError`ãŒæŠ•ã’ã‚‰ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒ`ErrorCodes.INVALID_CARD_ID`
  - ãƒ‡ãƒƒã‚­ã®æšæ•°ãŒå¤‰åŒ–ã—ãªã„
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: "Card not found: non-existent-card"
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ç„¡åŠ¹ãªã‚«ãƒ¼ãƒ‰ãŒãƒ‡ãƒƒã‚­ã«è¿½åŠ ã•ã‚Œãšã€æ•´åˆæ€§ãŒä¿ãŸã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰IDã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ä¿è­·

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-11 - ãƒ‡ãƒƒã‚­ä¸Šé™è¶…éæ™‚ã«ã‚¨ãƒ©ãƒ¼ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‡ãƒƒã‚­ãŒ30æšã‚’è¶…ãˆã‚‹å ´åˆã«`DECK_FULL`ã‚¨ãƒ©ãƒ¼
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ãƒ‡ãƒƒã‚­ãŒæ—¢ã«30æšã®çŠ¶æ…‹ã§addCard()ã‚’å®Ÿè¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ãƒ‡ãƒƒã‚­æšæ•°ã®ä¸Šé™ã‚’å®ˆã‚Šã€ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¤

- **å…¥åŠ›å€¤**:
  - ãƒ‡ãƒƒã‚­30æšã®çŠ¶æ…‹ã§`addCard(toCardId('card-001'))`ã‚’å®Ÿè¡Œ
  - **ä¸æ­£ãªç†ç”±**: ãƒ‡ãƒƒã‚­ä¸Šé™ã‚’è¶…ãˆã‚‹ãŸã‚
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰ç”»é¢ã§ä¸Šé™ã‚’è¶…ãˆã¦ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã—ãŸå ´åˆ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `ApplicationError`ãŒæŠ•ã’ã‚‰ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒ`ErrorCodes.DECK_FULL`
  - ãƒ‡ãƒƒã‚­ã®æšæ•°ãŒ30æšã®ã¾ã¾
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: "Deck is full (max: 30 cards)"
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ãƒ‡ãƒƒã‚­æšæ•°ä¸Šé™ãŒå®ˆã‚‰ã‚Œã€ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«ã«æº–æ‹ 

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ‡ãƒƒã‚­ä¸Šé™ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«ã®éµå®ˆ

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-12 - æ‰‹æœ­ã«ãªã„ã‚«ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ¬ã‚¤æ™‚ã«ã‚¨ãƒ©ãƒ¼ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: æ‰‹æœ­ã«ãªã„ã‚«ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ¬ã‚¤æ™‚ã«`CARD_NOT_IN_HAND`ã‚¨ãƒ©ãƒ¼
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: æ‰‹æœ­ã«å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¦playCard()ã‚’å®Ÿè¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ä¸æ­£ãªã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤ã‚’é˜²ãã€ã‚²ãƒ¼ãƒ ã®æ•´åˆæ€§ã‚’ä¿ã¤

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­ã«ãªã„Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒ‡å®šã—ã¦`playCard(card)`ã‚’å®Ÿè¡Œ
  - **ä¸æ­£ãªç†ç”±**: æ‰‹æœ­ã«å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰ã¯ãƒ—ãƒ¬ã‚¤ã§ããªã„
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: UIã®åŒæœŸãšã‚Œã‚„ä¸æ­£æ“ä½œã«ã‚ˆã‚Šã€æ‰‹æœ­ã«ãªã„ã‚«ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ¬ã‚¤ã—ã‚ˆã†ã¨ã—ãŸå ´åˆ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `ApplicationError`ãŒæŠ•ã’ã‚‰ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒ`ErrorCodes.CARD_NOT_IN_HAND`
  - æ‰‹æœ­ã¨æ¨ã¦æœ­ã®æšæ•°ãŒå¤‰åŒ–ã—ãªã„
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: "Card is not in hand"
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ä¸æ­£ãªã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤ãŒé˜»æ­¢ã•ã‚Œã€ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®æ•´åˆæ€§ãŒä¿ãŸã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ‰‹æœ­ã«ãªã„ã‚«ãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®æ•´åˆæ€§ä¿è­·

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-13 - ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æœªèª­ã¿è¾¼ã¿æ™‚ã«ã‚¨ãƒ©ãƒ¼ ğŸŸ¡

- **ãƒ†ã‚¹ãƒˆå**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æœªèª­ã¿è¾¼ã¿æ™‚ã«`DATA_NOT_LOADED`ã‚¨ãƒ©ãƒ¼
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§addCard()ã‚’å®Ÿè¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: åˆæœŸåŒ–é †åºã®èª¤ã‚Šã‚’æ¤œå‡ºã—ã€ä¸æ­£ãªçŠ¶æ…‹ã§ã®ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ã‚’é˜²ã

- **å…¥åŠ›å€¤**:
  - ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒªãƒã‚¸ãƒˆãƒªãŒæœªèª­ã¿è¾¼ã¿çŠ¶æ…‹ã§`addCard(toCardId('card-001'))`ã‚’å®Ÿè¡Œ
  - **ä¸æ­£ãªç†ç”±**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒåˆ©ç”¨ã§ããªã„çŠ¶æ…‹
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–é †åºã®èª¤ã‚Šã‚„ã€éåŒæœŸèª­ã¿è¾¼ã¿ä¸­ã®æ“ä½œ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `ApplicationError`ãŒæŠ•ã’ã‚‰ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒ`ErrorCodes.DATA_NOT_LOADED`
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: "Master data not loaded"
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ä¸å®Œå…¨ãªçŠ¶æ…‹ã§ã®ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ãŒé˜»æ­¢ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æœªèª­ã¿è¾¼ã¿ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: åˆæœŸåŒ–é †åºã®ä¿è¨¼

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã‹ã‚‰æ¨æ¸¬ã€å®Ÿè£…ã§ç¢ºèªãŒå¿…è¦ï¼‰

---

## 6. DeckServiceã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 6.1 ãƒ‡ãƒƒã‚­æšæ•°ã®å¢ƒç•Œ

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-14 - ãƒ‡ãƒƒã‚­0æšã®çŠ¶æ…‹ã§ãƒ‰ãƒ­ãƒ¼ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‡ãƒƒã‚­0æšã®çŠ¶æ…‹ã§ãƒ‰ãƒ­ãƒ¼ã™ã‚‹ã¨ç©ºé…åˆ—ã‚’è¿”ã™
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ãƒ‡ãƒƒã‚­ãŒå®Œå…¨ã«ç©ºã®çŠ¶æ…‹ã¯æœ€å°ã®å¢ƒç•Œå€¤
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ç©ºã®çŠ¶æ…‹ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšã€é©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - ãƒ‡ãƒƒã‚­0æšã€æ¨ã¦æœ­0æšã€æ‰‹æœ­0æšã®çŠ¶æ…‹ã§`draw(5)`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: ãƒ‡ãƒƒã‚­ãŒå®Œå…¨ã«ç©ºã®ã‚±ãƒ¼ã‚¹ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ã‚²ãƒ¼ãƒ çµ‚ç›¤ã§ã‚«ãƒ¼ãƒ‰ãŒå°½ããŸçŠ¶æ…‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ãŒç©ºé…åˆ— `[]`
  - æ‰‹æœ­ã‚‚0æšã®ã¾ã¾
  - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: ç©ºã®çŠ¶æ…‹ã§é©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ãƒ‰ãƒ­ãƒ¼å¯èƒ½ãªæšæ•°ãŒãªã„å ´åˆã€ç©ºé…åˆ—ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œæ¡ä»¶ã§ã®å …ç‰¢æ€§ã®ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: æ¥µç«¯ãªæ¡ä»¶ä¸‹ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšã€å®‰å®šå‹•ä½œã™ã‚‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã‹ã‚‰æ¨æ¸¬ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-15 - æ‰‹æœ­0æšã®çŠ¶æ…‹ã§è£œå…… ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: æ‰‹æœ­0æšã®çŠ¶æ…‹ã§è£œå……ã™ã‚‹ã¨5æšãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: æ‰‹æœ­ãŒå®Œå…¨ã«ç©ºã®çŠ¶æ…‹ã¯æœ€å°ã®å¢ƒç•Œå€¤
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ç©ºã®çŠ¶æ…‹ã‹ã‚‰æ­£ç¢ºã«5æšã¾ã§è£œå……ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­0æšã€å±±æœ­10æšã®çŠ¶æ…‹ã§`refillHand()`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: æ‰‹æœ­ãŒå®Œå…¨ã«ç©ºã®ã‚±ãƒ¼ã‚¹ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ã‚¿ãƒ¼ãƒ³é–‹å§‹æ™‚ã‚„ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `deckService.getHand().length === 5`
  - `deckService.getDeck().length === 5`ï¼ˆ10 - 5ï¼‰
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: æ­£ç¢ºã«5æšãŒãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: æ‰‹æœ­ä¸Šé™ã¾ã§è£œå……ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œæ¡ä»¶ã§ã®è£œå……å‡¦ç†ã®ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: ç©ºã®çŠ¶æ…‹ã‹ã‚‰æ­£ã—ãè£œå……ã•ã‚Œã‚‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-16 - ãƒ‡ãƒƒã‚­30æšï¼ˆä¸Šé™ï¼‰ã®çŠ¶æ…‹ã§è¿½åŠ ã‚’è©¦ã¿ã‚‹ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‡ãƒƒã‚­ä¸Šé™30æšã®çŠ¶æ…‹ã§ã‚«ãƒ¼ãƒ‰è¿½åŠ æ™‚ã«ã‚¨ãƒ©ãƒ¼
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ãƒ‡ãƒƒã‚­ã®æœ€å¤§æšæ•°ã¯30æš
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ä¸Šé™ã«é”ã—ã¦ã„ã‚‹å ´åˆã€è¿½åŠ ãŒæ‹’å¦ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - ãƒ‡ãƒƒã‚­30æšã®çŠ¶æ…‹ã§`addCard(toCardId('card-001'))`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: ãƒ‡ãƒƒã‚­ã®æœ€å¤§æšæ•°ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰ç”»é¢ã§ä¸Šé™ã«é”ã—ãŸçŠ¶æ…‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `ApplicationError`ãŒæŠ•ã’ã‚‰ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒ`ErrorCodes.DECK_FULL`
  - ãƒ‡ãƒƒã‚­æšæ•°ãŒ30æšã®ã¾ã¾
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: ä¸Šé™ã‚’è¶…ãˆãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ä¸Šé™ã«é”ã—ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒè¿”ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œæ¡ä»¶ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: ä¸Šé™ãŒæ­£ã—ãå®ˆã‚‰ã‚Œã‚‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-17 - ãƒ‡ãƒƒã‚­29æšã®çŠ¶æ…‹ã§1æšè¿½åŠ ï¼ˆä¸Šé™ç›´å‰ï¼‰ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‡ãƒƒã‚­29æšã®çŠ¶æ…‹ã§1æšè¿½åŠ ã™ã‚‹ã¨30æšã«ãªã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ä¸Šé™ã®1ã¤æ‰‹å‰ã¯å¢ƒç•Œå€¤ã¨ã—ã¦é‡è¦
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ä¸Šé™ã«é”ã™ã‚‹ç›´å‰ã¾ã§è¿½åŠ å¯èƒ½

- **å…¥åŠ›å€¤**:
  - ãƒ‡ãƒƒã‚­29æšã®çŠ¶æ…‹ã§`addCard(toCardId('card-001'))`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: ä¸Šé™ç›´å‰ã®ã‚±ãƒ¼ã‚¹ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ‡ãƒƒã‚­æ§‹ç¯‰ã®æœ€çµ‚æ®µéš

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - ãƒ‡ãƒƒã‚­æšæ•°ãŒ30æšã«ãªã‚‹
  - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: ä¸Šé™ã¡ã‚‡ã†ã©ã¾ã§è¿½åŠ å¯èƒ½
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: å¢ƒç•Œå†…ã§ã¯æ­£å¸¸ã«å‹•ä½œ

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œå€¤ã§ã®æ­£å¸¸å‹•ä½œã®ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: å¢ƒç•Œä»˜è¿‘ã§æ­£ã—ãå‹•ä½œã™ã‚‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã‹ã‚‰æ¨æ¸¬ï¼‰

---

### 6.2 ãƒ‰ãƒ­ãƒ¼æšæ•°ã®å¢ƒç•Œ

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-18 - draw(0)ã‚’å®Ÿè¡Œï¼ˆæœ€å°å€¤ï¼‰ ğŸŸ¡

- **ãƒ†ã‚¹ãƒˆå**: `draw(0)`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ç©ºé…åˆ—ã‚’è¿”ã™
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ãƒ‰ãƒ­ãƒ¼æšæ•°0ã¯æœ€å°ã®å¢ƒç•Œå€¤
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: 0æšæŒ‡å®šã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšã€é©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `draw(0)`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: æœ€å°ã®ãƒ‰ãƒ­ãƒ¼æšæ•°ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒã‚°ã‚„ç‰¹æ®ŠãªåŠ¹æœã«ã‚ˆã‚Š0æšãƒ‰ãƒ­ãƒ¼ãŒæŒ‡å®šã•ã‚Œã‚‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ãŒç©ºé…åˆ— `[]`
  - æ‰‹æœ­ãƒ»å±±æœ­ãŒå¤‰åŒ–ã—ãªã„
  - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: 0æšæŒ‡å®šã§ä½•ã‚‚èµ·ããªã„
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: 0æšãƒ‰ãƒ­ãƒ¼ã¯ç©ºé…åˆ—ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œæ¡ä»¶ã§ã®å‹•ä½œç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: æ¥µç«¯ãªå€¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ï¼ˆè¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ã•ã‚Œã¦ã„ãªã„ãŒã€å¦¥å½“ãªæ¨æ¸¬ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-19 - draw(-1)ã‚’å®Ÿè¡Œï¼ˆè² ã®å€¤ï¼‰ ğŸŸ¡

- **ãƒ†ã‚¹ãƒˆå**: `draw(-1)`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ç©ºé…åˆ—ã‚’è¿”ã™
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: è² ã®å€¤ã¯ä¸æ­£ãªå…¥åŠ›
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ä¸æ­£ãªå€¤ã§ã‚‚å®‰å…¨ã«å‡¦ç†ã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - `draw(-1)`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: ä¸æ­£ãªå€¤ï¼ˆè² ã®å€¤ï¼‰ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒã‚°ã«ã‚ˆã‚Šè² ã®å€¤ãŒæŒ‡å®šã•ã‚Œã‚‹

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - ã‚¨ãƒ©ãƒ¼ãŒæŠ•ã’ã‚‰ã‚Œã‚‹ã€ã¾ãŸã¯ç©ºé…åˆ—ã‚’è¿”ã™
  - æ‰‹æœ­ãƒ»å±±æœ­ãŒå¤‰åŒ–ã—ãªã„
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: è² ã®å€¤ãŒé©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ä¸æ­£ãªå€¤ã¯æ‹’å¦ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ä¸æ­£ãªå…¥åŠ›ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - **å …ç‰¢æ€§ã®ç¢ºèª**: ä¸æ­£ãªå€¤ã§ã‚‚ã‚·ã‚¹ãƒ†ãƒ ãŒå®‰å®šå‹•ä½œã™ã‚‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ï¼ˆè¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ã•ã‚Œã¦ã„ãªã„ãŒã€å¦¥å½“ãªæ¨æ¸¬ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-DECK-20 - å±±æœ­ã‚ˆã‚Šå¤šã„æšæ•°ã‚’ãƒ‰ãƒ­ãƒ¼ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: å±±æœ­ã‚ˆã‚Šå¤šã„æšæ•°ã‚’ãƒ‰ãƒ­ãƒ¼ã™ã‚‹ã¨ã€ãƒ‰ãƒ­ãƒ¼å¯èƒ½ãªæšæ•°ã¾ã§å–å¾—
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: è¦æ±‚æšæ•°ãŒåˆ©ç”¨å¯èƒ½æšæ•°ã‚’è¶…ãˆã‚‹ã‚±ãƒ¼ã‚¹
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: åˆ©ç”¨å¯èƒ½ãªæšæ•°ã¾ã§å–å¾—ã—ã€ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„

- **å…¥åŠ›å€¤**:
  - å±±æœ­3æšã€æ¨ã¦æœ­0æšã®çŠ¶æ…‹ã§`draw(10)`ã‚’å®Ÿè¡Œ
  - **å¢ƒç•Œå€¤é¸æŠã®æ ¹æ‹ **: è¦æ±‚æšæ•°ãŒå±±æœ­ã‚’è¶…ãˆã‚‹ã‚±ãƒ¼ã‚¹ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®ãƒ‰ãƒ­ãƒ¼

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - æˆ»ã‚Šå€¤ã®é…åˆ—é•·ãŒ3ï¼ˆãƒ‰ãƒ­ãƒ¼å¯èƒ½ãªæšæ•°ï¼‰
  - å±±æœ­ãŒ0æšã«ãªã‚‹
  - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: åˆ©ç”¨å¯èƒ½ãªæšæ•°ã¾ã§æ­£ç¢ºã«å–å¾—
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: è¦æ±‚æšæ•°ã‚’è¶…ãˆãŸå ´åˆã€åˆ©ç”¨å¯èƒ½ãªæšæ•°ã¾ã§å–å¾—

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¢ƒç•Œæ¡ä»¶ã§ã®å‹•ä½œç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: è¦æ±‚æšæ•°ã‚’è¶…ãˆã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

## 7. ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### 7.1 ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã®ç¢ºèª

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-EVENT-01 - ãƒ‰ãƒ­ãƒ¼æ™‚ã«CARD_DRAWNã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ãƒ‰ãƒ­ãƒ¼æ™‚ã«`CARD_DRAWN`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: draw()å®Ÿè¡Œæ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: EventBusã‚’ä»‹ã—ã¦`CARD_DRAWN`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«ãƒ‰ãƒ­ãƒ¼ã—ãŸã‚«ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - å±±æœ­10æšã®çŠ¶æ…‹ã§`draw(3)`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é€šå¸¸ã®ãƒ‰ãƒ­ãƒ¼æ“ä½œ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `CARD_DRAWN`ã‚¤ãƒ™ãƒ³ãƒˆãŒ1å›ç™ºè¡Œã•ã‚Œã‚‹
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«`{ cards: Card[] }`ãŒå«ã¾ã‚Œã‚‹
  - ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®cardsã¯3æš
  - **æœŸå¾…çµæœã®ç†ç”±**: ãƒ‰ãƒ­ãƒ¼æ“ä½œã‚’ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„UIã«é€šçŸ¥

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è¨­è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¤ãƒ™ãƒ³ãƒˆãŒé©åˆ‡ã«ç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-EVENT-02 - ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ™‚ã«CARD_PLAYEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ™‚ã«`CARD_PLAYED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: playCard()å®Ÿè¡Œæ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: EventBusã‚’ä»‹ã—ã¦`CARD_PLAYED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«ãƒ—ãƒ¬ã‚¤ã—ãŸã‚«ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã®çŠ¶æ…‹ã§1æšã‚’ãƒ—ãƒ¬ã‚¤
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: é€šå¸¸ã®ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ“ä½œ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `CARD_PLAYED`ã‚¤ãƒ™ãƒ³ãƒˆãŒ1å›ç™ºè¡Œã•ã‚Œã‚‹
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«`{ card: Card }`ãŒå«ã¾ã‚Œã‚‹
  - **æœŸå¾…çµæœã®ç†ç”±**: ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ“ä½œã‚’ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„UIã«é€šçŸ¥

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è¨­è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¤ãƒ™ãƒ³ãƒˆãŒé©åˆ‡ã«ç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-EVENT-03 - æ‰‹æœ­ç ´æ£„æ™‚ã«CARD_DISCARDEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ ğŸ”µ

- **ãƒ†ã‚¹ãƒˆå**: æ‰‹æœ­ç ´æ£„æ™‚ã«`CARD_DISCARDED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: discardHand()å®Ÿè¡Œæ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: EventBusã‚’ä»‹ã—ã¦`CARD_DISCARDED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«ç ´æ£„ã—ãŸã‚«ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­5æšã®çŠ¶æ…‹ã§`discardHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ã‚¿ãƒ¼ãƒ³çµ‚äº†æ™‚ã®æ‰‹æœ­ç ´æ£„

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `CARD_DISCARDED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«`{ cards: Card[] }`ãŒå«ã¾ã‚Œã‚‹
  - ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®cardsã¯5æš
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­ç ´æ£„æ“ä½œã‚’ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„UIã«é€šçŸ¥

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è¨­è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¤ãƒ™ãƒ³ãƒˆãŒé©åˆ‡ã«ç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ï¼‰

---

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: T-EVENT-04 - æ‰‹æœ­è£œå……æ™‚ã«HAND_REFILLEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ ğŸŸ¡

- **ãƒ†ã‚¹ãƒˆå**: æ‰‹æœ­è£œå……æ™‚ã«`HAND_REFILLED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: refillHand()å®Ÿè¡Œæ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: EventBusã‚’ä»‹ã—ã¦`HAND_REFILLED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹

- **å…¥åŠ›å€¤**:
  - æ‰‹æœ­2æšã®çŠ¶æ…‹ã§`refillHand()`ã‚’å®Ÿè¡Œ
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ‰‹æœ­è£œå……æ“ä½œ

- **æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
  - `HAND_REFILLED`ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«è£œå……ã•ã‚ŒãŸæšæ•°ãŒå«ã¾ã‚Œã‚‹ï¼ˆæ¨æ¸¬ï¼‰
  - **æœŸå¾…çµæœã®ç†ç”±**: æ‰‹æœ­è£œå……æ“ä½œã‚’ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚„UIã«é€šçŸ¥

- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è¨­è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¤ãƒ™ãƒ³ãƒˆãŒé©åˆ‡ã«ç™ºè¡Œã•ã‚Œã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹

**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ï¼ˆã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«è¨˜è¼‰ãŒã‚ã‚‹ãŒã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®è©³ç´°ã¯æœªç¢ºå®šï¼‰

---

## 8. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…æ™‚ã®æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆæŒ‡é‡

### 8.1 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹é–‹å§‹æ™‚ã®ã‚³ãƒ¡ãƒ³ãƒˆ

å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè£…æ™‚ã«ã¯ä»¥ä¸‹ã®æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆã‚’å¿…ãšå«ã‚ã¦ãã ã•ã„ï¼š

```typescript
// ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: [ã“ã®ãƒ†ã‚¹ãƒˆã§ä½•ã‚’ç¢ºèªã™ã‚‹ã‹ã‚’æ—¥æœ¬èªã§æ˜è¨˜]
// ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: [å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªå‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ã‚’èª¬æ˜]
// ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: [æ­£å¸¸ã«å‹•ä½œã—ãŸå ´åˆã®çµæœã‚’èª¬æ˜]
// ğŸ”µğŸŸ¡ğŸ”´ ã“ã®å†…å®¹ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’è¨˜è¼‰
```

**ä¾‹**:
```typescript
// ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã«æ¨ã¦æœ­ãŒè‡ªå‹•çš„ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¦å±±æœ­ã«æˆ»ã‚‹ã“ã¨ã‚’ç¢ºèª
// ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: å±±æœ­2æšã€æ¨ã¦æœ­10æšã®çŠ¶æ…‹ã§5æšãƒ‰ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
// ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: æ¨ã¦æœ­ãŒã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¦å±±æœ­ã«æˆ»ã‚Šã€åˆè¨ˆ5æšãŒãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹
// ğŸ”µ ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜
```

### 8.2 Givenï¼ˆæº–å‚™ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: [ãªãœã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã™ã‚‹ã‹ã®ç†ç”±]
// ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: [ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã®çŠ¶æ…‹ã‚’èª¬æ˜]
// ã€å‰ææ¡ä»¶ç¢ºèªã€‘: [ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«å¿…è¦ãªå‰ææ¡ä»¶ã‚’æ˜è¨˜]
```

**ä¾‹**:
```typescript
// ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: å±±æœ­2æšã€æ¨ã¦æœ­10æšã®çŠ¶æ…‹ã‚’ä½œæˆ
// ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®å‹•ä½œã‚’ç¢ºèªã™ã‚‹ãŸã‚ã€å±±æœ­ã‚’æ„å›³çš„ã«å°‘ãªãã™ã‚‹
// ã€å‰ææ¡ä»¶ç¢ºèªã€‘: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã€EventBusãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹
```

### 8.3 Whenï¼ˆå®Ÿè¡Œãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€å®Ÿéš›ã®å‡¦ç†å®Ÿè¡Œã€‘: [ã©ã®æ©Ÿèƒ½/ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã‹ã‚’èª¬æ˜]
// ã€å‡¦ç†å†…å®¹ã€‘: [å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã®å†…å®¹ã‚’æ—¥æœ¬èªã§èª¬æ˜]
// ã€å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘: [ãªãœã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œã™ã‚‹ã‹ã‚’èª¬æ˜]
```

**ä¾‹**:
```typescript
// ã€å®Ÿéš›ã®å‡¦ç†å®Ÿè¡Œã€‘: draw(5)ã‚’å‘¼ã³å‡ºã—ã€5æšã®ãƒ‰ãƒ­ãƒ¼ã‚’è©¦ã¿ã‚‹
// ã€å‡¦ç†å†…å®¹ã€‘: å±±æœ­ã‹ã‚‰2æšå–å¾—å¾Œã€æ¨ã¦æœ­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦å±±æœ­ã«æˆ»ã—ã€æ®‹ã‚Š3æšã‚’å–å¾—
// ã€å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘: åˆæœŸæ¡ä»¶è¨­å®šå¾Œã€çŠ¶æ…‹å¤‰åŒ–å‰ã«å®Ÿè¡Œ
```

### 8.4 Thenï¼ˆæ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€çµæœæ¤œè¨¼ã€‘: [ä½•ã‚’æ¤œè¨¼ã™ã‚‹ã‹ã‚’å…·ä½“çš„ã«èª¬æ˜]
// ã€æœŸå¾…å€¤ç¢ºèªã€‘: [æœŸå¾…ã•ã‚Œã‚‹çµæœã¨ãã®ç†ç”±ã‚’èª¬æ˜]
// ã€å“è³ªä¿è¨¼ã€‘: [ã“ã®æ¤œè¨¼ãŒã‚·ã‚¹ãƒ†ãƒ å“è³ªã«ã©ã†è²¢çŒ®ã™ã‚‹ã‹ã‚’èª¬æ˜]
```

**ä¾‹**:
```typescript
// ã€çµæœæ¤œè¨¼ã€‘: ãƒ‰ãƒ­ãƒ¼ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãŒ5æšã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
// ã€æœŸå¾…å€¤ç¢ºèªã€‘: å±±æœ­2æš + ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã®å±±æœ­ã‹ã‚‰3æš = åˆè¨ˆ5æš
// ã€å“è³ªä¿è¨¼ã€‘: ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã«è‡ªå‹•ãƒªã‚·ãƒ£ãƒƒãƒ•ãƒ«ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼
```

### 8.5 å„expectã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€æ¤œè¨¼é …ç›®ã€‘: [ã“ã®æ¤œè¨¼ã§ç¢ºèªã—ã¦ã„ã‚‹å…·ä½“çš„ãªé …ç›®]
// ğŸ”µğŸŸ¡ğŸ”´ ã“ã®å†…å®¹ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’è¨˜è¼‰

expect(drawnCards.length).toBe(5);
// ã€ç¢ºèªå†…å®¹ã€‘: 5æšå…¨ã¦ãŒãƒ‰ãƒ­ãƒ¼ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

expect(deckService.getDeck().length).toBe(7);
// ã€ç¢ºèªå†…å®¹ã€‘: å±±æœ­ãŒæ¨ã¦æœ­ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã®æ®‹ã‚Šæšæ•°ï¼ˆ10 - 3ï¼‰ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

expect(deckService.getDiscard().length).toBe(0);
// ã€ç¢ºèªå†…å®¹ã€‘: æ¨ã¦æœ­ãŒç©ºã«ãªã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆå…¨ã¦å±±æœ­ã«æˆ»ã£ãŸï¼‰
```

### 8.6 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
beforeEach(() => {
  // ã€ãƒ†ã‚¹ãƒˆå‰æº–å‚™ã€‘: å„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«DeckServiceã‚’åˆæœŸåŒ–
  // ã€ç’°å¢ƒåˆæœŸåŒ–ã€‘: ãƒ¢ãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã¨EventBusã‚’ä½œæˆã—ã€DeckServiceã«æ³¨å…¥
  mockMasterDataRepo = createMockMasterDataRepository();
  eventBus = new EventBus();
  deckService = new DeckService(mockMasterDataRepo, eventBus);
});

afterEach(() => {
  // ã€ãƒ†ã‚¹ãƒˆå¾Œå‡¦ç†ã€‘: ãƒ¢ãƒƒã‚¯ã‚’ã‚¯ãƒªã‚¢
  // ã€çŠ¶æ…‹å¾©å…ƒã€‘: æ¬¡ã®ãƒ†ã‚¹ãƒˆã«å½±éŸ¿ã—ãªã„ã‚ˆã†ã€å…¨ã¦ã®ãƒ¢ãƒƒã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆ
  vi.clearAllMocks();
});
```

---

## 9. è¦ä»¶å®šç¾©ã¨ã®å¯¾å¿œé–¢ä¿‚

### 9.1 å‚ç…§ã—ãŸæ©Ÿèƒ½æ¦‚è¦

- **è¦ä»¶å®šç¾©æ›¸**: `docs/implements/atelier-guild-rank/TASK-0009/card-deck-service-requirements.md`
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 1.1**: æ©Ÿèƒ½ã®ç›®çš„ï¼ˆLine 13-34ï¼‰
  - **å¯¾å¿œé–¢ä¿‚**: Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€DeckServiceã®è²¬å‹™ã‚’ç†è§£ã—ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«åæ˜ 

### 9.2 å‚ç…§ã—ãŸå…¥åŠ›ãƒ»å‡ºåŠ›ä»•æ§˜

- **è¦ä»¶å®šç¾©æ›¸**: `docs/implements/atelier-guild-rank/TASK-0009/card-deck-service-requirements.md`
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.1**: Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆLine 47-67ï¼‰
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.2**: DeckServiceã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆLine 69-99ï¼‰
  - **å¯¾å¿œé–¢ä¿‚**: å„ãƒ¡ã‚½ãƒƒãƒ‰ã®å…¥å‡ºåŠ›ä»•æ§˜ã‚’ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«åæ˜ 

### 9.3 å‚ç…§ã—ãŸåˆ¶ç´„æ¡ä»¶

- **è¦ä»¶å®šç¾©æ›¸**: `docs/implements/atelier-guild-rank/TASK-0009/card-deck-service-requirements.md`
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 3.3**: ãƒ‡ãƒ¼ã‚¿åˆ¶ç´„ï¼ˆLine 172-177ï¼‰
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 3.5**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°åˆ¶ç´„ï¼ˆLine 186-193ï¼‰
  - **å¯¾å¿œé–¢ä¿‚**: æ‰‹æœ­ä¸Šé™5æšã€ãƒ‡ãƒƒã‚­ä¸Šé™30æšã€ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«åæ˜ 

### 9.4 å‚ç…§ã—ãŸä½¿ç”¨ä¾‹

- **è¦ä»¶å®šç¾©æ›¸**: `docs/implements/atelier-guild-rank/TASK-0009/card-deck-service-requirements.md`
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4.1**: åŸºæœ¬çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆLine 209-244ï¼‰
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4.2**: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆLine 246-278ï¼‰
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4.3**: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ï¼ˆLine 280-312ï¼‰
  - **å¯¾å¿œé–¢ä¿‚**: ä½¿ç”¨ä¾‹ã‚’ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å¤‰æ›ã—ã€å®Ÿè£…

### 9.5 å‚ç…§ã—ãŸã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆ

- **ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆ**: `docs/implements/atelier-guild-rank/TASK-0009/note.md`
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4**: è¨­è¨ˆæ–‡æ›¸ï¼ˆLine 117-257ï¼‰
  - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 5**: æ³¨æ„äº‹é …ï¼ˆLine 260-295ï¼‰
  - **å¯¾å¿œé–¢ä¿‚**: Fisher-Yatesã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«åæ˜ 

### 9.6 å‚ç…§ã—ãŸæ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

- **EventBusãƒ†ã‚¹ãƒˆ**: `atelier-guild-rank/tests/unit/application/events/event-bus.test.ts`
  - **å¯¾å¿œé–¢ä¿‚**: ãƒ†ã‚¹ãƒˆæ§‹é€ ã€ãƒ¢ãƒƒã‚¯ä½œæˆã€ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚è€ƒ
- **StateManagerãƒ†ã‚¹ãƒˆ**: `atelier-guild-rank/tests/unit/application/services/state-manager.test.ts`
  - **å¯¾å¿œé–¢ä¿‚**: ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆã®æ§‹é€ ã€ä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚è€ƒ
- **MasterDataRepositoryãƒ†ã‚¹ãƒˆ**: `atelier-guild-rank/tests/unit/infrastructure/repositories/master-data-repository.test.ts`
  - **å¯¾å¿œé–¢ä¿‚**: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½œæˆã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚è€ƒ

---

## 10. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§è¡¨

### 10.1 Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | ä¿¡é ¼æ€§ | å„ªå…ˆåº¦ |
|---------|----------|--------|--------|
| T-CARD-01 | ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§Cardã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ | ğŸ”µ | å¿…é ˆ |
| T-CARD-02 | get name()ã§ã‚«ãƒ¼ãƒ‰åã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-CARD-03 | get type()ã§ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-CARD-04 | get cost()ã§ã‚³ã‚¹ãƒˆã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-CARD-05 | isGatheringCard()ã§æ¡å–åœ°ã‚«ãƒ¼ãƒ‰åˆ¤å®š | ğŸ”µ | å¿…é ˆ |
| T-CARD-06 | isRecipeCard()ã§ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰åˆ¤å®š | ğŸ”µ | å¿…é ˆ |
| T-CARD-07 | isEnhancementCard()ã§å¼·åŒ–ã‚«ãƒ¼ãƒ‰åˆ¤å®š | ğŸ”µ | å¿…é ˆ |
| T-CARD-08 | ç•°ãªã‚‹ç¨®åˆ¥ã®ã‚«ãƒ¼ãƒ‰ã§ã¯å‹ã‚¬ãƒ¼ãƒ‰ãŒfalseã‚’è¿”ã™ | ğŸ”µ | æ¨å¥¨ |

### 10.2 DeckService - æ­£å¸¸ç³»

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | ä¿¡é ¼æ€§ | å„ªå…ˆåº¦ |
|---------|----------|--------|--------|
| T-0009-01 | initialize()ã§åˆæœŸãƒ‡ãƒƒã‚­æ§‹ç¯‰ | ğŸ”µ | å¿…é ˆ |
| T-DECK-01 | reset()ã§çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ | ğŸ”µ | å¿…é ˆ |
| T-0009-02 | shuffle()ã§ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ« | ğŸ”µ | å¿…é ˆ |
| T-0009-03 | draw()ã§æ‰‹æœ­ã«ã‚«ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã‚‹ | ğŸ”µ | å¿…é ˆ |
| T-0009-04 | ãƒ‡ãƒƒã‚­æ¯æ¸‡æ™‚ã®ãƒ‰ãƒ­ãƒ¼ï¼ˆæ¨ã¦æœ­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‰ | ğŸ”µ | å¿…é ˆ |
| T-0009-05 | playCard()ã§æ‰‹æœ­ã‹ã‚‰æ¨ã¦æœ­ã«ç§»å‹• | ğŸ”µ | å¿…é ˆ |
| T-DECK-02 | discardHand()ã§æ‰‹æœ­ã‚’å…¨ã¦æ¨ã¦æœ­ã«ç§»å‹• | ğŸ”µ | å¿…é ˆ |
| T-0009-06 | refillHand()ã§æ‰‹æœ­ã‚’5æšã¾ã§è£œå…… | ğŸ”µ | å¿…é ˆ |
| T-DECK-03 | refillHand()ã§æ‰‹æœ­ãŒæ—¢ã«5æšã®å ´åˆã¯ãƒ‰ãƒ­ãƒ¼ã—ãªã„ | ğŸ”µ | æ¨å¥¨ |
| T-DECK-04 | addCard()ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã«è¿½åŠ  | ğŸ”µ | å¿…é ˆ |
| T-DECK-05 | removeCard()ã§ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒã‚­ã‹ã‚‰å‰Šé™¤ | ğŸ”µ | å¿…é ˆ |
| T-DECK-06 | getDeck()ã§å±±æœ­ã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-DECK-07 | getHand()ã§æ‰‹æœ­ã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-DECK-08 | getDiscard()ã§æ¨ã¦æœ­ã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |
| T-DECK-09 | getHandSize()ã§æ‰‹æœ­æšæ•°ã‚’å–å¾— | ğŸ”µ | å¿…é ˆ |

### 10.3 DeckService - ç•°å¸¸ç³»

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | ä¿¡é ¼æ€§ | å„ªå…ˆåº¦ |
|---------|----------|--------|--------|
| T-DECK-10 | å­˜åœ¨ã—ãªã„ã‚«ãƒ¼ãƒ‰IDã‚’è¿½åŠ æ™‚ã«ã‚¨ãƒ©ãƒ¼ | ğŸ”µ | å¿…é ˆ |
| T-DECK-11 | ãƒ‡ãƒƒã‚­ä¸Šé™è¶…éæ™‚ã«ã‚¨ãƒ©ãƒ¼ | ğŸ”µ | å¿…é ˆ |
| T-DECK-12 | æ‰‹æœ­ã«ãªã„ã‚«ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ¬ã‚¤æ™‚ã«ã‚¨ãƒ©ãƒ¼ | ğŸ”µ | å¿…é ˆ |
| T-DECK-13 | ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æœªèª­ã¿è¾¼ã¿æ™‚ã«ã‚¨ãƒ©ãƒ¼ | ğŸŸ¡ | æ¨å¥¨ |

### 10.4 DeckService - å¢ƒç•Œå€¤

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | ä¿¡é ¼æ€§ | å„ªå…ˆåº¦ |
|---------|----------|--------|--------|
| T-DECK-14 | ãƒ‡ãƒƒã‚­0æšã®çŠ¶æ…‹ã§ãƒ‰ãƒ­ãƒ¼ | ğŸ”µ | å¿…é ˆ |
| T-DECK-15 | æ‰‹æœ­0æšã®çŠ¶æ…‹ã§è£œå…… | ğŸ”µ | å¿…é ˆ |
| T-DECK-16 | ãƒ‡ãƒƒã‚­30æšï¼ˆä¸Šé™ï¼‰ã®çŠ¶æ…‹ã§è¿½åŠ ã‚’è©¦ã¿ã‚‹ | ğŸ”µ | å¿…é ˆ |
| T-DECK-17 | ãƒ‡ãƒƒã‚­29æšã®çŠ¶æ…‹ã§1æšè¿½åŠ ï¼ˆä¸Šé™ç›´å‰ï¼‰ | ğŸ”µ | æ¨å¥¨ |
| T-DECK-18 | draw(0)ã‚’å®Ÿè¡Œï¼ˆæœ€å°å€¤ï¼‰ | ğŸŸ¡ | æ¨å¥¨ |
| T-DECK-19 | draw(-1)ã‚’å®Ÿè¡Œï¼ˆè² ã®å€¤ï¼‰ | ğŸŸ¡ | æ¨å¥¨ |
| T-DECK-20 | å±±æœ­ã‚ˆã‚Šå¤šã„æšæ•°ã‚’ãƒ‰ãƒ­ãƒ¼ | ğŸ”µ | å¿…é ˆ |

### 10.5 ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | ä¿¡é ¼æ€§ | å„ªå…ˆåº¦ |
|---------|----------|--------|--------|
| T-EVENT-01 | ãƒ‰ãƒ­ãƒ¼æ™‚ã«CARD_DRAWNã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | ğŸ”µ | æ¨å¥¨ |
| T-EVENT-02 | ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ™‚ã«CARD_PLAYEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | ğŸ”µ | æ¨å¥¨ |
| T-EVENT-03 | æ‰‹æœ­ç ´æ£„æ™‚ã«CARD_DISCARDEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | ğŸ”µ | æ¨å¥¨ |
| T-EVENT-04 | æ‰‹æœ­è£œå……æ™‚ã«HAND_REFILLEDã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | ğŸŸ¡ | æ¨å¥¨ |

### 10.6 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹çµ±è¨ˆ

| ã‚«ãƒ†ã‚´ãƒª | åˆè¨ˆ | ğŸ”µï¼ˆé’ä¿¡å·ï¼‰ | ğŸŸ¡ï¼ˆé»„ä¿¡å·ï¼‰ | ğŸ”´ï¼ˆèµ¤ä¿¡å·ï¼‰ |
|---------|------|-------------|-------------|-------------|
| Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ | 8 | 8 | 0 | 0 |
| DeckService - æ­£å¸¸ç³» | 15 | 15 | 0 | 0 |
| DeckService - ç•°å¸¸ç³» | 4 | 3 | 1 | 0 |
| DeckService - å¢ƒç•Œå€¤ | 7 | 5 | 2 | 0 |
| ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | 4 | 3 | 1 | 0 |
| **ç·è¨ˆ** | **38** | **34 (89%)** | **4 (11%)** | **0 (0%)** |

---

## 11. å“è³ªåˆ¤å®šçµæœ

### 11.1 åˆ¤å®šåŸºæº–

| é …ç›® | çŠ¶æ…‹ | è©•ä¾¡ |
|------|------|------|
| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ†é¡ | æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ãƒ»å¢ƒç•Œå€¤ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹ | âœ… |
| æœŸå¾…å€¤å®šç¾© | å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æœŸå¾…å€¤ãŒæ˜ç¢º | âœ… |
| æŠ€è¡“é¸æŠ | TypeScript 5.xã€Vitest 4.xã§ç¢ºå®š | âœ… |
| å®Ÿè£…å¯èƒ½æ€§ | ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§å®Ÿç¾å¯èƒ½ | âœ… |
| ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ« | ğŸ”µï¼ˆé’ä¿¡å·ï¼‰ãŒ89%ã€ğŸŸ¡ï¼ˆé»„ä¿¡å·ï¼‰ãŒ11% | âœ… |

### 11.2 ç·åˆè©•ä¾¡

**âœ… é«˜å“è³ª**

- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ†é¡**: æ­£å¸¸ç³»ï¼ˆ15ä»¶ï¼‰ã€ç•°å¸¸ç³»ï¼ˆ4ä»¶ï¼‰ã€å¢ƒç•Œå€¤ï¼ˆ7ä»¶ï¼‰ãŒç¶²ç¾…çš„ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹
- **æœŸå¾…å€¤å®šç¾©**: å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«æœŸå¾…å€¤ã¨æœŸå¾…çµæœã®ç†ç”±ãŒæ˜ç¢ºã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- **æŠ€è¡“é¸æŠ**: TypeScript 5.xã€Vitest 4.xã§ç¢ºå®šã—ã€æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã®ä¸€è²«æ€§ãŒã‚ã‚‹
- **å®Ÿè£…å¯èƒ½æ€§**: æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆEventBusã€StateManagerã€MasterDataRepositoryï¼‰ã‚’å‚è€ƒã«ã—ã¦ãŠã‚Šã€å®Ÿç¾å¯èƒ½æ€§ãŒé«˜ã„
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆé’ä¿¡å·ï¼‰ãŒ89%ã‚’å ã‚ã€è¨­è¨ˆæ–‡æ›¸ãƒ»ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆã«åŸºã¥ã„ãŸä¿¡é ¼æ€§ã®é«˜ã„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©

### 11.3 æ”¹å–„ææ¡ˆ

- **ğŸŸ¡ï¼ˆé»„ä¿¡å·ï¼‰ã®é …ç›®ã«ã¤ã„ã¦**: ä»¥ä¸‹ã®4é …ç›®ã¯è¨­è¨ˆæ–‡æ›¸ã«æ˜è¨˜ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Ÿè£…æ™‚ã«ç¢ºèªãŒå¿…è¦
  - T-DECK-13: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æœªèª­ã¿è¾¼ã¿æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - T-DECK-18: draw(0)ã®å‹•ä½œ
  - T-DECK-19: draw(-1)ã®å‹•ä½œ
  - T-EVENT-04: HAND_REFILLEDã‚¤ãƒ™ãƒ³ãƒˆã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰è©³ç´°

- **æ¨å¥¨å¯¾å¿œ**: ã“ã‚Œã‚‰ã®é …ç›®ã¯å®Ÿè£…æ™‚ã«è¨­è¨ˆåˆ¤æ–­ã‚’è¡Œã„ã€å®Ÿè£…å¾Œã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ç¢ºå®šã•ã›ã‚‹

---

## 12. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 12.1 æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

1. **Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰**: `/tsumiki:tdd-red atelier-guild-rank TASK-0009`
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å…ƒã«ã€å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ
   - å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã§ã€ä»•æ§˜ã‚’æ˜ç¢ºåŒ–

2. **Greenãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå®Ÿè£…ï¼‰**: `/tsumiki:tdd-green atelier-guild-rank TASK-0009`
   - ãƒ†ã‚¹ãƒˆã‚’ãƒ‘ã‚¹ã™ã‚‹æœ€å°é™ã®å®Ÿè£…ã‚’ä½œæˆ
   - Cardã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨DeckServiceã‚’å®Ÿè£…

3. **Refactorãƒ•ã‚§ãƒ¼ã‚ºï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰**: `/tsumiki:tdd-refactor atelier-guild-rank TASK-0009`
   - ãƒ†ã‚¹ãƒˆãŒé€šã‚‹çŠ¶æ…‹ã‚’ä¿ã¡ãªãŒã‚‰ã€ã‚³ãƒ¼ãƒ‰å“è³ªã‚’æ”¹å–„
   - ã‚³ãƒ¼ãƒ‰ã®æ•´ç†ã€æœ€é©åŒ–ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ 

### 12.2 å‚è€ƒã‚³ãƒãƒ³ãƒ‰

```bash
# æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰
/tsumiki:tdd-red atelier-guild-rank TASK-0009

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test atelier-guild-rank/tests/unit/domain/entities/Card.test.ts
pnpm test atelier-guild-rank/tests/unit/application/services/deck-service.test.ts

# ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
pnpm test:coverage
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|----------|---------|
| 2026-01-16 | 1.0.0 | åˆç‰ˆä½œæˆ - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹38ä»¶å®šç¾©å®Œäº† |

---

**ä½œæˆè€…**: Claude Code (ãšã‚“ã ã‚‚ã‚“)
**æ¬¡ã®ãŠå‹§ã‚ã‚¹ãƒ†ãƒƒãƒ—**: `/tsumiki:tdd-red atelier-guild-rank TASK-0009` ã§Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚
