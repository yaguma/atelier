# UI レイアウト設計

## 画面構成

画面1枚のみ。以下の6つのエリアで構成される。

```
┌─────────────────────────────────────────────────────────┐
│                    1. 状態表示エリア                     │
├─────────────────────────────────────────────────────────┤
│                    2. 依頼エリア                         │
├─────────────────────────────────────────────────────────┤
│                    3. 安定度エリア                       │
├─────────────────────────────────────────────────────────┤
│                    4. 手札エリア                         │
├─────────────────────────────────────────────────────────┤
│                    5. アクションエリア                   │
├─────────────────────────────────────────────────────────┤
│                    6. ログエリア                         │
└─────────────────────────────────────────────────────────┘
```

---

## 1. 状態表示エリア

### レイアウト

```
┌─────────────────────────────────────────────────────────┐
│ デッキ: ████████████░░░ 12/15   エネルギー: ★★★☆☆☆☆☆☆☆ 3/10 │
│ ターン: 3                                               │
└─────────────────────────────────────────────────────────┘
```

### 要素

| 要素 | 表示形式 | 更新タイミング |
|------|---------|---------------|
| デッキ残量 | プログレスバー + 数値 | カード使用/補充時 |
| エネルギー | 星マーク + 数値 | カード使用/ターン開始時 |
| ターン数 | 数値 | ターン開始時 |

### 警告表示

- デッキ残量10枚以下: 赤色背景 + 警告アイコン

---

## 2. 依頼エリア

### レイアウト

```
┌───────────────┐ ┌───────────────┐ ┌───────────────┐
│ 依頼1: 回復薬  │ │ 依頼2: 解毒剤  │ │ 依頼3: 魔力薬  │
│ 火 >= 10      │ │ 水 >= 8       │ │ 火 >= 15      │
│               │ │ 火 >= 5       │ │ 品質 >= 3     │
│ 進捗:         │ │ 進捗:         │ │ 進捗:         │
│ 火: ▓▓▓▓▓▓▓░░░│ │ 水: ▓▓▓░░░░░  │ │ 火: ▓░░░░░░░░░│
│     7/10      │ │     3/8       │ │     2/15      │
│               │ │ 火: ▓▓▓▓▓ ✓   │ │ 品: ░░░       │
│               │ │     5/5       │ │     0/3       │
│ [達成まであと3]│ │ [達成まであと5]│ │ [達成まであと16]│
└───────────────┘ └───────────────┘ └───────────────┘
```

### 要素

| 要素 | 表示形式 | 更新タイミング |
|------|---------|---------------|
| 依頼名 | テキスト | 固定 |
| 必要条件 | 属性名 >= 数値 | 固定 |
| 進捗バー | プログレスバー + 数値 | カード使用時 |
| 残り必要値 | 「達成まであとX」 | カード使用時 |

### 状態表示

- 未達成: 通常表示
- 達成済み: 緑色背景 + ✓マーク

---

## 3. 安定度エリア

### レイアウト

```
┌─────────────────────────────────────────────────────────┐
│ 安定度: ████████░░ 8/10  (安全)                         │
└─────────────────────────────────────────────────────────┘
```

### 状態による色分け

| 安定度 | 状態 | 色 |
|--------|------|-----|
| 7-10 | 安全 | 緑 |
| 4-6 | 注意 | 黄 |
| 1-3 | 危険 | 赤 |
| 0以下 | 暴発 | 黒（ゲームオーバー） |

---

## 4. 手札エリア

### レイアウト

```
┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐
│   火の鉱石       │ │  不安定な結晶    │ │    安定剤       │
│                 │ │                 │ │                 │
│   コスト: 1     │ │   コスト: 2     │ │   コスト: 1     │
│   火 +3         │ │   火 +8         │ │   安定 +5       │
│                 │ │   安定 -3 ⚠     │ │                 │
│                 │ │                 │ │                 │
│   [使用]        │ │   [使用]        │ │   [使用]        │
└─────────────────┘ └─────────────────┘ └─────────────────┘
```

### 要素

| 要素 | 表示形式 | 説明 |
|------|---------|------|
| カード名 | テキスト（太字） | カードの名前 |
| コスト | 「コスト: X」 | エネルギー消費量 |
| 効果 | 属性 +X / 安定 +X | カードの効果 |
| 警告 | ⚠マーク | 安定度減少カード |
| 使用ボタン | ボタン | クリックでプレイ |

### 使用不可状態

- エネルギー不足: グレーアウト + 「エネルギー不足」表示
- 安定度不足: グレーアウト + 「暴発の危険」表示

---

## 5. アクションエリア

### レイアウト

```
┌─────────────────────────────────────────────────────────┐
│         [ターン終了]                    [リセット]       │
└─────────────────────────────────────────────────────────┘
```

### ボタン

| ボタン | 動作 |
|--------|------|
| ターン終了 | エネルギー回復、手札補充、次ターンへ |
| リセット | ゲーム初期化、最初からやり直し |

---

## 6. ログエリア

### レイアウト

```
┌─────────────────────────────────────────────────────────┐
│ > ゲーム開始                                            │
│ > 火の鉱石を使用: 火 +3                                 │
│ > デッキ残り: 14枚                                      │
│ > ターン終了: エネルギー 3/10                            │
│ > 不安定な結晶を使用: 火 +8, 安定度 -3                   │
│ > ⚠ 安定度が危険域に！ (5/10)                           │
└─────────────────────────────────────────────────────────┘
```

### 表示内容

- ゲーム開始/終了
- カード使用結果
- デッキ残量変化
- ターン終了情報
- 警告メッセージ
- 依頼達成通知
- ゲームオーバー/勝利メッセージ

---

## メッセージ表示（オーバーレイ）

### 勝利時

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    🎉 全依頼達成！ 🎉                    │
│                                                         │
│                 使用カード: 12枚                         │
│                 残りデッキ: 3枚                          │
│                 ターン数: 8                              │
│                                                         │
│                    [もう一度プレイ]                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 敗北時（在庫切れ）

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    💀 在庫切れ 💀                        │
│                                                         │
│              デッキが空になりました...                    │
│                                                         │
│                 達成依頼: 2/3                            │
│                 使用カード: 15枚                         │
│                                                         │
│                    [もう一度プレイ]                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 敗北時（暴発）

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    💥 暴発！ 💥                          │
│                                                         │
│              安定度が限界を超えました...                  │
│                                                         │
│                 達成依頼: 1/3                            │
│                 残りデッキ: 8枚                          │
│                                                         │
│                    [もう一度プレイ]                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## カラーパレット

| 用途 | カラーコード | 説明 |
|------|-------------|------|
| 背景 | #1a1a2e | ダークブルー |
| カード背景 | #16213e | ネイビー |
| プライマリ | #e94560 | 赤（火属性） |
| セカンダリ | #0f3460 | 青（水属性） |
| 成功 | #00ff88 | 緑（達成） |
| 警告 | #ffc107 | 黄（注意） |
| 危険 | #ff4444 | 赤（危険） |
| テキスト | #ffffff | 白 |

---

## レスポンシブ対応

プロトタイプは固定幅（800px）で実装。
モバイル対応は本格実装時に検討。
