# èª¿åˆãƒ•ã‚§ãƒ¼ã‚º è©³ç´°è¨­è¨ˆ

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ä½œæˆæ—¥**: 2026-01-16
**æ›´æ–°æ—¥**: 2026-01-16
**ãƒ•ã‚§ãƒ¼ã‚ºID**: PHASE-003

---

## 1. æ¦‚è¦

### 1.1 åŸºæœ¬æƒ…å ±

| é …ç›® | å€¤ |
|------|-----|
| **ãƒ•ã‚§ãƒ¼ã‚ºå** | èª¿åˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆAlchemy Phaseï¼‰ |
| **è¦ªç”»é¢** | ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆSCR-002ï¼‰ |
| **è²¬å‹™** | ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ç´ æã‹ã‚‰ã‚¢ã‚¤ãƒ†ãƒ ã‚’èª¿åˆ |
| **å‰ãƒ•ã‚§ãƒ¼ã‚º** | æ¡å–ãƒ•ã‚§ãƒ¼ã‚º |
| **æ¬¡ãƒ•ã‚§ãƒ¼ã‚º** | ç´å“ãƒ•ã‚§ãƒ¼ã‚º |

### 1.2 èª¿åˆã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ ğŸ”µ

ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€æ‰€æŒã—ã¦ã„ã‚‹ç´ æã‚’çµ„ã¿åˆã‚ã›ã¦ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œæˆã™ã‚‹ã€‚ç´ æã®å“è³ªãŒå®Œæˆå“ã®å“è³ªã«å½±éŸ¿ã—ã€å¼·åŒ–ã‚«ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å“è³ªã‚’ã•ã‚‰ã«å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

### 1.3 ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«

- ğŸ”µ **é’ä¿¡å·**: è¦ä»¶å®šç¾©æ›¸ã«è¨˜è¼‰
- ğŸŸ¡ **é»„ä¿¡å·**: è¦ä»¶å®šç¾©æ›¸ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬
- ğŸ”´ **èµ¤ä¿¡å·**: è¦ä»¶å®šç¾©æ›¸ã«ãªã„æ¨æ¸¬

---

## 2. ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ  ğŸ”µ

### 2.1 ãƒ¬ã‚·ãƒ”é¸æŠãƒ»ç´ æé¸æŠç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      èª¿åˆãƒ•ã‚§ãƒ¼ã‚º                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚   é¸æŠä¸­ã®ãƒ¬ã‚·ãƒ”: å›å¾©è–¬                                  â”‚
â”‚   ã‚³ã‚¹ãƒˆ: âš¡1                                             â”‚
â”‚                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ å¿…è¦ç´ æ:                                         â”‚   â”‚
â”‚   â”‚  ğŸŒ¿ è–¬è‰ Ã—2  [âœ“é¸æŠæ¸ˆ] [âœ“é¸æŠæ¸ˆ]                 â”‚   â”‚
â”‚   â”‚  ğŸ’§ æ¸…æ°´ Ã—1  [âœ“é¸æŠæ¸ˆ]                           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼: B                                 â”‚   â”‚
â”‚   â”‚ å±æ€§: æ°´+5                                        â”‚   â”‚
â”‚   â”‚ åŠ¹æœ: HPå›å¾© 30                                   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚   å¼·åŒ–ã‚«ãƒ¼ãƒ‰ä½¿ç”¨:                                         â”‚
â”‚   [ ] è³¢è€…ã®è§¦åª’ï¼ˆå“è³ª+1ãƒ©ãƒ³ã‚¯ï¼‰                         â”‚
â”‚                                                           â”‚
â”‚              [èª¿åˆã™ã‚‹]    [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                   â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ãƒ•ã‚§ãƒ¼ã‚ºã‚’ã‚¹ã‚­ãƒƒãƒ—]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç´ æé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  è–¬è‰ã‚’é¸æŠ (1/2)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚   æ‰€æŒã—ã¦ã„ã‚‹è–¬è‰:                                       â”‚
â”‚                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ğŸŒ¿      â”‚  â”‚ ğŸŒ¿      â”‚  â”‚ ğŸŒ¿      â”‚  â”‚ ğŸŒ¿      â”‚   â”‚
â”‚   â”‚ è–¬è‰    â”‚  â”‚ è–¬è‰    â”‚  â”‚ è–¬è‰    â”‚  â”‚ è–¬è‰    â”‚   â”‚
â”‚   â”‚ (C)     â”‚  â”‚ (C)     â”‚  â”‚ (B)     â”‚  â”‚ (A)     â”‚   â”‚
â”‚   â”‚ [é¸æŠ]  â”‚  â”‚ [é¸æŠ]  â”‚  â”‚ [é¸æŠä¸­]â”‚  â”‚ [é¸æŠ]  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚   é¸æŠä¸­: è–¬è‰(B)                                         â”‚
â”‚   å“è³ªå½±éŸ¿: å¹³å‡å“è³ªãŒCã‹ã‚‰Bã«ä¸Šæ˜‡                        â”‚
â”‚                                                           â”‚
â”‚                  [æ±ºå®š]    [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 èª¿åˆæˆåŠŸç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    èª¿åˆæˆåŠŸï¼                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚                      âœ¨                                   â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                   â”‚  ğŸ’Š   â”‚                               â”‚
â”‚                   â”‚å›å¾©è–¬ â”‚                               â”‚
â”‚                   â”‚ (B)   â”‚                               â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                           â”‚
â”‚   å“è³ª: B                                                 â”‚
â”‚   å±æ€§: æ°´+5                                              â”‚
â”‚   åŠ¹æœ: HPå›å¾© 30                                         â”‚
â”‚                                                           â”‚
â”‚   æ¶ˆè²»ã—ãŸç´ æ:                                           â”‚
â”‚     ğŸŒ¿ è–¬è‰(C) Ã—1                                        â”‚
â”‚     ğŸŒ¿ è–¬è‰(B) Ã—1                                        â”‚
â”‚     ğŸ’§ æ¸…æ°´(C) Ã—1                                        â”‚
â”‚                                                           â”‚
â”‚   æ¶ˆè²»ã‚³ã‚¹ãƒˆ: âš¡1                                         â”‚
â”‚                                                           â”‚
â”‚                       [OK]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 ç´ æä¸è¶³æ™‚ã®è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      èª¿åˆãƒ•ã‚§ãƒ¼ã‚º                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚   é¸æŠä¸­ã®ãƒ¬ã‚·ãƒ”: ä¸‡èƒ½è–¬                                  â”‚
â”‚   ã‚³ã‚¹ãƒˆ: âš¡2                                             â”‚
â”‚                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ å¿…è¦ç´ æ:                                         â”‚   â”‚
â”‚   â”‚  ğŸŒ¿ è–¬è‰ Ã—3  [âœ“é¸æŠæ¸ˆ] [âœ“é¸æŠæ¸ˆ] [æœªé¸æŠ]       â”‚   â”‚
â”‚   â”‚  ğŸ’ é­”çŸ³ Ã—1  [ä¸è¶³ âŒ]                           â”‚   â”‚
â”‚   â”‚  ğŸ’§ æ¸…æ°´ Ã—2  [âœ“é¸æŠæ¸ˆ] [âœ“é¸æŠæ¸ˆ]                â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚   âš  ç´ æãŒä¸è¶³ã—ã¦ã„ã¾ã™: é­”çŸ³ãŒ1å€‹å¿…è¦ã§ã™             â”‚
â”‚                                                           â”‚
â”‚              [èª¿åˆã™ã‚‹]ï¼ˆéæ´»æ€§ï¼‰  [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]           â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´° ğŸ”µ

### 3.1 ãƒ¬ã‚·ãƒ”è©³ç´°ãƒ‘ãƒãƒ« (`recipe-detail`)

#### ãƒ‘ãƒãƒ«æ§‹æˆ

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **å¹…** | 500px | ğŸŸ¡ |
| **èƒŒæ™¯è‰²** | #FFF3E0 | ğŸŸ¡ |
| **æ ç·š** | 2px solid #FF9800 | ğŸŸ¡ |
| **è§’ä¸¸** | 8px | ğŸŸ¡ |

#### ãƒ¬ã‚·ãƒ”ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º

```typescript
interface RecipeDetailProps {
  recipeId: string;
  name: string;              // ãƒ¬ã‚·ãƒ”å
  cost: number;              // è¡Œå‹•ãƒã‚¤ãƒ³ãƒˆã‚³ã‚¹ãƒˆ
  requiredMaterials: RequiredMaterial[];
  resultItem: ItemPreview;
}

interface RequiredMaterial {
  materialType: string;      // ç´ æç¨®é¡
  count: number;             // å¿…è¦æ•°
  selectedMaterials: Material[]; // é¸æŠæ¸ˆã¿ç´ æ
  availableCount: number;    // æ‰€æŒæ•°
}

interface ItemPreview {
  name: string;
  baseQuality: Quality;
  calculatedQuality: Quality; // é¸æŠç´ æã«åŸºã¥ãè¨ˆç®—å“è³ª
  attributes: Attribute[];
  effects: Effect[];
}
```

### 3.2 ç´ æã‚¹ãƒ­ãƒƒãƒˆç¾¤ (`material-slots`)

#### ã‚¹ãƒ­ãƒƒãƒˆæ§‹æˆ

```
ğŸŒ¿ è–¬è‰ Ã—2  [ã‚¹ãƒ­ãƒƒãƒˆ1] [ã‚¹ãƒ­ãƒƒãƒˆ2]
```

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **é…ç½®** | å‚ç›´æ–¹å‘ã€ç´ æç¨®é¡ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ– | ğŸŸ¡ |
| **ã‚¹ãƒ­ãƒƒãƒˆã‚µã‚¤ã‚º** | 60x60px | ğŸŸ¡ |
| **ã‚¹ãƒ­ãƒƒãƒˆé–“éš”** | 8px | ğŸŸ¡ |

#### ã‚¹ãƒ­ãƒƒãƒˆçŠ¶æ…‹

| çŠ¶æ…‹ | è¡¨ç¤º | ä¿¡é ¼æ€§ |
|------|------|--------|
| æœªé¸æŠ | æ ç·šã®ã¿ï¼ˆç‚¹ç·š#CCCCCCï¼‰ã€+ ã‚¢ã‚¤ã‚³ãƒ³ | ğŸŸ¡ |
| é¸æŠæ¸ˆã¿ | ç´ æã‚¢ã‚¤ã‚³ãƒ³ + å“è³ªè¡¨ç¤º + âœ“ãƒãƒ¼ã‚¯ | ğŸŸ¡ |
| ä¸è¶³ | èµ¤æ ç·š + âŒã‚¢ã‚¤ã‚³ãƒ³ | ğŸŸ¡ |
| ãƒ›ãƒãƒ¼ | èƒŒæ™¯ãƒã‚¤ãƒ©ã‚¤ãƒˆ #FFF8E1 | ğŸŸ¡ |

#### rexUIå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ ğŸŸ¡

```typescript
// ç´ æã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ
private createMaterialSlots(required: RequiredMaterial): Phaser.GameObjects.Container {
  const container = this.scene.add.container(0, 0);

  // ç´ æåãƒ©ãƒ™ãƒ«
  const label = this.createLabel(`${required.materialType} Ã—${required.count}`);
  container.add(label);

  // ã‚¹ãƒ­ãƒƒãƒˆç¾¤
  const slotsContainer = this.rexUI.add.sizer({
    orientation: 'x',
    space: { item: 8 },
  });

  for (let i = 0; i < required.count; i++) {
    const slot = this.createMaterialSlot(required, i);
    slotsContainer.add(slot);
  }

  container.add(slotsContainer);
  return container;
}
```

### 3.3 å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ« (`quality-preview`)

#### ãƒ‘ãƒãƒ«æ§‹æˆ

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **å¹…** | 400px | ğŸŸ¡ |
| **èƒŒæ™¯è‰²** | #E3F2FD | ğŸŸ¡ |
| **æ ç·š** | 2px solid #2196F3 | ğŸŸ¡ |

#### è¡¨ç¤ºå†…å®¹

```typescript
interface QualityPreviewProps {
  previewQuality: Quality;   // è¨ˆç®—ã•ã‚ŒãŸå“è³ª
  qualitySource: string;     // å“è³ªè¨ˆç®—ã®èª¬æ˜
  attributes: { name: string; value: number }[];
  effects: { name: string; description: string }[];
  isComplete: boolean;       // å…¨ç´ æé¸æŠæ¸ˆã¿ã‹
}
```

#### å“è³ªè¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ«

| å“è³ª | è‰² | è¿½åŠ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ | ä¿¡é ¼æ€§ |
|------|-----|--------------|--------|
| C | #9E9E9Eï¼ˆã‚°ãƒ¬ãƒ¼ï¼‰ | ãªã— | ğŸŸ¡ |
| B | #4CAF50ï¼ˆç·‘ï¼‰ | ãªã— | ğŸŸ¡ |
| A | #2196F3ï¼ˆé’ï¼‰ | è»½ã„ã‚°ãƒ­ãƒ¼ | ğŸŸ¡ |
| S | #FFD700ï¼ˆé‡‘ï¼‰ | ã‚­ãƒ©ã‚­ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ | ğŸŸ¡ |

### 3.4 å¼·åŒ–ã‚«ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ (`enhancement-checkboxes`)

```
å¼·åŒ–ã‚«ãƒ¼ãƒ‰ä½¿ç”¨:
[âœ“] è³¢è€…ã®è§¦åª’ï¼ˆå“è³ª+1ãƒ©ãƒ³ã‚¯ï¼‰
[ ] ç²¾éœŠã®ç¥ç¦ï¼ˆå±æ€§å€¤+3ï¼‰
```

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **é…ç½®** | å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ä¸‹ | ğŸŸ¡ |
| **ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚µã‚¤ã‚º** | 24x24px | ğŸŸ¡ |
| **ãƒ©ãƒ™ãƒ«ãƒ•ã‚©ãƒ³ãƒˆ** | æ¸¸ã‚´ã‚·ãƒƒã‚¯, 14px | ğŸŸ¡ |

#### å¼·åŒ–ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿

```typescript
interface EnhancementCheckboxProps {
  cardId: string;
  cardName: string;
  effectDescription: string;
  isChecked: boolean;
  isDisabled: boolean;       // ä½¿ç”¨æ¡ä»¶ã‚’æº€ãŸã•ãªã„å ´åˆ
  disabledReason?: string;
}
```

### 3.5 ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤

#### èª¿åˆãƒœã‚¿ãƒ³ (`btn-craft`)

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **ç¨®é¡** | ãƒ—ãƒ©ã‚¤ãƒãƒªãƒœã‚¿ãƒ³ | ğŸ”µ |
| **å¹…** | 140px | ğŸŸ¡ |
| **é«˜ã•** | 48px | ğŸŸ¡ |
| **èƒŒæ™¯è‰²ï¼ˆæœ‰åŠ¹æ™‚ï¼‰** | #FF9800 | ğŸŸ¡ |
| **èƒŒæ™¯è‰²ï¼ˆç„¡åŠ¹æ™‚ï¼‰** | #BDBDBD | ğŸŸ¡ |
| **ãƒ†ã‚­ã‚¹ãƒˆ** | ã€Œèª¿åˆã™ã‚‹ã€| ğŸ”µ |

#### æœ‰åŠ¹æ¡ä»¶

```typescript
get canCraft(): boolean {
  return (
    this.allMaterialsSelected &&
    this.hasEnoughActionPoints &&
    !this.isCrafting
  );
}
```

#### ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ (`btn-cancel`)

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | å€¤ | ä¿¡é ¼æ€§ |
|-----------|-----|--------|
| **ç¨®é¡** | ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒœã‚¿ãƒ³ | ğŸ”µ |
| **ãƒ†ã‚­ã‚¹ãƒˆ** | ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€| ğŸ”µ |

---

## 4. çŠ¶æ…‹é·ç§» ğŸ”µ

### 4.1 çŠ¶æ…‹é·ç§»å›³

```mermaid
stateDiagram-v2
    [*] --> HandView: ãƒ•ã‚§ãƒ¼ã‚ºé–‹å§‹

    HandView --> RecipeSelected: ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰é¸æŠ
    HandView --> NextPhase: ãƒ•ã‚§ãƒ¼ã‚ºã‚¹ã‚­ãƒƒãƒ—

    RecipeSelected --> MaterialSlotFocus: ç´ æã‚¹ãƒ­ãƒƒãƒˆã‚¯ãƒªãƒƒã‚¯

    MaterialSlotFocus --> MaterialSelectDialog: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º

    state MaterialSelectDialog {
        [*] --> Browsing
        Browsing --> MaterialHover: ç´ æãƒ›ãƒãƒ¼
        MaterialHover --> Browsing: ãƒ›ãƒãƒ¼è§£é™¤
        Browsing --> Selected: ç´ æã‚¯ãƒªãƒƒã‚¯
        Selected --> [*]: æ±ºå®š
    }

    MaterialSelectDialog --> RecipeSelected: ç´ æé¸æŠå®Œäº†
    MaterialSelectDialog --> RecipeSelected: ã‚­ãƒ£ãƒ³ã‚»ãƒ«

    RecipeSelected --> EnhancementToggle: å¼·åŒ–ã‚«ãƒ¼ãƒ‰ãƒˆã‚°ãƒ«
    EnhancementToggle --> RecipeSelected: ãƒˆã‚°ãƒ«å®Œäº†

    RecipeSelected --> QualityPreviewUpdate: ç´ æ/å¼·åŒ–å¤‰æ›´
    QualityPreviewUpdate --> RecipeSelected: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°å®Œäº†

    RecipeSelected --> Crafting: èª¿åˆãƒœã‚¿ãƒ³æŠ¼ä¸‹

    Crafting --> CraftAnimation: èª¿åˆå‡¦ç†é–‹å§‹
    CraftAnimation --> CraftResult: èª¿åˆæˆåŠŸ

    CraftResult --> HandView: OKæŠ¼ä¸‹
    CraftResult --> NextPhase: è¡Œå‹•ãƒã‚¤ãƒ³ãƒˆ0

    RecipeSelected --> HandView: ã‚­ãƒ£ãƒ³ã‚»ãƒ«

    HandView --> NextPhase: æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸ãƒœã‚¿ãƒ³

    NextPhase --> [*]: ç´å“ãƒ•ã‚§ãƒ¼ã‚ºã¸
```

### 4.2 çŠ¶æ…‹å®šç¾©

| çŠ¶æ…‹ | èª¬æ˜ | UIè¡¨ç¤º |
|------|------|--------|
| `HandView` | æ‰‹æœ­è¡¨ç¤ºä¸­ã€ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰é¸æŠå¾…ã¡ | æ‰‹æœ­ã‚«ãƒ¼ãƒ‰è¡¨ç¤º |
| `RecipeSelected` | ãƒ¬ã‚·ãƒ”é¸æŠæ¸ˆã¿ã€ç´ æé¸æŠä¸­ | ãƒ¬ã‚·ãƒ”è©³ç´°ãƒ‘ãƒãƒ«è¡¨ç¤º |
| `MaterialSlotFocus` | ç´ æã‚¹ãƒ­ãƒƒãƒˆã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ | ã‚¹ãƒ­ãƒƒãƒˆãƒã‚¤ãƒ©ã‚¤ãƒˆ |
| `MaterialSelectDialog` | ç´ æé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºä¸­ | ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `EnhancementToggle` | å¼·åŒ–ã‚«ãƒ¼ãƒ‰ã®ã‚ªãƒ³/ã‚ªãƒ•åˆ‡æ›¿ä¸­ | ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹å¤‰åŒ– |
| `QualityPreviewUpdate` | å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°ä¸­ | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†è¨ˆç®— |
| `Crafting` | èª¿åˆå‡¦ç†å®Ÿè¡Œä¸­ | ãƒœã‚¿ãƒ³éæ´»æ€§ã€å‡¦ç†ä¸­è¡¨ç¤º |
| `CraftAnimation` | èª¿åˆæ¼”å‡ºå†ç”Ÿä¸­ | ã‚¨ãƒ•ã‚§ã‚¯ãƒˆå†ç”Ÿ |
| `CraftResult` | èª¿åˆçµæœè¡¨ç¤ºä¸­ | çµæœãƒ‘ãƒãƒ«è¡¨ç¤º |
| `NextPhase` | æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸é·ç§»ä¸­ | ãƒ•ã‚§ãƒ¼ãƒ‰æ¼”å‡º |

---

## 5. ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´° ğŸ”µ

### 5.1 å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ

| ã‚¤ãƒ™ãƒ³ãƒˆå | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç†å†…å®¹ | ä¿¡é ¼æ€§ |
|-----------|----------|----------|--------|
| `OnRecipeCardSelected` | ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ | ãƒ¬ã‚·ãƒ”è©³ç´°è¡¨ç¤º | ğŸ”µ |
| `OnMaterialSlotClicked` | ç´ æã‚¹ãƒ­ãƒƒãƒˆã‚¯ãƒªãƒƒã‚¯ | ç´ æé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | ğŸ”µ |
| `OnMaterialSelected` | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç´ æé¸æŠ | ã‚¹ãƒ­ãƒƒãƒˆã«ç´ æè¨­å®šã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–° | ğŸ”µ |
| `OnEnhancementToggled` | å¼·åŒ–ã‚«ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–° | ğŸ”µ |
| `OnCraftClicked` | èª¿åˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | èª¿åˆå‡¦ç†å®Ÿè¡Œ | ğŸ”µ |
| `OnCancelClicked` | ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³/ESC | ãƒ¬ã‚·ãƒ”é¸æŠè§£é™¤ | ğŸ”µ |

### 5.2 ãƒ“ã‚¸ãƒã‚¹ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆEventBusï¼‰

| ã‚¤ãƒ™ãƒ³ãƒˆå | ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ | ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ä¿¡é ¼æ€§ |
|-----------|-----------|---------------|--------|
| `RECIPE_SELECTED` | `{ recipeId }` | ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰é¸æŠæ™‚ | ğŸ”µ |
| `MATERIAL_SLOT_UPDATED` | `{ slotIndex, materialId }` | ç´ æã‚¹ãƒ­ãƒƒãƒˆæ›´æ–°æ™‚ | ğŸŸ¡ |
| `QUALITY_PREVIEW_CHANGED` | `{ previewQuality, attributes }` | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¤‰æ›´æ™‚ | ğŸŸ¡ |
| `CRAFT_STARTED` | `{ recipeId, materials, enhancements }` | èª¿åˆé–‹å§‹æ™‚ | ğŸ”µ |
| `CRAFT_COMPLETED` | `{ itemId, quality, consumedMaterials }` | èª¿åˆå®Œäº†æ™‚ | ğŸ”µ |
| `ACTION_POINTS_CONSUMED` | `{ consumed, remaining }` | è¡Œå‹•ãƒã‚¤ãƒ³ãƒˆæ¶ˆè²»æ™‚ | ğŸ”µ |
| `PHASE_TRANSITION_REQUESTED` | `{ from: 'alchemy', to: 'delivery' }` | æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ | ğŸ”µ |

### 5.3 å“è³ªè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ ğŸ”µ

```typescript
// AlchemyService.ts
export class AlchemyService {
  /**
   * å®Œæˆå“ã®å“è³ªã‚’è¨ˆç®—
   * å“è³ªè¨ˆç®—å¼: é¸æŠã—ãŸç´ æã®å“è³ªã®å¹³å‡ï¼ˆå››æ¨äº”å…¥ï¼‰
   * å¼·åŒ–ã‚«ãƒ¼ãƒ‰åŠ¹æœã¯æœ€å¾Œã«é©ç”¨
   */
  calculateQuality(
    selectedMaterials: Material[],
    enhancements: EnhancementCard[]
  ): Quality {
    // ç´ æå“è³ªã®å¹³å‡ã‚’è¨ˆç®—
    const qualityValues = selectedMaterials.map(m => this.qualityToNumber(m.quality));
    const average = qualityValues.reduce((a, b) => a + b, 0) / qualityValues.length;
    let resultQuality = this.numberToQuality(Math.round(average));

    // å¼·åŒ–ã‚«ãƒ¼ãƒ‰åŠ¹æœã‚’é©ç”¨
    for (const enhancement of enhancements) {
      if (enhancement.effectType === 'quality_up') {
        resultQuality = this.upgradeQuality(resultQuality, enhancement.value);
      }
    }

    return resultQuality;
  }

  private qualityToNumber(quality: Quality): number {
    const map = { C: 1, B: 2, A: 3, S: 4 };
    return map[quality];
  }

  private numberToQuality(value: number): Quality {
    if (value <= 1) return 'C';
    if (value <= 2) return 'B';
    if (value <= 3) return 'A';
    return 'S';
  }

  private upgradeQuality(quality: Quality, levels: number): Quality {
    const order: Quality[] = ['C', 'B', 'A', 'S'];
    const currentIndex = order.indexOf(quality);
    const newIndex = Math.min(currentIndex + levels, order.length - 1);
    return order[newIndex];
  }
}
```

### 5.4 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©å®Ÿè£… ğŸŸ¡

```typescript
// AlchemyContainer.ts
export class AlchemyContainer extends BasePhaseContainer {
  private selectedRecipe: Recipe | null = null;
  private materialSlots: Map<number, Material> = new Map();
  private activeEnhancements: Set<string> = new Set();

  private async handleCraft(): Promise<void> {
    if (!this.canCraft) return;

    this.setState('Crafting');

    const materials = Array.from(this.materialSlots.values());
    const enhancements = Array.from(this.activeEnhancements)
      .map(id => this.getEnhancementCard(id));

    this.eventBus.emit('CRAFT_STARTED', {
      recipeId: this.selectedRecipe.id,
      materials: materials.map(m => m.id),
      enhancements: enhancements.map(e => e.id),
    });

    // èª¿åˆå®Ÿè¡Œ
    const result = await this.craftItemUseCase.execute({
      recipeId: this.selectedRecipe.id,
      materialIds: materials.map(m => m.id),
      enhancementIds: enhancements.map(e => e.id),
    });

    if (result.success) {
      await this.playCraftAnimation(result.item);

      this.eventBus.emit('CRAFT_COMPLETED', {
        itemId: result.item.id,
        quality: result.item.quality,
        consumedMaterials: materials,
      });

      await this.showCraftResult(result.item);
    }

    this.setState('HandView');
  }

  private updateQualityPreview(): void {
    if (!this.selectedRecipe || this.materialSlots.size === 0) {
      this.qualityPreviewPanel.showEmpty();
      return;
    }

    const materials = Array.from(this.materialSlots.values());
    const enhancements = Array.from(this.activeEnhancements)
      .map(id => this.getEnhancementCard(id));

    const previewQuality = this.alchemyService.calculateQuality(
      materials,
      enhancements
    );

    const attributes = this.alchemyService.calculateAttributes(
      this.selectedRecipe,
      materials,
      enhancements
    );

    this.qualityPreviewPanel.update({
      quality: previewQuality,
      attributes,
      isComplete: this.allMaterialsSelected,
    });

    this.eventBus.emit('QUALITY_PREVIEW_CHANGED', {
      previewQuality,
      attributes,
    });
  }
}
```

---

## 6. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´° ğŸŸ¡

### 6.1 ãƒ¬ã‚·ãƒ”é¸æŠã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | é–‹å§‹å€¤ | çµ‚äº†å€¤ | æ™‚é–“ | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
|-----------|-------|-------|------|-----------|
| ã‚«ãƒ¼ãƒ‰scale | 1.0 | 1.05 | 150ms | Quad.Out |
| ã‚«ãƒ¼ãƒ‰y | 0 | -10 | 150ms | Quad.Out |
| ãƒ‘ãƒãƒ«alpha | 0 | 1 | 200ms | Quad.Out |
| ãƒ‘ãƒãƒ«y | +30 | 0 | 200ms | Back.Out |

### 6.2 ç´ æé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | é–‹å§‹å€¤ | çµ‚äº†å€¤ | æ™‚é–“ | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
|-----------|-------|-------|------|-----------|
| ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤alpha | 0 | 0.5 | 200ms | Linear |
| ãƒ€ã‚¤ã‚¢ãƒ­ã‚°scale | 0.9 | 1.0 | 250ms | Back.Out |
| ãƒ€ã‚¤ã‚¢ãƒ­ã‚°alpha | 0 | 1 | 200ms | Quad.Out |

### 6.3 å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

```typescript
private async playQualityUpdateAnimation(
  oldQuality: Quality,
  newQuality: Quality
): Promise<void> {
  // å“è³ªãŒå¤‰åŒ–ã—ãŸå ´åˆã®ã¿ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  if (oldQuality === newQuality) return;

  const qualityText = this.qualityPreviewPanel.qualityText;

  // ãƒ‘ãƒ«ã‚¹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
  await this.tweens.add({
    targets: qualityText,
    scale: { from: 1.0, to: 1.2 },
    duration: 150,
    ease: 'Quad.Out',
    yoyo: true,
  }).toPromise();

  // å“è³ªã‚¢ãƒƒãƒ—ã®å ´åˆã¯ã‚­ãƒ©ã‚­ãƒ©
  if (this.isQualityUpgrade(oldQuality, newQuality)) {
    this.playSparkleEffect(qualityText.x, qualityText.y);
  }
}
```

### 6.4 èª¿åˆæˆåŠŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

```typescript
private async playCraftAnimation(item: Item): Promise<void> {
  // 1. ç´ æãŒä¸­å¤®ã«é›†ã¾ã‚‹
  const slots = this.getMaterialSlotViews();
  const centerX = this.scene.cameras.main.centerX;
  const centerY = this.scene.cameras.main.centerY;

  await Promise.all(
    slots.map(slot =>
      this.tweens.add({
        targets: slot,
        x: centerX,
        y: centerY,
        alpha: 0,
        scale: 0.5,
        duration: 400,
        ease: 'Quad.In',
      }).toPromise()
    )
  );

  // 2. å…‰ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
  const light = this.scene.add.sprite(centerX, centerY, 'light-burst');
  light.setScale(0);
  light.setAlpha(0);

  await this.tweens.add({
    targets: light,
    scale: 2,
    alpha: { from: 0, to: 1 },
    duration: 300,
    ease: 'Quad.Out',
  }).toPromise();

  // 3. å®Œæˆå“å‡ºç¾
  const itemSprite = this.createItemSprite(item);
  itemSprite.setScale(0);

  await Promise.all([
    this.tweens.add({
      targets: light,
      alpha: 0,
      duration: 200,
    }).toPromise(),
    this.tweens.add({
      targets: itemSprite,
      scale: { from: 0, to: 1 },
      duration: 400,
      ease: 'Back.Out',
    }).toPromise(),
  ]);

  // 4. å“è³ªã«å¿œã˜ãŸè¿½åŠ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
  if (item.quality === 'S') {
    this.playRainbowEffect(centerX, centerY);
  } else if (item.quality === 'A') {
    this.playSparkleEffect(centerX, centerY);
  }

  // 5. SEå†ç”Ÿ
  this.scene.sound.play('craft-success', {
    volume: 0.5,
  });
}
```

### 6.5 èª¿åˆå¤±æ•—/ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ | é–‹å§‹å€¤ | çµ‚äº†å€¤ | æ™‚é–“ | ã‚¤ãƒ¼ã‚¸ãƒ³ã‚° |
|-----------|-------|-------|------|-----------|
| ãƒ‘ãƒãƒ«alpha | 1.0 | 0 | 200ms | Quad.In |
| ãƒ‘ãƒãƒ«y | 0 | +20 | 200ms | Quad.In |

---

## 7. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« ğŸ”µ

### 7.1 ãƒ¬ã‚·ãƒ”ãƒ‡ãƒ¼ã‚¿

```typescript
interface Recipe {
  id: string;
  name: string;
  cost: number;              // è¡Œå‹•ãƒã‚¤ãƒ³ãƒˆã‚³ã‚¹ãƒˆ
  requiredMaterials: {
    materialType: string;    // ç´ æç¨®é¡
    count: number;           // å¿…è¦æ•°
  }[];
  resultItemId: string;      // å®Œæˆå“ID
  baseQuality: Quality;      // åŸºæœ¬å“è³ª
  tags: string[];            // ã‚¿ã‚°ï¼ˆè–¬ã€æ­¦å™¨ã€etc.ï¼‰
  category: string;          // ã‚«ãƒ†ã‚´ãƒª
}
```

### 7.2 èª¿åˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿

```typescript
interface AlchemySession {
  recipeId: string;
  materialSlots: {
    index: number;
    requiredType: string;
    selectedMaterial: Material | null;
  }[];
  activeEnhancements: string[];
  previewQuality: Quality;
  previewAttributes: Attribute[];
  canCraft: boolean;
}
```

### 7.3 èª¿åˆçµæœãƒ‡ãƒ¼ã‚¿

```typescript
interface CraftResult {
  success: boolean;
  item?: Item;
  consumedMaterials: Material[];
  consumedEnhancements: string[];
  consumedActionPoints: number;
  errorMessage?: string;
}
```

---

## 8. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ ğŸŸ¡

### 8.1 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

| ã‚­ãƒ¼ | å‹•ä½œ | ä¿¡é ¼æ€§ |
|------|------|--------|
| `Tab` | ç´ æã‚¹ãƒ­ãƒƒãƒˆé–“ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹• | ğŸŸ¡ |
| `Enter` | é¸æŠä¸­ã‚¹ãƒ­ãƒƒãƒˆã®ç´ æé¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã / èª¿åˆå®Ÿè¡Œ | ğŸŸ¡ |
| `Space` | å¼·åŒ–ã‚«ãƒ¼ãƒ‰ã®ãƒˆã‚°ãƒ« | ğŸŸ¡ |
| `Escape` | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹ / ã‚­ãƒ£ãƒ³ã‚»ãƒ« | ğŸŸ¡ |
| `C` | èª¿åˆå®Ÿè¡Œï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰ | ğŸŸ¡ |

### 8.2 ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é †åº

1. ãƒ¬ã‚·ãƒ”æƒ…å ±ã‚¨ãƒªã‚¢
2. ç´ æã‚¹ãƒ­ãƒƒãƒˆç¾¤ï¼ˆä¸Šã‹ã‚‰ä¸‹ã€å·¦ã‹ã‚‰å³ï¼‰
3. å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«
4. å¼·åŒ–ã‚«ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç¾¤
5. èª¿åˆãƒœã‚¿ãƒ³
6. ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³

### 8.3 ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

```typescript
// å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°æ™‚ã®èª­ã¿ä¸Šã’
this.qualityPreviewPanel.setAccessibility({
  role: 'status',
  live: 'polite',
  label: `å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼: ${previewQuality}ã€‚${effectDescription}`,
});
```

---

## 9. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° ğŸŸ¡

### 9.1 ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | å¯¾å‡¦ |
|--------|------|------|
| ç´ æä¸è¶³ | å¿…è¦ãªç´ æãŒè¶³ã‚Šãªã„ | ã‚¹ãƒ­ãƒƒãƒˆã«âŒè¡¨ç¤ºã€èª¿åˆãƒœã‚¿ãƒ³éæ´»æ€§ |
| è¡Œå‹•ãƒã‚¤ãƒ³ãƒˆä¸è¶³ | èª¿åˆã«å¿…è¦ãªãƒã‚¤ãƒ³ãƒˆãŒãªã„ | èª¿åˆãƒœã‚¿ãƒ³éæ´»æ€§ + è­¦å‘Šè¡¨ç¤º |
| ä¿ç®¡æ ä¸è¶³ | å®Œæˆå“ã‚’ä¿ç®¡ã™ã‚‹æ ãŒãªã„ | è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |
| èª¿åˆå‡¦ç†ã‚¨ãƒ©ãƒ¼ | ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ç­‰ | Toastè¡¨ç¤ºã€Œèª¿åˆã«å¤±æ•—ã—ã¾ã—ãŸã€ |

### 9.2 ç´ æä¸è¶³æ™‚ã®è¡¨ç¤º

```typescript
// ä¸è¶³ã—ã¦ã„ã‚‹ç´ æãŒã‚ã‚‹ã‚¹ãƒ­ãƒƒãƒˆã®è¡¨ç¤º
private renderInsufficientSlot(
  slot: MaterialSlot,
  available: number,
  required: number
): void {
  slot.setStyle({
    borderColor: '#F44336',
    borderWidth: 2,
  });

  slot.setIcon('âŒ');
  slot.setTooltip(`ä¸è¶³: ${required - available}å€‹å¿…è¦`);
}
```

---

## 10. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…® ğŸŸ¡

### 10.1 æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ

| é …ç›® | å¯¾ç­– |
|------|------|
| å“è³ªè¨ˆç®— | å¤‰æ›´ãŒã‚ã£ãŸæ™‚ã®ã¿å†è¨ˆç®— |
| ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | é…å»¶èª­ã¿è¾¼ã¿ã€å¿…è¦æ™‚ã®ã¿ç”Ÿæˆ |
| ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ | ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãƒ—ãƒ¼ãƒ«ä½¿ç”¨ |
| ç´ æä¸€è¦§ | ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆå¤§é‡ç´ æå¯¾å¿œï¼‰ |

### 10.2 ç›®æ¨™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

| æŒ‡æ¨™ | ç›®æ¨™å€¤ |
|------|--------|
| å“è³ªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–° | < 50ms |
| ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | < 200ms |
| èª¿åˆæ¼”å‡ºå®Œäº† | < 1500ms |
| ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | < 12MBï¼ˆãƒ•ã‚§ãƒ¼ã‚ºå˜ä½“ï¼‰ |

---

## é–¢é€£æ–‡æ›¸

- **ãƒ¡ã‚¤ãƒ³ç”»é¢æ¦‚è¦**: [main.md](./main.md)
- **å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: [common-components.md](./common-components.md)
- **ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ï¼ˆèª¿åˆï¼‰**: [../../game-mechanics.md](../../game-mechanics.md)
- **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ**: [../../dataflow.md](../../dataflow.md)

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|----------|---------|
| 2026-01-16 | 1.0.0 | main.mdã‹ã‚‰åˆ†å‰²ã€è©³ç´°åŒ– |
